<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>新鲜韭菜玩币总结</title>
      <link href="/2025/06/27/%E6%96%B0%E9%B2%9C%E9%9F%AD%E8%8F%9C%E7%8E%A9%E5%B8%81%E6%80%BB%E7%BB%93/"/>
      <url>/2025/06/27/%E6%96%B0%E9%B2%9C%E9%9F%AD%E8%8F%9C%E7%8E%A9%E5%B8%81%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<p>c2c购买U教程：<a href="https://www.youtube.com/watch?v=WsiRZC2tcBs">https://www.youtube.com/watch?v=WsiRZC2tcBs</a><br>思维导图路径：<a href="https://www.processon.com/mindmap/6794f041f6a6d65b4bfe2933">https://www.processon.com/mindmap/6794f041f6a6d65b4bfe2933</a><br><img src="https://pic.shenxing.win/i/3cdf4f42-cdd7-49d4-8df6-1bb826a6a229.jpg" alt="image"></p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Cloudflare的WARP-MASQUE加密协议永久免费VPN</title>
      <link href="/2025/05/16/Cloudflare%E7%9A%84WARP-MASQUE%E5%8A%A0%E5%AF%86%E5%8D%8F%E8%AE%AE%E6%B0%B8%E4%B9%85%E5%85%8D%E8%B4%B9VPN/"/>
      <url>/2025/05/16/Cloudflare%E7%9A%84WARP-MASQUE%E5%8A%A0%E5%AF%86%E5%8D%8F%E8%AE%AE%E6%B0%B8%E4%B9%85%E5%85%8D%E8%B4%B9VPN/</url>
      
        <content type="html"><![CDATA[<h1 id="前序"><a href="#前序" class="headerlink" title="前序"></a>前序</h1><p>大名鼎鼎的Cloudflare成立于2009年，专注于提供各种网络服务，以增强网站的性能和安全性，现在已经是全球领先的内容分发网络(CDN)、云服务和网站安全解决方案提供商之一。<br>而本文的主角 WARP 是 Cloudflare 公司推出的可以用来保护使用者隐私的一款服务。WARP基于wireguard协议，使用UDP来传输数据，这也就意味着在公网中的高QOS，但是WARP的IP相对比较干净，对外访问网络的出口 IP 被很多网站视为真实用户，可以用来解锁流媒体、谷歌学术等。<br>Zero Trust，俗称team，是由Cloudflare推出的面向团队的VPN服务，由于其登录1.1.1.1可以获得无限流量，不需要再通过刷邀请流量的方式来获得WARP+流量。</p><blockquote><p>MASQUE（Media Application Substrate for QUIC Encryption）是基于 QUIC 的隧道技术，与 HTTP&#x2F;3 使用相同的协议、端口，相比与目前 warp 使用的 wireguard 协议更难被阻断。与 wireguard 相同的是，底层基于 udp 设计，不同的是 MASQUE 使用标准的 443 端口，而非 wireguard 的 51820，运营商及监管机构的访问控制设备还无法做出快速调整和响应的前提下，改用 MASQUE 的 warp 得以顽强复活。但是，排除 GFW 更新，即便是边缘网络安全负责人，也不会允许类似流量从此畅通无阻。<br>MASQUE（Media Application Substrate for QUIC Encryption） 同样基于 udp，使用并扩展了 HTTP&#x2F;3 和 QUIC，采用标准的 443 端口，目的在于增强隐私安全性，通过 QUIC 协议快速建立连接，保护用户数据不被窥探。更为重要且和 warp 相关的是，QUIC 本身具有的数据包合并、多路复用等特性可以在高延迟、高丢包网络环境下获得更好的性能。握手过程中，不同上下文环境下的 QUIC 数据包可以合并到一个数据报（udp datagram）中，减少接收和系统等待频次。多路复用则允许 QUIC 在一个 UDP 连接中承载多个 HTTP 会话，最大程度利用网络资源。</p></blockquote><h3 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h3><p>免费 且 无限流量<br>WARP 协议更加底层，兼容性强</p><h3 id="劣势"><a href="#劣势" class="headerlink" title="劣势"></a>劣势</h3><p>无法选择节点（免费版）<br>速度不稳定</p><h1 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h1><ol><li><p>官网下载 <a href="https://1.1.1.1/">官网链接</a></p></li><li><p>设置协议为 MASQUE ： </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">warp-cli tunnel protocol set MASQUE</span><br></pre></td></tr></table></figure></li><li><p>使用如下命令查看MASQUE是否生效：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">warp-cli settings | grep protocol</span><br></pre></td></tr></table></figure></li><li><p>优选工具：自动设置masque端点</p></li></ol><p>下载：通过网盘分享的文件：Cloudflare 的WARP回归啦<br>链接: <a href="https://drive.51santi.uk/s/nRtq">https://drive.51santi.uk/s/nRtq</a> 提取码: 51santi<br>运行 自动设置masque端点.bat 即可<br>如图：<br><img src="https://pic.shenxing.win/i/e38e8b77-c3f7-48fa-91a6-12ed612fdc0c.jpg" alt="image"><br>连接成功后如图：<br><img src="https://pic.shenxing.win/i/a1ab1af7-1cc0-4213-b299-4264df477bf5.jpg" alt="image"></p><ol start="5"><li>手动设置优选ip(可选) 如通过优选工具会自动设置并连接，手动可不用设置： <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">warp-cli tunnel endpoint set 162.159.198.2:4500</span><br></pre></td></tr></table></figure></li></ol><p>国内目前WARP可用的MASQUE协议ipv4端点</p><p>162.159.198.2:443</p><p>162.159.198.2:500</p><p>162.159.198.2:1701</p><p>162.159.198.2:4500</p><p>162.159.198.2:4443</p><p>162.159.198.2:8443</p><p>162.159.198.2:8095</p><p>162.159.199.2:443</p><p>162.159.199.2:500</p><p>162.159.199.2:1701</p><p>162.159.199.2:4500</p><p>162.159.199.2:4443</p><p>162.159.199.2:8443</p><p>162.159.199.2:8095<br>国内可用ipv6端点</p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>独角鲸小鸡搭建节点</title>
      <link href="/2025/05/07/%E7%8B%AC%E8%A7%92%E9%B2%B8%E5%B0%8F%E9%B8%A1%E6%90%AD%E5%BB%BA%E8%8A%82%E7%82%B9/"/>
      <url>/2025/05/07/%E7%8B%AC%E8%A7%92%E9%B2%B8%E5%B0%8F%E9%B8%A1%E6%90%AD%E5%BB%BA%E8%8A%82%E7%82%B9/</url>
      
        <content type="html"><![CDATA[<h2 id="前序"><a href="#前序" class="headerlink" title="前序"></a>前序</h2><p>小鸡网站：<a href="https://fuckip.me/">https://fuckip.me/</a><br>这里给大家建议，这个小鸡网站不建议充年费，大家有需要就一个月充一次就行，防止商家突然跑路，造成损失</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(wget -qO- https://raw.githubusercontent.com/fscarmen/sing-box/main/sing-box.sh)</span><br></pre></td></tr></table></figure><h3 id="一、Hysteria-2-一键安装脚本"><a href="#一、Hysteria-2-一键安装脚本" class="headerlink" title="一、Hysteria 2 一键安装脚本"></a>一、Hysteria 2 一键安装脚本</h3><p>wget -N –no-check-certificate <a href="https://raw.githubusercontent.com/flame1ce/hysteria2-install/main/hysteria2-install-main/hy2/hysteria.sh">https://raw.githubusercontent.com/flame1ce/hysteria2-install/main/hysteria2-install-main/hy2/hysteria.sh</a> &amp;&amp; bash hysteria.sh</p><h3 id="二、安装X-UI面板"><a href="#二、安装X-UI面板" class="headerlink" title="二、安装X-UI面板"></a>二、安装X-UI面板</h3><p>bash &lt;(curl -Ls <a href="https://raw.githubusercontent.com/FranzKafkaYu/x-ui/master/install.sh">https://raw.githubusercontent.com/FranzKafkaYu/x-ui/master/install.sh</a>)</p><h3 id="三、视频中小鸡节点分享"><a href="#三、视频中小鸡节点分享" class="headerlink" title="三、视频中小鸡节点分享"></a>三、视频中小鸡节点分享</h3><p>以下是节点链接，大家不要滥用，这样才能使用久一点</p><p>hy2：hysteria2:&#x2F;&#x2F;<a href="mailto:&#56;&#97;&#x64;&#97;&#x39;&#100;&#x31;&#x33;&#x40;&#49;&#x39;&#x35;&#x2e;&#x31;&#x34;&#x2e;&#49;&#x38;&#57;&#x2e;&#49;&#48;&#x39;">&#56;&#97;&#x64;&#97;&#x39;&#100;&#x31;&#x33;&#x40;&#49;&#x39;&#x35;&#x2e;&#x31;&#x34;&#x2e;&#49;&#x38;&#57;&#x2e;&#49;&#48;&#x39;</a>:23240?sni&#x3D;<a href="http://www.bing.com&insecure=1/#Hysteria2-misaka">www.bing.com&amp;insecure=1#Hysteria2-misaka</a></p><p>直连节点：</p><p>vless:&#x2F;&#x2F;<a href="mailto:&#x36;&#x64;&#48;&#54;&#54;&#50;&#57;&#48;&#45;&#97;&#x30;&#x31;&#x33;&#45;&#52;&#97;&#x64;&#49;&#45;&#x62;&#x36;&#x64;&#x63;&#45;&#x36;&#x32;&#x64;&#57;&#102;&#x62;&#x31;&#x33;&#x34;&#48;&#101;&#48;&#x40;&#49;&#57;&#53;&#x2e;&#49;&#52;&#x2e;&#x31;&#56;&#x39;&#x2e;&#x31;&#48;&#x39;">&#x36;&#x64;&#48;&#54;&#54;&#50;&#57;&#48;&#45;&#97;&#x30;&#x31;&#x33;&#45;&#52;&#97;&#x64;&#49;&#45;&#x62;&#x36;&#x64;&#x63;&#45;&#x36;&#x32;&#x64;&#57;&#102;&#x62;&#x31;&#x33;&#x34;&#48;&#101;&#48;&#x40;&#49;&#57;&#53;&#x2e;&#49;&#52;&#x2e;&#x31;&#56;&#x39;&#x2e;&#x31;&#48;&#x39;</a>:10274?encryption&#x3D;none&amp;security&#x3D;none&amp;type&#x3D;ws&amp;path&#x3D;%2F#1%7CsYK2.love%40xray.com</p><p>vmess:&#x2F;&#x2F;ew0KICAidiI6ICIyIiwNCiAgInBzIjogIjJ8aFBqNi5sb3ZlQHhyYXkuY29tIiwNCiAgImFkZCI6ICIxOTUuMTQuMTg5LjEwOSIsDQogICJwb3J0IjogIjE5OTgxIiwNCiAgImlkIjogIjBlMmM1YjgzLTVmZjAtNGRmMC1hOTQzLWNjMzk5ODBiOWE2MCIsDQogICJhaWQiOiAiMCIsDQogICJzY3kiOiAiYXV0byIsDQogICJuZXQiOiAid3MiLA0KICAidHlwZSI6ICJub25lIiwNCiAgImhvc3QiOiAiIiwNCiAgInBhdGgiOiAiLyIsDQogICJ0bHMiOiAiIiwNCiAgInNuaSI6ICIiLA0KICAiYWxwbiI6ICIiLA0KICAiZnAiOiAiIg0KfQ&#x3D;&#x3D;</p><p>Reality节点：</p><p>vless:&#x2F;&#x2F;<a href="mailto:&#51;&#98;&#100;&#57;&#x62;&#51;&#x38;&#x37;&#45;&#97;&#x37;&#50;&#x31;&#45;&#52;&#x30;&#49;&#51;&#x2d;&#x38;&#x61;&#100;&#x30;&#x2d;&#x35;&#x62;&#57;&#x36;&#98;&#x39;&#50;&#100;&#x32;&#x32;&#55;&#x63;&#x40;&#x31;&#x39;&#53;&#x2e;&#49;&#52;&#46;&#x31;&#x38;&#57;&#x2e;&#49;&#x30;&#57;">&#51;&#98;&#100;&#57;&#x62;&#51;&#x38;&#x37;&#45;&#97;&#x37;&#50;&#x31;&#45;&#52;&#x30;&#49;&#51;&#x2d;&#x38;&#x61;&#100;&#x30;&#x2d;&#x35;&#x62;&#57;&#x36;&#98;&#x39;&#50;&#100;&#x32;&#x32;&#55;&#x63;&#x40;&#x31;&#x39;&#53;&#x2e;&#49;&#52;&#46;&#x31;&#x38;&#57;&#x2e;&#49;&#x30;&#57;</a>:19910?encryption&#x3D;none&amp;flow&#x3D;xtls-rprx-vision&amp;security&#x3D;reality&amp;sni&#x3D;blog.api.<a href="http://www.cloudflare.com&fp=chrome&pbk=g-oxbqigzcaxqarxuyd2_vbtyemd9zn8wnto02s69qm&type=tcp&headertype=none/#Reality%7CnnQz.love%40xray.com">www.cloudflare.com&amp;fp=chrome&amp;pbk=g-oxbqigzCaXqARxuyD2_vbTYeMD9zn8wnTo02S69QM&amp;type=tcp&amp;headerType=none#Reality%7CnnQz.love%40xray.com</a></p><p>vless:&#x2F;&#x2F;<a href="mailto:&#x61;&#99;&#50;&#x36;&#53;&#98;&#x37;&#102;&#x2d;&#57;&#x66;&#99;&#54;&#45;&#52;&#50;&#56;&#102;&#45;&#102;&#x34;&#x39;&#57;&#x2d;&#53;&#x33;&#x64;&#102;&#50;&#x37;&#x66;&#98;&#100;&#101;&#50;&#101;&#64;&#x31;&#x39;&#x35;&#46;&#x31;&#52;&#x2e;&#x31;&#56;&#57;&#x2e;&#49;&#48;&#x39;">&#x61;&#99;&#50;&#x36;&#53;&#98;&#x37;&#102;&#x2d;&#57;&#x66;&#99;&#54;&#45;&#52;&#50;&#56;&#102;&#45;&#102;&#x34;&#x39;&#57;&#x2d;&#53;&#x33;&#x64;&#102;&#50;&#x37;&#x66;&#98;&#100;&#101;&#50;&#101;&#64;&#x31;&#x39;&#x35;&#46;&#x31;&#52;&#x2e;&#x31;&#56;&#57;&#x2e;&#49;&#48;&#x39;</a>:50447?encryption&#x3D;none&amp;security&#x3D;reality&amp;sni&#x3D;icloud.cdn-apple.com&amp;fp&#x3D;chrome&amp;pbk&#x3D;UtL7E0Gmxj3X5JdcPAutpTRKo7K2hugkR0vwk2XroUM&amp;type&#x3D;grpc#4%7CnEj4.love%40xray.com</p><p>本文copy此位良心博主链接：<a href="https://apepine.com/archives/291">https://apepine.com/archives/291</a></p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>AQS和MySQL索引的理解</title>
      <link href="/2025/04/27/AQS%E5%92%8CMySQL%E7%B4%A2%E5%BC%95%E7%9A%84%E7%90%86%E8%A7%A3/"/>
      <url>/2025/04/27/AQS%E5%92%8CMySQL%E7%B4%A2%E5%BC%95%E7%9A%84%E7%90%86%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<h2 id="一、怎么保证线程安全？"><a href="#一、怎么保证线程安全？" class="headerlink" title="一、怎么保证线程安全？"></a>一、怎么保证线程安全？</h2><p>加锁：1、jvm提供的锁，synchronizated，  2， JDK提供的各种锁</p><h2 id="二、volatile和synchronizated有什么区别？-volatile能不能保证线程安全？-DCL单例为什么要加volatile"><a href="#二、volatile和synchronizated有什么区别？-volatile能不能保证线程安全？-DCL单例为什么要加volatile" class="headerlink" title="二、volatile和synchronizated有什么区别？ volatile能不能保证线程安全？ DCL单例为什么要加volatile"></a>二、volatile和synchronizated有什么区别？ volatile能不能保证线程安全？ DCL单例为什么要加volatile</h2><p>  1、synchronized关键字，用来加锁，volatile只是保持变量的线程可见性，通常适用于一个线程写，多个线程读。</p><p>  2、不能，volatile关键字只能保证线程可见性，不能保证原子性</p><p> 3、volatile防止指令重排。</p><h3 id="synchronized-和-lock-有什么区别？用新的lock有什么好处？举例说明"><a href="#synchronized-和-lock-有什么区别？用新的lock有什么好处？举例说明" class="headerlink" title="synchronized 和 lock 有什么区别？用新的lock有什么好处？举例说明"></a>synchronized 和 lock 有什么区别？用新的lock有什么好处？举例说明</h3><ul><li>synchronized 和 lock 有什么区别？用新的lock有什么好处？举例说明</li></ul><p>1）synchronized属于JVM层面，属于java的关键字</p><ul><li>​monitorenter（底层是通过monitor对象来完成，其实wait&#x2F;notify等方法也依赖于monitor对象 只能在同步块或者方法中才能调用 wait&#x2F; notify等方法）</li><li>Lock是具体类（java.util.concurrent.locks.Lock）是api层面的锁</li></ul><p>2）使用方法：</p><ul><li>synchronized：不需要用户去手动释放锁，当synchronized代码执行后，系统会自动让线程释放对锁的占用</li><li>ReentrantLock：则需要用户去手动释放锁，若没有主动释放锁，就有可能出现死锁的现象，需要lock() 和 unlock() 配置try catch语句来完成</li></ul><p>3）等待是否中断</p><ul><li><p>synchronized：不可中断，除非抛出异常或者正常运行完成</p></li><li><p>ReentrantLock：可中断，可以设置超时方法</p></li><li><p>设置超时方法，trylock(long timeout, TimeUnit unit)</p></li><li><p>lockInterrupible() 放代码块中，调用interrupt() 方法可以中断</p></li></ul><p>4）加锁是否公平</p><ul><li>synchronized：非公平锁</li><li>ReentrantLock：默认非公平锁，构造函数可以传递boolean值，true为公平锁，false为非公平锁</li></ul><p>5）锁绑定多个条件Condition</p><ul><li>synchronized：没有，要么随机，要么全部唤醒</li><li>ReentrantLock：用来实现分组唤醒需要唤醒的线程，可以精确唤醒，而不是像synchronized那样，要么随机，要么全部唤醒</li></ul><h2 id="四、谈谈你对AQS的理解，AQS如何实现可重入锁"><a href="#四、谈谈你对AQS的理解，AQS如何实现可重入锁" class="headerlink" title="四、谈谈你对AQS的理解，AQS如何实现可重入锁"></a>四、谈谈你对AQS的理解，AQS如何实现可重入锁</h2><p>1、AQS是Java线程同步的核心框架，是jdk中很多锁工具的核心实现框架。我们可以实现自己的锁，</p><p>2、再AQS中，维护了一个信号量state和一个线程组成的双向链表队列，其中，这个线程队列，就是用来给线程排队，而state就向是一个红绿灯，用来控制线程排队或这旅行的，在不通的场景下，有不通的意义，</p><p>3、在可重入锁这个场景下，state就用来表示加锁的次数，0表示无锁，每加一次锁，state就加1，释放锁state就剪1</p><h2 id="五、有A-B-C三个线程，如何保证三个线程同时进行？如何在并发情况下保证三个线程依次执行？如何保证三个线程有序交错进行？"><a href="#五、有A-B-C三个线程，如何保证三个线程同时进行？如何在并发情况下保证三个线程依次执行？如何保证三个线程有序交错进行？" class="headerlink" title="五、有A,B,C三个线程，如何保证三个线程同时进行？如何在并发情况下保证三个线程依次执行？如何保证三个线程有序交错进行？"></a>五、有A,B,C三个线程，如何保证三个线程同时进行？如何在并发情况下保证三个线程依次执行？如何保证三个线程有序交错进行？</h2><p>  CountDownLatch,倒数的一个栅栏,三二一，好开始执行，用来模拟高并发的场景。</p><p>  CylicBarrier,所有的线程必须满足个数才能往下走</p><p>semaphore，我给线程分配不同的重要性，给排队的线程增加了权重。</p><h1 id="Mysql默认搜索引擎"><a href="#Mysql默认搜索引擎" class="headerlink" title="Mysql默认搜索引擎"></a>Mysql默认搜索引擎</h1><p>Mysql5.5以后默认使用InnoDB为搜索引擎</p><p>MyISAM是表锁，不支持事务和主外键</p><p><img src="https://pic.shenxing.win/i/bbb4ccb0-09fd-4e63-aab0-2f09a15cad50.jpg" alt="image"></p><p>InnoDB默认可以创建16个索引</p><ul><li><p>InnoDB支持事务，MyIsam不支持事务，对于InnoDB每一条SQL语言都默认封装成事务，自动提交，这样会影响速度，所以最好把多条SQL语言放到begin 和 commit之间，组成一个事务；</p></li><li><p>InnoDB支持外键，而MyIsam不支持，对一个包含外键的InnoDB表转成MyIsam表会失败</p></li><li><p>InnoDB是聚集索引，数据文件和索引绑定在一块，必须要有主键，通过主键索引效率很高，但是辅助索引需要两次查询，先查询到主键，然后在通过主键查询到数据。因此主键不应该过大。主键过大的时候，其它索引也会很大。而MyIsam是非聚集索引，数据和文件是分离的，索引保存的是数据文件的指针，主键索引和辅助索引是独立的。</p></li><li><p>InnoDB不支持全文检索，而MyIsam支持全文检索，查询效率上MyIsam要高</p></li></ul><h2 id="硬盘"><a href="#硬盘" class="headerlink" title="硬盘"></a>硬盘</h2><p><img src="https://pic.shenxing.win/i/7ecf4c7c-a5ce-4bc7-910f-84182402768b.jpg" alt="image"></p><p>Mysql是存储在硬盘上，因此Redis比Mysql快</p><h2 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h2><p>Mysql官方对索引的定位为：索引是帮助Mysql高效获取数据的数据结构，可以得到索引的本质就是，索引是数据结构。</p><p>可以简单的理解为：排好序的快速查找B+树数据结构，B+树中的B代表平衡(balance) 而不是 二叉（binary）</p><h2 id="检索原理"><a href="#检索原理" class="headerlink" title="检索原理"></a>检索原理</h2><p>在数据之外，数据库系统还维护着满足特定查找算法的数据结构，这些数据结构以某种方式引用（指向）数据，这样就可以在这些数据上实现高级查找算法，这种数据结构，就是索引。下图就是一种可能的索引方式示例：<br><img src="https://pic.shenxing.win/i/37df9c84-c41f-4393-bd6c-ff930abee9dc.jpg" alt="image"></p><p>为了加快Col2的查找，可以维护一个左边所示的二叉树，每个节点分别包含索引键值和一个指向对应数据记录的物理地址的指针，这样就可以运用二叉树在一定的复杂度内获取相应数据，从而快速的检索出符合条件的记录。</p><h2 id="聚簇索引和非聚簇索引"><a href="#聚簇索引和非聚簇索引" class="headerlink" title="聚簇索引和非聚簇索引"></a>聚簇索引和非聚簇索引</h2><ul><li>聚簇索引：将数据存储与索引放到一块，索引结构的叶子节点保存了行数据</li><li>非聚簇索引：将数据与索引分开，索引结构的叶子节点指向了数据对应的位置</li></ul><p>在InnoDB中，在聚簇索引之上创建的索引被称为辅助索引，非聚簇索引都是辅助索引，像复合索引，前缀索引，唯一索引。辅助索引叶子节点存储不再是行的物理位置，而是主键值，辅助索引访问数据总是需要二次查找，这个就被称为 回表操作</p><p><img src="https://pic.shenxing.win/i/7f128c10-084c-4f22-aa34-415f162a965b.jpg" alt="image"></p><p>InnoDB使用的是聚簇索引，将主键组织到一棵B+树中，而行数据就储存在叶子节点上，若使用”where id &#x3D; 14”这样的条件查找主键，则按照B+树的检索算法即可查找到对应的叶节点，之后获得行数据。</p><p>若对Name列进行条件搜索，则需要两个步骤：第一步在辅助索引B+树中检索Name，到达其叶子节点获取对应的主键。第二步使用主键在主索引B+树种再执行一次B+树检索操作，最终到达叶子节点即可获取整行数据。（重点在于通过其他键需要建立辅助索引）</p><p><strong>聚簇索引具有唯一性</strong>，由于聚簇索引是将数据跟索引结构放到一块，因此一个表仅有一个聚簇索引。</p><p><strong>表中行的物理顺序和索引中行的物理顺序是相同的</strong>，<strong>在创建任何非聚簇索引之前创建聚簇索引</strong>，这是因为聚簇索引改变了表中行的物理顺序，数据行 按照一定的顺序排列，并且自动维护这个顺序；</p><p><strong>聚簇索引默认是主键</strong>，如果表中没有定义主键，InnoDB 会选择一个<strong>唯一且非空的索引</strong>代替。如果没有这样的索引，InnoDB 会<strong>隐式定义一个主键（类似oracle中的RowId）</strong>来作为聚簇索引。如果已经设置了主键为聚簇索引又希望再单独设置聚簇索引，必须先删除主键，然后添加我们想要的聚簇索引，最后恢复设置主键即可。</p><p>MyISAM使用的是非聚簇索引，<strong>非聚簇索引的两棵B+树看上去没什么不同</strong>，节点的结构完全一致只是存储的内容不同而已，主键索引B+树的节点存储了主键，辅助键索引B+树存储了辅助键。表数据存储在独立的地方，这两颗B+树的叶子节点都使用一个地址指向真正的表数据，对于表数据来说，这两个键没有任何差别。由于<strong>索引树是独立的，通过辅助键检索无需访问主键的索引树</strong>。</p><p><img src="https://pic.shenxing.win/i/fad5420a-52ec-4994-a353-a191b3fe8b9e.jpg" alt="image"></p><h3 id="使用聚簇索引的优势"><a href="#使用聚簇索引的优势" class="headerlink" title="使用聚簇索引的优势"></a>使用聚簇索引的优势</h3><p><strong>每次使用辅助索引检索都要经过两次B+树查找，</strong>看上去聚簇索引的效率明显要低于非聚簇索引，这不是多此一举吗？聚簇索引的优势在哪？</p><p>1.由于行数据和聚簇索引的叶子节点存储在一起，同一页中会有多条行数据，访问同一数据页不同行记录时，已经把页加载到了Buffer中（缓存器），再次访问时，会在内存中完成访问，不必访问磁盘。这样主键和行数据是一起被载入内存的，找到叶子节点就可以立刻将行数据返回了，如果按照主键Id来组织数据，获得数据更快。</p><p>2.辅助索引的叶子节点，存储主键值，而不是数据的存放地址。好处是当行数据放生变化时，索引树的节点也需要分裂变化；或者是我们需要查找的数据，在上一次IO读写的缓存中没有，需要发生一次新的IO操作时，可以避免对辅助索引的维护工作，只需要维护聚簇索引树就好了。另一个好处是，因为辅助索引存放的是主键值，减少了辅助索引占用的存储空间大小。</p><p>注：我们知道一次io读写，可以获取到16K大小的资源，我们称之为读取到的数据区域为Page。而我们的B树，B+树的索引结构，叶子节点上存放好多个关键字（索引值）和对应的数据，都会在一次IO操作中被读取到缓存中，所以在访问同一个页中的不同记录时，会在内存里操作，而不用再次进行IO操作了。除非发生了页的分裂，即要查询的行数据不在上次IO操作的换村里，才会触发新的IO操作。</p><p>3.因为MyISAM的主索引并非聚簇索引，那么他的数据的物理地址必然是凌乱的，拿到这些物理地址，按照合适的算法进行I&#x2F;O读取，于是开始不停的寻道不停的旋转。聚簇索引则只需一次I&#x2F;O。（强烈的对比）</p><p>4.不过，如果涉及到大数据量的排序、全表扫描、count之类的操作的话，还是MyISAM占优势些，因为索引所占空间小，这些操作是需要在内存中完成的。</p><h3 id="聚簇索引需要注意的地方"><a href="#聚簇索引需要注意的地方" class="headerlink" title="聚簇索引需要注意的地方"></a><strong>聚簇索引需要注意的地方</strong></h3><p>当使用主键为聚簇索引时，主键最好不要使用uuid，因为uuid的值太过离散，不适合排序且可能出线新增加记录的uuid，会插入在索引树中间的位置，导致索引树调整复杂度变大，消耗更多的时间和资源。</p><p>建议使用int类型的自增，方便排序并且默认会在索引树的末尾增加主键值，对索引树的结构影响最小。而且，主键值占用的存储空间越大，辅助索引中保存的主键值也会跟着变大，占用存储空间，也会影响到IO操作读取到的数据量。</p><p><strong>为什么主键通常建议使用自增id</strong></p><p><strong>聚簇索引的数据的物理存放顺序与索引顺序是一致的</strong>，即：<strong>只要索引是相邻的，那么对应的数据一定也是相邻地存放在磁盘上的</strong>。如果主键不是自增id，那么可以想 象，它会干些什么，不断地调整数据的物理地址、分页，当然也有其他一些措施来减少这些操作，但却无法彻底避免。但，如果是自增的，那就简单了，它只需要一 页一页地写，索引结构相对紧凑，磁盘碎片少，效率也高。</p><h2 id="B-树"><a href="#B-树" class="headerlink" title="B+树"></a>B+树</h2><p>B树：Balance Tree，多路平衡查找树</p><p>B+树：加强版多路平衡查找树</p><p>tip：没有B-树，B-树就是B树，中间不是减号而是横线</p><h2 id="Mysql搜索引擎的发展之路"><a href="#Mysql搜索引擎的发展之路" class="headerlink" title="Mysql搜索引擎的发展之路"></a>Mysql搜索引擎的发展之路</h2><p>Mysql InnoDB的搜索引擎 的 底层也不是一来就是 B+树的，而是经过了不断的迭代过程</p><ul><li><p>全部遍历</p></li><li><p>Hash</p></li><li><p>二叉树</p></li><li><p>平衡二叉树（AVL）</p></li><li><p>B树</p></li><li><p>B+树</p></li></ul><h3 id="全部遍历"><a href="#全部遍历" class="headerlink" title="全部遍历"></a>全部遍历</h3><p>相当于全表查询，把每条数据都查找一遍</p><h3 id="Hash"><a href="#Hash" class="headerlink" title="Hash"></a>Hash</h3><p>加速查找速度的数据结构，常见的有两类</p><ul><li>哈希，例如HashMap，查询、插入、修改、删除的平均时间复杂度都是O(1)</li><li>树：例如平衡二叉搜索树，查询、插入、修改、删除的平均事件复杂度都是O(log2 (n))</li></ul><p>可以看到，不管是读请求，还是写请求，哈希类型的索引，都要比树型的索引更快一些，为什么不用Hash做索引呢，而要设计成树型结构呢？</p><p>假设SQL语句为：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from student where age = 15</span><br></pre></td></tr></table></figure><p>我们能够通过Hash就可以很好的用Hash进行解决</p><p>但是随着SQL的复杂化，对于以下范围查找，Hash就搞不定了，也就是说Hash就只能解决查1的问题</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from student where age &gt; 15 and age &lt; 20</span><br></pre></td></tr></table></figure><p>想想范围&#x2F;排序等其它SQL条件：</p><p>哈希型的索引，时间复杂度会退化O(n) 而树型的“有序” 特性，依然能够保持 O(log2(n) )</p><p>InnoDB：并不支持Hash索引</p><h3 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h3><p>二叉树的特点</p><ul><li>一个节点只能有两个子节点，也就是一个节点的度不能超过2</li><li>左子节点小于本节点，右子节点大于等于本节点，比我大的向右，比我小的向做</li></ul><p><img src="https://pic.shenxing.win/i/114b8211-a83e-4828-ae9f-b6565b0923e9.jpg" alt="image"></p><p>对该二叉树的节点查找发现：</p><p>深度为1的节点查找次数为：1</p><p>深度为2的节点查找次数为：2</p><p>深度为N的节点查找次数为：N</p><p>结论：因此其平均查找长度为：(1+2+2+3+3+3) &#x2F; 6 &#x3D; 2.3次</p><h4 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h4><ul><li>如果ID是持续递增的话，会出现什么样的结构？<br><img src="https://pic.shenxing.win/i/75e396a3-5ac4-4d51-a957-60ffa54b349e.jpg" alt="image"></li></ul><p>这样树型结构，又会退化到 O(n) 的时间复杂度</p><h3 id="平衡二叉树（AVL）"><a href="#平衡二叉树（AVL）" class="headerlink" title="平衡二叉树（AVL）"></a>平衡二叉树（AVL）</h3><h4 id="结构图"><a href="#结构图" class="headerlink" title="结构图"></a>结构图</h4><p><img src="https://pic.shenxing.win/i/8bd9cc74-e3cb-4808-8c52-f5c3b4d8ac65.jpg" alt="image"></p><h4 id="问题-1"><a href="#问题-1" class="headerlink" title="问题"></a>问题</h4><p>可以看出平衡二叉树的缺点就是</p><ul><li><p>维护平衡过程的成本代价很高，因为每次删除一个节点或者增加一个节点的话，需要一次或多次的左旋和右旋去维护平衡状态</p></li><li><p>查询的效率不稳定，还要看运气的成分在里面</p></li><li><p>如果节点很多的话，那么这个AVL树的高度还是会很高的，查询效率会很低。</p></li></ul><p>从算法的数学逻辑来讲，二叉树的查找速度和比较次数都是最小的，那为什么我们选择BTree?因为AVL还有一个问题，那就是 磁盘IO的问题</p><ul><li>磁盘IO的次数，就是由树高来决定的，也即磁盘的IO次数最坏的情况下就等于树的高度。</li></ul><p>因为节点存储的数据太少，没有很好的利用操作系统和磁盘数据交换的特性，也没有利用好磁盘IO的预读能力。因为操作系统和磁盘之间一次数据交换是以页为单位的，一页 &#x3D; 4K，即每次IO操作系统会将4K数据加载镜像内存。但是在二叉树每个节点的结构只保存一个关键字 和 数据区，两个子节点的引用，并不能填满4K的内容，辛辛苦苦的做了一次IO操作，却只加载了一个关键字，在树的高度很高，恰好要搜索的关键字位于叶子节点或支节点的时候，取一个关键字要做很多次的IO。因此平衡二叉树不太适合MySQL的查询结构。</p><h4 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h4><p>我们需要解决的就是树的高度问题，导致磁盘IO过多</p><p>那么就需要将树进行压缩，也就是将原来的瘦高 -&gt; 矮胖，通过降低树的高度达到减少IO的次数</p><h3 id="B树"><a href="#B树" class="headerlink" title="B树"></a>B树</h3><p>B树，又被称为 2-3树，也就是B树上的节点，可能是2，也可能是3</p><h4 id="结构图："><a href="#结构图：" class="headerlink" title="结构图："></a>结构图：</h4><p><img src="https://pic.shenxing.win/i/3a2de15f-d6b5-4e46-bc71-5b7ee0ccede2.jpg" alt="image"></p><h4 id="底层原理"><a href="#底层原理" class="headerlink" title="底层原理"></a>底层原理</h4><p>数据库索引是存储在磁盘上的，如果数据很大，必然导致索引的大小也会很大，超过几个G（好比新华字典字数多必然导致目录厚）</p><p>当我们利用索引查询时，是不可能将全部几个G的索引都加载进内存的，我们能做的只能是：</p><p>逐一加载每一个磁盘页，因为磁盘页对应着索引树的节点。</p><p>InnoDB的 page_size</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW GLOBAL STATUS LIKE &#x27;Innodb_page_size&#x27;;</span><br></pre></td></tr></table></figure><p><img src="https://pic.shenxing.win/i/412b617a-e122-4d4d-8222-b8915594e6a3.jpg" alt="image"></p><p>系统从磁盘读取数据到内存时是以磁盘块（block）为单位的，位于同一磁盘块中的数据会被一次性读取出来，而不是需要什么取什么</p><p>InnoDB存储引擎中有页(Page)的概念，页是其磁盘管理的最小单位。</p><p>系统一个磁盘块的存储空间往往没有这么大，因此InnoDB每次申请磁盘空间时都会是若干地址连续磁盘块来达到页的大小16KB。InnoDB在把磁盘数据读入到磁盘时会以页为基本单位，在查询数据时如果一个页中每条数据都有助于定位数据记录的位置，这将会减少磁盘I&#x2F;O次数，提高效率。</p><p>一句话说：就是多个块填充到一页大小</p><h4 id="检索原理-1"><a href="#检索原理-1" class="headerlink" title="检索原理"></a>检索原理</h4><p>B树比平衡二叉树减少了一次IO操作</p><p><img src="https://pic.shenxing.win/i/58bf94ca-ddcd-4882-a119-b252d755923d.jpg" alt="image"></p><p>每个节点占用一个盘块的磁盘空间，一个节点上有两个升序排序的关键字和三个指向子树根节点的指针，指针存储的是子节点所在磁盘块的地址。</p><p>模拟查找关键字29的过程</p><ul><li><p>根据根节点找到磁盘块1，读入内存【磁盘IO操作1次】</p></li><li><p>比较关键字29在区间(17, 35)，找到磁盘块1的指针P2。</p></li><li><p>根据P2指针找到磁盘块3，读入内存。【磁盘IO操作第2次】</p></li><li><p>比较关键字29在区间(26, 30)，找到磁盘块3的指针P2。</p></li><li><p>根据P2指针找到磁盘块8，读入内存。【磁盘IO操作3次】</p></li><li><p>在磁盘块8中的关键字列表，找到关键字29</p></li></ul><p>分析上述过程，发现需要3次IO操作，和3次内存查找操作，由于内存中的关键字是一个有序表结构，可以利用二分法查找提高效率。而3次磁盘IO操作是影响整个BTree查找效率的决定性因素。BTree相对于AVLTree缩减了节点个数，使每次磁盘IO取到内存的数据都发挥了作用，从而提高了查找效率。</p><h3 id="B-树-1"><a href="#B-树-1" class="headerlink" title="B+树"></a>B+树</h3><p>B+树把所有数据放在叶子节点，形成了链表，我们查找数据更方便</p><p>好查，好排序，好划定范围</p><h4 id="B-树结构图"><a href="#B-树结构图" class="headerlink" title="B+树结构图"></a>B+树结构图</h4><p><img src="https://pic.shenxing.win/i/244453ba-cab7-4a04-bdc5-bdbaeac70b6b.jpg" alt="image"></p><p>把两种数据结构集成在一块了：树 + 链表</p><p>图中可以看出所有的data信息都移动叶子节点中，而且子节点和子节点之间会有指针指向，这个也是B+树的核心点，这样可以大大提升范围查找效率，也方便遍历整个树。</p><ul><li><p>非叶子节点不在存储数据，数据只存储在同一层的叶子节点上</p></li><li><p>叶子之间，增加链表，获取所有节点，不再需要中序遍历</p></li><li><p>这也说明了，B+树的检索性能比B树强</p></li></ul><h4 id="检索原理-2"><a href="#检索原理-2" class="headerlink" title="检索原理"></a>检索原理</h4><p>由于B+树的非叶子只存储键值信息，假设每个磁盘块能存储4个键值及指针信息，那就变成如下结构</p><p><img src="https://pic.shenxing.win/i/6735f350-305a-4d2d-87af-3ac40708c3d5.jpg" alt="image"></p><p>B树结构图中可以看出每个节点不仅包含数据的key值，还有data值，而每一页的存储空间是有限的，如果data数据较大时将会导致每个节点（即一个页）能存储的key的数量很小，当存储数量很大时同样会导致B树的深度较大，增大查询时的磁盘IO次数进而影响查询效率。</p><h2 id="Mysql为什么是B-树"><a href="#Mysql为什么是B-树" class="headerlink" title="Mysql为什么是B+树"></a>Mysql为什么是B+树</h2><p>B+树中，所有数据记录节点都是按照键值大小顺序存放在同一层叶子节点上，而非叶子节点上只存储key值信息，这样可以大大加大每个节点存储的key值数量，降低B+树的高度。</p><ul><li>InnoDB存储引擎的最小存储单元是页，页可以用于存放数据，也可以用于存放键值+指针，在B+树中叶子节点存放数据，而非叶子节点存放键值+指针</li><li>索引组织表通过非叶子节点的二分查找法以及指针确定数据在哪个页中，首先找到根页进而去数据页查找到需要的数据</li></ul><p>B+树算法：通过集成B树的特征，B+树相比B树，新增叶子节点与非叶子节点关系，叶子节点包含了键值和数据，非叶子节点只是包含键值和子节点引用，不包含数据。</p><p>通过非叶子节点查询叶子节点获取相应的数据，所有相邻的叶子节点包含非叶子节点使用链表进行结合，叶子节点是顺序并且相邻节点有顺序引用关系。</p><h4 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h4><p>从B树到B+树，B+树在B树的基础上的一种优化使其更适合实现外存储索引结构，InnoDB存储引擎就是用B+树实现的索引结构</p><p>一般我们存储的数据在百万级别的话，B+树的高度都是三层左右</p><p>B树和B+树的不同之处</p><ul><li><p>非叶子节点只存储键值信息</p></li><li><p>所有叶子节点之间都有双向链指针</p></li><li><p>可以基于叶子节点之间的范围查找</p></li><li><p>或者基于根节点的查找</p></li><li><p>数据记录都存放在叶子节点中</p></li></ul><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>德国永久免费IPV6-VPS，搭建节点教程</title>
      <link href="/2025/04/24/%E5%BE%B7%E5%9B%BD%E6%B0%B8%E4%B9%85%E5%85%8D%E8%B4%B9IPV6-VPS%EF%BC%8C%E6%90%AD%E5%BB%BA%E8%8A%82%E7%82%B9%E6%95%99%E7%A8%8B/"/>
      <url>/2025/04/24/%E5%BE%B7%E5%9B%BD%E6%B0%B8%E4%B9%85%E5%85%8D%E8%B4%B9IPV6-VPS%EF%BC%8C%E6%90%AD%E5%BB%BA%E8%8A%82%E7%82%B9%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p>Euserv提供永久免费的纯IPv6 VPS，只需一个邮箱即可申请。算是唯一一个没有任何门槛就能够使用的永久免费服务器了。缺点就是配置比较低，然后申请需要过审核。<br>一个账号可以开三个免费VPS。每个月需要续期一次，可以配置自动续期。<br>续期如图：</p><p><img src="https://pic.shenxing.win/i/55e1a840-2929-488d-b98e-edadd582895b.jpg" alt="image"><br><img src="https://pic.shenxing.win/i/0d160c98-00d3-4710-b602-35e81848e066.jpg" alt="image"><br><img src="https://pic.shenxing.win/i/5d7f0fb1-e5e8-4f00-94d2-38af12b4741c.jpg" alt="image"></p><h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><ol><li>测试本地是否有IPV6 ： <a href="http://test-ipv6.com/">http://test-ipv6.com/</a>  或者用这个网址：<a href="https://ip.zxinc.org/ipquery/">https://ip.zxinc.org/ipquery/</a></li><li>本地无IPV6时候，通过网页SSH进行连接：<a href="https://ssh.090227.xyz/">https://ssh.090227.xyz/</a><blockquote><p>备注：不建议安装x-ui面板，x-ui目前不维护，在euserv上安装很不稳定，我测试过节点不好用，且经常cpu占用100%。建议ArgoX脚本</p></blockquote></li></ol><h1 id="一、安装warp"><a href="#一、安装warp" class="headerlink" title="一、安装warp"></a>一、安装warp</h1><p>用SSH登录后</p><p>第一步输入</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo -e &quot;nameserver 2001:67c:2b0::4\nnameserver 2001:67c:2b0::6&quot; &gt; /etc/resolv.conf</span><br></pre></td></tr></table></figure><p>第二步安装wget、curl</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Centos</span></span><br><span class="line"></span><br><span class="line">yum update &amp;&amp; yum install -y wget curl</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Debian</span></span><br><span class="line"></span><br><span class="line">apt update &amp;&amp; apt install wget curl -y</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Ubuntu</span></span><br><span class="line"></span><br><span class="line">apt-get update &amp;&amp; apt-get install wget -y</span><br></pre></td></tr></table></figure><p>第三步安装WARP<br>能够让IPV6机子能访问IPV4的网络<br>cloudflare warp项目地址：<a href="https://gitlab.com/fscarmen/warp">https://gitlab.com/fscarmen/warp</a><br>一键安装命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N https://gitlab.com/fscarmen/warp/-/raw/main/menu.sh &amp;&amp; bash menu.sh [option] [lisence/url/token]</span><br></pre></td></tr></table></figure><p><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAN9aAkmwvkzST34rSvtAAG8K7OptlCYAAILwjEbwHxIVMmEkt8dhUkjAQADAgADdwADNgQ" alt="image.png"></p><h1 id="二、安装Argox脚本"><a href="#二、安装Argox脚本" class="headerlink" title="二、安装Argox脚本"></a>二、安装Argox脚本</h1><p>项目地址：<a href="https://github.com/fscarmen/ArgoX">https://github.com/fscarmen/ArgoX</a></p><p>一键安装脚本：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(wget -qO- https://raw.githubusercontent.com/fscarmen/argox/main/argox.sh)</span><br></pre></td></tr></table></figure><p>基本选择模块如图：<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAOBaAm1RqJjkocxHIu5-9c4KCxukWEAAp7BMRsBbFBUI5cdqJk-clYBAAMCAAN4AAM2BA" alt="image.png"></p><p>Argo 开启 成功</p><p>成功则出现如下界面：<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAN_aAkuDL2HhsYea_CNMMld3WaV2K0AAhHCMRvAfEhUkt30HF79xAgBAAMCAAN4AAM2BA" alt="image.png"></p><p>配置tunnel<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAOCaAm4nJVvTgama8IDfQJy7-MMpPQAAqnBMRsBbFBUWhYDoJp6QJgBAAMCAAN5AAM2BA" alt="image.png"></p><p>最后v2rayN可以跳转为自己的优选域名<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAOAaAkuV4KfnAmRuWwDp2ReUhb4l3UAAhLCMRvAfEhUnnoTjjYH6zQBAAMCAAN5AAM2BA" alt="image.png"></p><p>参考文献：<br><a href="https://tweek.top/archives/1702376580184">https://tweek.top/archives/1702376580184</a><br>视频教程：<a href="https://youtu.be/5iWN5L8LpLo">https://youtu.be/5iWN5L8LpLo</a></p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>BPB面板搭建永久免费节点</title>
      <link href="/2025/04/05/BPB%E9%9D%A2%E6%9D%BF%E6%90%AD%E5%BB%BA%E6%B0%B8%E4%B9%85%E5%85%8D%E8%B4%B9%E8%8A%82%E7%82%B9/"/>
      <url>/2025/04/05/BPB%E9%9D%A2%E6%9D%BF%E6%90%AD%E5%BB%BA%E6%B0%B8%E4%B9%85%E5%85%8D%E8%B4%B9%E8%8A%82%E7%82%B9/</url>
      
        <content type="html"><![CDATA[<h1 id="前序"><a href="#前序" class="headerlink" title="前序"></a>前序</h1><p>BPB Panel 是一个结合 Cloudflare Workers 和 Pages 的代理面板项目，可以帮助用户轻松搭建免费 VPN，实现永久免费节点订阅，为使用 singbox-core 和 xray-core 的跨平台客户端提供配置。<br>Cloudflare Worker上可以运行Javascript，作为一个serverless function，每天有十万个10ms cpu time的request可以免费用，Z大的edgetunnel代码 可以部署到Cloudflare Worker上，为数据包添加vlessheader信息，达到vless代理转发的目的。最新代码作者已经做了优化升级。<br><img src="https://pic.shenxing.win/i/e27001c6-53d1-41c4-9092-3f61f751eea7.jpg" alt="image"><br>由于Cloudflare在GFW国内某个程度能访问，而CF Worker又能访问GFW意外的信息，所以透过CF Worker来转发数据达到了翻墙的效果。<br>  目前Cloudflare 官方收紧对 BPB 等项目的审查，如果直接使用源码或者原作者提供的混淆代码，很容易出现 1101 的报错（可能代码中包含敏感关键词、或者使用了与他人相同的混淆代码）。</p><p>解决办法是利用未混淆的源码进行自定义加密混淆，从而生成独一无二的混淆代码，成功绕过 Cloudflare 的限制。</p><h1 id="一、准备工作"><a href="#一、准备工作" class="headerlink" title="一、准备工作"></a>一、准备工作</h1><ol><li>GitHub 账号：通过 Github Action 自动同步最新 BPB 源代码，并执行代码混淆。</li><li>Cloudflare 账号：用于部署 BPB Panel 项目。</li><li>域名：建议使用域名（解决 Cloudflare Pages 自带域名被墙的问题）。</li></ol><h1 id="二、Github-部署"><a href="#二、Github-部署" class="headerlink" title="二、Github 部署"></a>二、Github 部署</h1><ol><li><p>新建一个私人仓库，项目可随意命名，但要避开 BPB 敏感词。<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAONaA476b-7EBV3cVLcZlEwteHQklwAAjvKMRsEl3BUPmgo5VZLsh4BAAMCAAN4AAM2BA" alt="image.png"></p></li><li><p>在该项目创建Action文件<br>.github&#x2F;workflows&#x2F;update-worker.yml<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAOSaA5Ctc_HdzMM8nv-NfLr0NT21pcAAlLKMRsEl3BUugS2Bjzc22wBAAMCAAN5AAM2BA" alt="image.png"><br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAOOaA49CON76OKayz9E5A_crwfGTY4AAkvKMRsEl3BU73Hl23OUkL0BAAMCAAN4AAM2BA" alt="image.png"></p><blockquote><p>开源作者仓库：<a href="https://github.com/bia-pain-bache/BPB-Worker-Panel">https://github.com/bia-pain-bache/BPB-Worker-Panel</a><br>参考文件：</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.github/workflows/update-worker.yml</span><br></pre></td></tr></table></figure><p>将以下代码粘贴进去</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Auto</span> <span class="string">Update</span> <span class="string">Worker</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">main</span></span><br><span class="line">  <span class="attr">schedule:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">cron:</span> <span class="string">&quot;0 2 * * *&quot;</span> <span class="comment"># 每天凌晨2点自动运行</span></span><br><span class="line">  <span class="attr">workflow_dispatch:</span>     <span class="comment"># 支持手动运行</span></span><br><span class="line"></span><br><span class="line"><span class="attr">permissions:</span></span><br><span class="line">  <span class="attr">contents:</span> <span class="string">write</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">update:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">初始化仓库</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v4</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">获取当前本地版本</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">get_local_version</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          echo -e &quot;\033[34m[获取本地版本]\033[0m&quot;</span></span><br><span class="line"><span class="string">          if [ -f version.txt ]; then</span></span><br><span class="line"><span class="string">            LOCAL_VERSION=$(cat version.txt)</span></span><br><span class="line"><span class="string">            echo &quot;当前本地版本: $LOCAL_VERSION&quot;</span></span><br><span class="line"><span class="string">          else</span></span><br><span class="line"><span class="string">            echo &quot;首次同步，没有本地版本。&quot;</span></span><br><span class="line"><span class="string">            LOCAL_VERSION=&quot;&quot;</span></span><br><span class="line"><span class="string">          fi</span></span><br><span class="line"><span class="string">          echo &quot;LOCAL_VERSION=$LOCAL_VERSION&quot; &gt;&gt; $GITHUB_ENV</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">获取最新</span> <span class="string">Release</span> <span class="string">信息</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">get_release</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          echo -e &quot;\033[34m[获取最新 Release]\033[0m&quot;</span></span><br><span class="line"><span class="string">          API_URL=&quot;https://api.github.com/repos/bia-pain-bache/BPB-Worker-Panel/releases&quot;</span></span><br><span class="line"><span class="string">          RESPONSE=$(curl -s &quot;$API_URL&quot;)</span></span><br><span class="line"><span class="string">          LATEST_RELEASE=$(echo &quot;$RESPONSE&quot; | jq -r &#x27;.[0]&#x27;)</span></span><br><span class="line"><span class="string">          TAG_NAME=$(echo &quot;$LATEST_RELEASE&quot; | jq -r &#x27;.tag_name&#x27;)</span></span><br><span class="line"><span class="string">          DOWNLOAD_URL=$(echo &quot;$LATEST_RELEASE&quot; | jq -r &#x27;.assets[] | select(.name == &quot;worker.zip&quot;) | .browser_download_url&#x27;)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">          <span class="string">if</span> [ <span class="string">-z</span> <span class="string">&quot;$DOWNLOAD_URL&quot;</span> ] <span class="string">||</span> [ <span class="string">&quot;$DOWNLOAD_URL&quot;</span> <span class="string">==</span> <span class="string">&quot;null&quot;</span> ]<span class="string">;</span> <span class="string">then</span></span><br><span class="line">            <span class="string">echo</span> <span class="string">-e</span> <span class="string">&quot;\033[31m未找到 worker.zip，退出！\033[0m&quot;</span></span><br><span class="line">            <span class="string">exit</span> <span class="number">1</span></span><br><span class="line">          <span class="string">fi</span></span><br><span class="line"></span><br><span class="line">          <span class="string">echo</span> <span class="string">&quot;最新版本号: $TAG_NAME&quot;</span></span><br><span class="line">          <span class="string">echo</span> <span class="string">&quot;DOWNLOAD_URL=$DOWNLOAD_URL&quot;</span> <span class="string">&gt;&gt;</span> <span class="string">$GITHUB_ENV</span></span><br><span class="line">          <span class="string">echo</span> <span class="string">&quot;TAG_NAME=$TAG_NAME&quot;</span> <span class="string">&gt;&gt;</span> <span class="string">$GITHUB_ENV</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">判断是否需要更新</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">check_update</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          echo -e &quot;\033[34m[判断是否需要更新]\033[0m&quot;</span></span><br><span class="line"><span class="string">          if [ &quot;$LOCAL_VERSION&quot; = &quot;$TAG_NAME&quot; ]; then</span></span><br><span class="line"><span class="string">            echo -e &quot;\033[32m已经是最新版本，无需更新。\033[0m&quot;</span></span><br><span class="line"><span class="string">            echo &quot;UPDATE_NEEDED=false&quot; &gt;&gt; $GITHUB_ENV</span></span><br><span class="line"><span class="string">          else</span></span><br><span class="line"><span class="string">            echo -e &quot;\033[33m发现新版本，需要更新！\033[0m&quot;</span></span><br><span class="line"><span class="string">            echo &quot;UPDATE_NEEDED=true&quot; &gt;&gt; $GITHUB_ENV</span></span><br><span class="line"><span class="string">          fi</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">如果需要，清理旧文件并下载新版本</span></span><br><span class="line">        <span class="attr">if:</span> <span class="string">env.UPDATE_NEEDED</span> <span class="string">==</span> <span class="string">&#x27;true&#x27;</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          echo -e &quot;\033[34m[清理旧文件]\033[0m&quot;</span></span><br><span class="line"><span class="string">          rm -rf ./*</span></span><br><span class="line"><span class="string">          echo -e &quot;\033[34m[下载最新 worker.zip]\033[0m&quot;</span></span><br><span class="line"><span class="string">          wget -O worker.zip &quot;$DOWNLOAD_URL&quot;</span></span><br><span class="line"><span class="string">          echo -e &quot;\033[34m[解压 worker.zip]\033[0m&quot;</span></span><br><span class="line"><span class="string">          unzip worker.zip</span></span><br><span class="line"><span class="string">          echo -e &quot;\033[34m[删除 worker.zip]\033[0m&quot;</span></span><br><span class="line"><span class="string">          rm worker.zip</span></span><br><span class="line"><span class="string">          echo -e &quot;\033[34m[记录新版本号]\033[0m&quot;</span></span><br><span class="line"><span class="string">          echo &quot;$TAG_NAME&quot; &gt; version.txt</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">提交更改</span></span><br><span class="line">        <span class="attr">if:</span> <span class="string">env.UPDATE_NEEDED</span> <span class="string">==</span> <span class="string">&#x27;true&#x27;</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">stefanzweifel/git-auto-commit-action@v5</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">commit_message:</span> <span class="string">&quot;🔄 自动同步最新 Worker 版本：$<span class="template-variable">&#123;&#123; env.TAG_NAME &#125;&#125;</span>&quot;</span></span><br><span class="line">          <span class="attr">commit_author:</span> <span class="string">&quot;github-actions[bot] &lt;github-actions[bot]@users.noreply.github.com&gt;&quot;</span></span><br><span class="line">          <span class="attr">push_options:</span> <span class="string">--force</span></span><br></pre></td></tr></table></figure><p>效果如图：<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAOQaA4_8thXni4ql6rvywP4jxXpmPgAAk7KMRsEl3BUtPKdYEuC3rgBAAMCAAN4AAM2BA" alt="image.png"></p></li><li><p>GitHub 仓库通过update-worker.yml 会自动下载最新的 BPB 源代码<br>.last_version：记录更新版本信息<br>_worker.js：最新BPB 代码<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAORaA5BsDuARfAwLeOg9xJuSu5C3mcAAlHKMRsEl3BU2akci3RBlBkBAAMCAAN5AAM2BA" alt="image.png"></p></li></ol><h1 id="三、-Cloudflare部署"><a href="#三、-Cloudflare部署" class="headerlink" title="三、 Cloudflare部署"></a>三、 Cloudflare部署</h1><ol><li><p>登录 Cloudflare，创建 Pages 部署<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAOTaA5DHLKstBzu_nEsqxcyIK6u9vAAAlXKMRsEl3BUSnbIx-HvlvwBAAMCAAN3AAM2BA" alt="image.png"></p></li><li><p>在 Cloudflare 控制台中进入 Workers 和 Pages，选择 Pages 部署。<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAOUaA5EJSQJRRXcMUts370miLnSJO4AAljKMRsEl3BUb9Y2l4WlRgYBAAMCAAN5AAM2BA" alt="image.png"></p></li><li><p>绑定自定义域名（可选）<br>在 Pages 项目的 自定义域选项卡，点击设置自定义域。<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAOVaA5FRLhX4deeiW506AMdRbgXCjsAAlnKMRsEl3BU8ogpCqFfaxQBAAMCAAN4AAM2BA" alt="image.png"><br>在域名里创建CNAME指向jam-kexue.pages.dev<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAOXaA5GSMqohuIllUuU1ivp2ed0d6EAAlvKMRsEl3BUvFsNnb4PDdkBAAMCAAN5AAM2BA" alt="image.png"><br>设置完成后提示：域已激活。您的 DNS 设置已完成。</p></li><li><p>设置变量<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAOYaA5HlzY8r81A4bObKaFIh9csg0IAAlzKMRsEl3BUJncu7FqsbvYBAAMCAAN5AAM2BA" alt="image.png"><br>部署成功后，在 Pages 项目界面点击 设置 -&gt; 变量和机密，添加以下变量：</p></li></ol><p>UUID：使用 UUID 生成器 随机生成一个新的 UUID。<br>PROXY_IP：填写代理 IP 地址，可从 随机代理 IP 站点[<a href="https://www.nslookup.io/domains/cdn.xn--b6gac.eu.org/dns-records/]">https://www.nslookup.io/domains/cdn.xn--b6gac.eu.org/dns-records/]</a> 获取，或使用优选域名（例如 <strong>cdn-b100.xn–b6gac.eu.org</strong>）。<br>TR_PASS：填写一个复杂字符串，作为密码。</p><blockquote><p>注：PROXYIP，来源于网络分享：proxy.xxxxxxxx.tk、edgetunnel.anycast.eu.org、ts.hpc.tw、cdn.xn–b6gac.eu.org、cdn-all.xn–b6gac.eu.org、bestproxy.onecf.eu.org。</p></blockquote><p><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAOZaA5JHowuR_xHrMNzFyNgYm5wHTcAAl3KMRsEl3BUS8GOb4AemaEBAAMCAAN5AAM2BA" alt="image.png"></p><ol start="5"><li>创建 KV:点击左侧存储和数据库，再选择 KV,然后创建一个新的 KV 命名空间</li></ol><p> 注:名称自定义但不能包含“bpb”<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAOaaA5KAu2aMqQKU35ZSg10RPIXt80AAmDKMRsEl3BUN_Gg05KfbGMBAAMCAAN5AAM2BA" alt="image.png"></p><p>绑定 KV:回到创建的 Pages 界面。点击 设置 -&gt; 【绑定】，点击添加，选择添加 KV 命名空间<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAObaA5K3UnRNwl5wDEh4Y0UHEW4c9QAAmPKMRsEl3BUtiUFYleuQzsBAAMCAAN5AAM2BA" alt="image.png"><br>注:变量名称只能填写“kv”(小写)<br>6. 重试部署 Pages<br>返回 Pages 项目,找到右侧“…”,点击重试部署<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAOcaA5Li6g7FkP0FhySqx_MuKOSda4AAmXKMRsEl3BUmSLY6UR4DkMBAAMCAAN5AAM2BA" alt="image.png"></p><h1 id="四、BPB-面板设置"><a href="#四、BPB-面板设置" class="headerlink" title="四、BPB 面板设置"></a>四、BPB 面板设置</h1><ol><li>验证部署是否成功<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAOdaA5PhBUAAUHB_z35EB9fRb0PNoZcAAJryjEbBJdwVCdrpTbN1aDMAQADAgADeQADNgQ" alt="image.png"><br>打开浏览器输入:https:&#x2F;&#x2F;[自定义域名]或者你的项目地址,后面加上&#x2F;panel,检查是否能正常访问BPB面板</li><li>修改 BPB 面板密码<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAOeaA5PuQ9plMF9yVwZHCTCap-83GAAAmzKMRsEl3BULurs9I_yR_sBAAMCAAN4AAM2BA" alt="image.png"><br>第一次打开 BPB 面板会提示修改密码,请设置一个复杂密码,避免被盗用</li><li>配置 BPB 面板参数<br>下面是BPB面板的参数解析，给大家做参考，请自行测试其效果。<br>🌐 VLESS - Trojan基础设置</li></ol><p><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAOjaA5VQ-vslERzPGCVwCC3xTa4v0wAAn7KMRsEl3BUch8RJL9_hu0BAAMCAAN5AAM2BA" alt="image.png"><br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAOiaA5UxWYkSrhERL55pSEwwZH4osoAAnPKMRsEl3BUNvzOvp1pcigBAAMCAAN5AAM2BA" alt="image.png"><br>全部设置好，点击 APPLY SETTINGS 保存 BPB 面板配置</p><p>优选IP：<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAOfaA5Ss7SG5BabHyjjEC2oQGxfDzwAAnDKMRsEl3BU_q4IbuYodPUBAAMCAAN4AAM2BA" alt="image.png"></p><p>五、VPN 节点部署完成</p><ol><li><p>导出Normal节点订阅链接<br>根据你所使用的代理软件，点击对应的 COPY SUB 按钮，复制 BPB 面板生成的订阅链接。</p></li><li><p>V2rayN 客户端导入节点订阅链接并使用<br>打开 V2rayN，进入【订阅分组】-&gt;【订阅分组设置】-&gt;【添加】,将订阅链接粘贴进去</p></li></ol><p>点击【订阅分组】-&gt;【更新全部订阅(不通过代理)】，获取最新节点信息</p><p>测试节点延迟,确认节点有效后,开启系统代理,即可使用 VPN</p><p>现在 BPB 面板 VPN 部署全部结束,通过以上步骤,你可以利用 Cloudflare 和 BPB Panel 搭建一个永久免费 VPN,同时通过对 BPB 源代码进行加密混淆生成专属混淆代码,成功绕过 Cloudflare 的审查,解决 1101 报错问题,本期教程不仅支持 singbox-core 和 xray-core 等跨平台客户端等配置,还实现了永久免费节点订阅,满足大多数用户的使用需求,大家可以一起部署折腾</p><p>特别感谢</p><p><a href="https://hansvlss.top/post/bpb/">https://hansvlss.top/post/bpb/</a><br><a href="https://www.youtube.com/watch?v=cPI5cJo8R1A">https://www.youtube.com/watch?v=cPI5cJo8R1A</a><br><a href="https://www.youtube.com/watch?v=Ss9tAZagN7o">https://www.youtube.com/watch?v=Ss9tAZagN7o</a></p><p>bpb面板： <a href="https://github.com/Setout8/Book-Pen-Book/tree/main">https://github.com/Setout8/Book-Pen-Book/tree/main</a><br><a href="https://www.nslookup.io/domains/cdn.xn--b6gac.eu.org/dns-records/">https://www.nslookup.io/domains/cdn.xn--b6gac.eu.org/dns-records/</a></p><p>SO启程： <a href="https://set-out8.blogspot.com/2025/03/bpb.html">https://set-out8.blogspot.com/2025/03/bpb.html</a><br><a href="https://upsangel.com/security/vpn/cloudflare-worker-vless%E7%BF%BB%E7%89%86%E4%BB%A3%E7%90%86%E5%8E%9F%E7%90%86-proxyip%E7%B4%B0%E7%AF%80%E7%A0%94%E7%A9%B6/">https://upsangel.com/security/vpn/cloudflare-worker-vless%E7%BF%BB%E7%89%86%E4%BB%A3%E7%90%86%E5%8E%9F%E7%90%86-proxyip%E7%B4%B0%E7%AF%80%E7%A0%94%E7%A9%B6/</a></p><p>Cloudflare系列教程之SAAS，优选域名实现网站加速！<br><a href="https://www.youtube.com/watch?v=Mbxq00JVmMQ">https://www.youtube.com/watch?v=Mbxq00JVmMQ</a></p><p>爬爬虾：<a href="https://www.youtube.com/watch?v=XiseBoIrOPc">https://www.youtube.com/watch?v=XiseBoIrOPc</a><br>科技自习室：<a href="https://www.youtube.com/watch?v=Mbxq00JVmMQ">https://www.youtube.com/watch?v=Mbxq00JVmMQ</a><br>一个小站：<a href="https://www.ygxz.in/dairy/3114/">https://www.ygxz.in/dairy/3114/</a><br>优选域名：russia.com:443</p><p>前后比对<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAN1Z_KEkgKs-wcWy_4IrCkEU_jTMHIAA8AxG4KKmFeYDfjb7TTDdQEAAwIAA3kAAzYE" alt="image.png"><br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAN2Z_KGTYh0lFqnu6bBdYfEcPxzOUwAAgHAMRuCiphXaRpC5s2B_ZMBAAMCAAN5AAM2BA" alt="image.png"></p><p>优化后：<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAN3Z_KNGWaJIQVzFNXnOXaf6xBJli0AAg3AMRuCiphX8-h1wfwGgWYBAAMCAAN5AAM2BA" alt="image.png"></p><p><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAN4Z_KTwkqXkMzsB2yx27ubPQxxCsIAAh7AMRuCiphXM2iPaSZRHt4BAAMCAAN5AAM2BA" alt="image.png"></p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>WISE最低门槛激活方法，通过QUPPY入金操作</title>
      <link href="/2025/04/05/WISE%E6%9C%80%E4%BD%8E%E9%97%A8%E6%A7%9B%E6%BF%80%E6%B4%BB%E6%96%B9%E6%B3%95%EF%BC%8C%E9%80%9A%E8%BF%87QUPPY%E5%85%A5%E9%87%91%E6%93%8D%E4%BD%9C/"/>
      <url>/2025/04/05/WISE%E6%9C%80%E4%BD%8E%E9%97%A8%E6%A7%9B%E6%BF%80%E6%B4%BB%E6%96%B9%E6%B3%95%EF%BC%8C%E9%80%9A%E8%BF%87QUPPY%E5%85%A5%E9%87%91%E6%93%8D%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<p>参考教程：<br><a href="https://mp.weixin.qq.com/s?__biz=MjM5ODQwMTEzMg==&mid=2451312840&idx=1&sn=608569dd04ee191b647c38fcb12f474e&chksm=b123f5cb86547cdd5b9e2277e6c50e47280624d5e16459ccd297ab704313da16e30c3304994c&cur_album_id=3183979981480214529&scene=189#wechat_redirect">https://mp.weixin.qq.com/s?__biz=MjM5ODQwMTEzMg==&amp;mid=2451312840&amp;idx=1&amp;sn=608569dd04ee191b647c38fcb12f474e&amp;chksm=b123f5cb86547cdd5b9e2277e6c50e47280624d5e16459ccd297ab704313da16e30c3304994c&amp;cur_album_id=3183979981480214529&amp;scene=189#wechat_redirect</a></p><p>WISE-IBAN计算器<br><a href="https://wise.com/gb/iban/calculator">https://wise.com/gb/iban/calculator</a></p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>CM脚本简单部署最强免费edgetunnel节点</title>
      <link href="/2025/03/31/CM%E8%84%9A%E6%9C%AC%E7%AE%80%E5%8D%95%E9%83%A8%E7%BD%B2%E6%9C%80%E5%BC%BA%E5%85%8D%E8%B4%B9edgetunnel%E8%8A%82%E7%82%B9/"/>
      <url>/2025/03/31/CM%E8%84%9A%E6%9C%AC%E7%AE%80%E5%8D%95%E9%83%A8%E7%BD%B2%E6%9C%80%E5%BC%BA%E5%85%8D%E8%B4%B9edgetunnel%E8%8A%82%E7%82%B9/</url>
      
        <content type="html"><![CDATA[<p>这是一个基于 CF Worker 平台的脚本，在原版的基础上修改了显示 VLESS 配置信息转换为订阅内容。使用该脚本，你可以方便地将 VLESS 配置信息使用在线配置转换到 Clash 或 Singbox 等工具中。</p><h1 id="一、准备条件"><a href="#一、准备条件" class="headerlink" title="一、准备条件"></a>一、准备条件</h1><ol><li>cloudflare 账号</li><li>GitHub账号</li><li>免费域名（如:）</li></ol><h1 id="二、fork脚本代码"><a href="#二、fork脚本代码" class="headerlink" title="二、fork脚本代码"></a>二、fork脚本代码</h1><p>CM脚本：<a href="https://github.com/cmliu/edgetunnel">https://github.com/cmliu/edgetunnel</a><br>fork到自己目录并改名，因为edgetunnel容易被cloudflare识别<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANfZ_IVkLD_HuLreVPUg05U8C3J4EYAAunJMRuCipBXnSdPO9W2yYUBAAMCAAN5AAM2BA" alt="image.png"></p><p><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANgZ_IV-YCXnxunRME5CvjdcbX14KcAAu7JMRuCipBXbGCp0jMBjQcBAAMCAAN4AAM2BA" alt="image.png"></p><h1 id="三、cloudflare部署GitHub脚本"><a href="#三、cloudflare部署GitHub脚本" class="headerlink" title="三、cloudflare部署GitHub脚本"></a>三、cloudflare部署GitHub脚本</h1><ol><li>打开cloudflare创建pages<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANhZ_IYMNzanjKeP89sZa79-RtW7yMAAvfJMRuCipBXlBzBOhITCaUBAAMCAAN5AAM2BA" alt="image.png"></li><li>连接到git并部署刚才创建的项目<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANiZ_IYhBT99MyLGueaInVfAs7006UAAvjJMRuCipBX_jpJ67wsLF4BAAMCAAN4AAM2BA" alt="image.png"><br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANjZ_IZNFZ_KJq4eFTTnnFihjEbVZwAAvnJMRuCipBXadRRJtbA-sYBAAMCAAN5AAM2BA" alt="image.png"></li><li>设置构建和部署（注：项目名称前往不要用edgetunnel字眼，其它的都可以）<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANkZ_IasETJoWJTGu-8STbG3cTfoKMAAvrJMRuCipBXMyqWw4B599YBAAMCAAN5AAM2BA" alt="image.png"><br>等待部署完成。<br>后打开域名进行查看<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANlZ_IbrgouBFvN_SeBbnypK6MAAbzOAAL-yTEbgoqQV28XKOWuTm50AQADAgADeAADNgQ" alt="image.png"><br>出现设置你的UUID变量说明成功。</li><li>设置UUID（可输入任意值(非UUIDv4标准的值会自动切换成动态UUID)）<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANmZ_IcuWHlPjbj0Sdpv4Bu0xPZEJIAAgHKMRuCipBX-avjC-8dxCoBAAMCAAN5AAM2BA" alt="image.png"></li><li>设置自定义域名<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANnZ_IdWzDo5eAV6YKX7QY55fGEVIgAAgPKMRuCipBXWX0bPj1Gn64BAAMCAAN5AAM2BA" alt="image.png"></li></ol><h1 id="三、测试并访问"><a href="#三、测试并访问" class="headerlink" title="三、测试并访问"></a>三、测试并访问</h1><ol><li><p>打开自定义连接<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANoZ_Id1mrQf2WCektYwZHCesG6N5EAAgbKMRuCipBX-OQnmFL5Y6cBAAMCAAN4AAM2BA" alt="image.png"></p></li><li><p>在浏览器自定义域增加之前添加的uuid值(&#x2F;santi)获取订阅连接<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANpZ_IeYXnetLPVw35-rNeSo8qR048AAgfKMRuCipBXhWmPBeoo6pEBAAMCAAN4AAM2BA" alt="image.png"></p></li><li><p>在v2rayN创建分组并订阅<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANqZ_Ieuq4GlpFpiYygfL-9hwFQByAAAgjKMRuCipBXAAGS-ezgLYTsAQADAgADeAADNgQ" alt="image.png"></p></li></ol><h1 id="X附加内容，优选IP方式"><a href="#X附加内容，优选IP方式" class="headerlink" title="X附加内容，优选IP方式"></a>X附加内容，优选IP方式</h1><ol><li>存储和数据库-&gt; KV 创建命名空间<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANrZ_Io8Pt38Vaa6V_XkUN2WeJ-lQ8AAibKMRuCipBXeoU8e8XTRTQBAAMCAAN5AAM2BA" alt="image.png"></li><li>进入pages -&gt; 设置 -&gt; 绑定 添加KV命名空间 -&gt; 保存<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANsZ_Ipu5MMiSBppGTAtdzk-214Y0wAAijKMRuCipBXskhqyg-4oIABAAMCAAN5AAM2BA" alt="image.png"></li><li>重试部署使其生效<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANuZ_IqQomYz1NM6l2Y5JBPBf_0gPgAAi7KMRuCipBXpM86PSWyiDQBAAMCAAN5AAM2BA" alt="image.png"><br>出现了优选列表<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANvZ_IrUTdkc4iSrWkCPI1a5SMxWRwAAjrKMRuCipBXnKxemjFD6icBAAMCAAN4AAM2BA" alt="image.png"></li><li>通过此网址<a href="https://cf.090227.xyz/">https://cf.090227.xyz/</a> 选择优选IP，将优选IP和优选域名填入<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANxZ_JzYdWOzwqUqPsVuxGJcQpDW6YAAuC_MRuCiphXpHTpjAfV_gMBAAMCAAN4AAM2BA" alt="image.png"><br>具体地址参考：<a href="https://vercel.blog.cmliussss.com/p/CloudFlare%E4%BC%98%E9%80%89/">https://vercel.blog.cmliussss.com/p/CloudFlare%E4%BC%98%E9%80%89/</a></li><li>进入v2rayN,订阅分组-&gt;更新当前订阅(不通过代理)<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANyZ_JzmRmKiroBr2SUMMrIOHIMLygAAuG_MRuCiphXSb04kmoMt04BAAMCAAN5AAM2BA" alt="image.png"><br>最终出来的都是优选IP和域名</li></ol><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>哪吒探针V1版,开启CDN / TLS安装设置和美化教程</title>
      <link href="/2025/03/16/%E5%93%AA%E5%90%92%E6%8E%A2%E9%92%88V1%E7%89%88-%E5%BC%80%E5%90%AFCDN-TLS%E5%AE%89%E8%A3%85%E8%AE%BE%E7%BD%AE%E5%92%8C%E7%BE%8E%E5%8C%96%E6%95%99%E7%A8%8B/"/>
      <url>/2025/03/16/%E5%93%AA%E5%90%92%E6%8E%A2%E9%92%88V1%E7%89%88-%E5%BC%80%E5%90%AFCDN-TLS%E5%AE%89%E8%A3%85%E8%AE%BE%E7%BD%AE%E5%92%8C%E7%BE%8E%E5%8C%96%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="本教程解决在CDN和Agent-使用-TLS-连接的情况下，不能添加监控端的问题"><a href="#本教程解决在CDN和Agent-使用-TLS-连接的情况下，不能添加监控端的问题" class="headerlink" title="本教程解决在CDN和Agent 使用 TLS 连接的情况下，不能添加监控端的问题"></a>本教程解决在CDN和Agent 使用 TLS 连接的情况下，不能添加监控端的问题</h1><h2 id="第一步"><a href="#第一步" class="headerlink" title="第一步"></a>第一步</h2><ol><li>在cloudflare解析一个域名到安装哪吒面板的服务器。哪吒v1新版只需要一个域名就可以。<br>例如：<br><a href="https://nz.51santi.uk/">https://nz.51santi.uk</a></li><li>生成ssl证书（用cloudflare生成证书，有效期15年）<br>  SSL&#x2F;TLS –&gt; 源服务器 –&gt; 创建证书 –&gt; 创建<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANQZ9bLlA5QkH6218IlMi8NNC-UaOoAAlnBMRu8ArhWh2-v-HBmhbUBAAMCAAN5AAM2BA" alt="image.png"><br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANRZ9bMcKLCEOL6HLNp78Tm9qLlD9kAAlvBMRu8ArhWicdvbH6eXnkBAAMCAAN5AAM2BA" alt="image.png"><br>将CERTIFICATE密钥保存为.pem文件后缀， PRIVATE KEY保存为.key文件后缀。<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANSZ9bNIx4CWGyt_rSgtKPzChfGGQsAAl7BMRu8ArhWLds0_v7hOEkBAAMCAANtAAM2BA" alt="image.png"></li><li>上传ssl文件到vps服务器<br> 修改文件权限，&#x3D;&#x3D;chmod 777 &#x2F;home&#x2F;admin&#x2F;ssl&#x2F;&#x3D;&#x3D;<br> <img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANTZ9bNx_FBbGq0G4Xis1RcwmFYTu4AAl_BMRu8ArhWt8GsAAErTkNbAQADAgADeAADNgQ" alt="image.png"></li></ol><h1 id="第二步-安装doker和docker-compose"><a href="#第二步-安装doker和docker-compose" class="headerlink" title="第二步 安装doker和docker-compose"></a>第二步 安装doker和docker-compose</h1><h2 id="docker安装脚本"><a href="#docker安装脚本" class="headerlink" title="docker安装脚本"></a>docker安装脚本</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sSL https://cdn.jsdelivr.net/gh/SuperManito/LinuxMirrors@main/DockerInstallation.sh)</span><br></pre></td></tr></table></figure><h2 id="docker-compose安装脚本"><a href="#docker-compose安装脚本" class="headerlink" title="docker-compose安装脚本"></a>docker-compose安装脚本</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -L &quot;https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose &amp;&amp; chmod +x /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure><h1 id="第三步-安装nginx和tls"><a href="#第三步-安装nginx和tls" class="headerlink" title="第三步 安装nginx和tls"></a>第三步 安装nginx和tls</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O 1keji_nginxfdnz06.sh &quot;https://pan.1keji.net/f/P9u3/1keji_nginxfdnz06.sh&quot; &amp;&amp; chmod +x 1keji_nginxfdnz06.sh &amp;&amp; ./1keji_nginxfdnz06.sh</span><br></pre></td></tr></table></figure><ol><li>安装nginx选择1<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANUZ9bR7udxUal4THvn1_377lyG6c0AAnLBMRu8ArhW1O1h_MQmi9EBAAMCAAN4AAM2BA" alt="image.png"></li><li>配置反向代理域名证书<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANVZ9bSpdukA5YBzvkG2NDiZvkKSOIAAnTBMRu8ArhW8KeDJJTJc1kBAAMCAAN5AAM2BA" alt="image.png"></li><li>配置哪吒复杂反向代理<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANWZ9bTX-BDYban0aq5pF1tJ3F4Hm0AAnzBMRu8ArhWbN1X9Y36oYsBAAMCAAN5AAM2BA" alt="image.png"></li></ol><h1 id="第四步-安装哪吒V1新版本"><a href="#第四步-安装哪吒V1新版本" class="headerlink" title="第四步 安装哪吒V1新版本"></a>第四步 安装哪吒V1新版本</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -L https://raw.githubusercontent.com/nezhahq/scripts/refs/heads/main/install.sh -o nezha.sh &amp;&amp; chmod +x nezha.sh &amp;&amp; sudo ./nezha.sh</span><br></pre></td></tr></table></figure><p>如果提示需要安装unzip，执行以下代码安装</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install unzip -y</span><br></pre></td></tr></table></figure><p>哪吒探针官方安装文档：<a href="https://nezha.wiki/">https://nezha.wiki/</a></p><h1 id="最终预览效果"><a href="#最终预览效果" class="headerlink" title="最终预览效果"></a>最终预览效果</h1><p><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANYZ9bYvIek13eKWbk6rjsOHrvBBUYAApHBMRu8ArhW_dMMTNoLDoYBAAMCAAN5AAM2BA" alt="image.png"><br>CDN回源IP：<br>set_real_ip_from 173.245.48.0&#x2F;20;<br>set_real_ip_from 103.21.244.0&#x2F;22;<br>set_real_ip_from 103.22.200.0&#x2F;22;<br>set_real_ip_from 103.31.4.0&#x2F;22;<br>set_real_ip_from 141.101.64.0&#x2F;18;<br>set_real_ip_from 108.162.192.0&#x2F;18;<br>set_real_ip_from 190.93.240.0&#x2F;20;<br>set_real_ip_from 188.114.96.0&#x2F;20;<br>set_real_ip_from 197.234.240.0&#x2F;22;<br>set_real_ip_from 198.41.128.0&#x2F;17;<br>set_real_ip_from 162.158.0.0&#x2F;15;<br>set_real_ip_from 104.16.0.0&#x2F;12;<br>set_real_ip_from 172.64.0.0&#x2F;13;<br>set_real_ip_from 131.0.72.0&#x2F;22;<br>real_ip_header CF-Connecting-IP;</p><h1 id="关闭哪吒探针远程访问"><a href="#关闭哪吒探针远程访问" class="headerlink" title="关闭哪吒探针远程访问"></a>关闭哪吒探针远程访问</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/nezha/agent/</span><br><span class="line">vi config.yml  # 将disable_command_execute设置为true</span><br><span class="line">systemctl restart nezha-agent # 重启</span><br></pre></td></tr></table></figure><h1 id="卸载哪吒探针Agent"><a href="#卸载哪吒探针Agent" class="headerlink" title="卸载哪吒探针Agent"></a>卸载哪吒探针Agent</h1><p>卸载 Agent 包括停止服务、卸载服务，以及删除相关文件。以下是 Ubuntu 系统的卸载步骤：</p><ol><li>停止并卸载服务：<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/nezha/agent/</span><br><span class="line">./nezha-agent service uninstall</span><br></pre></td></tr></table></figure></li><li>删除 Agent 文件夹：<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf /opt/nezha/agent/</span><br></pre></td></tr></table></figure>如果安装了多个服务并想要全部卸载，可以使用 Agent 安装脚本的卸载功能：<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./agent.sh uninstall</span><br></pre></td></tr></table></figure></li><li>查看 Agent 运行日志<br>在配置文件中启用 debug 模式，使用以下命令查看 Agent 的运行状态和日志：<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status nezha-agent*</span><br></pre></td></tr></table></figure></li></ol><h1 id="美化脚本"><a href="#美化脚本" class="headerlink" title="美化脚本"></a>美化脚本</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">   <span class="variable language_">window</span>.<span class="property">CustomBackgroundImage</span>=<span class="string">&quot;https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANNZ9anlbQKBuz-NSHt9aEjKc2KlKgAAorAMRu8ArhWY3Z1iSbxV-8BAAMCAAN3AAM2BA&quot;</span>; <span class="comment">/* 页面背景图 */</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">CustomLogo</span> = <span class="string">&quot;https://img.028029.xyz/1734533172211.png&quot;</span>; <span class="comment">/* 自定义Logo */</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">ShowNetTransfer</span>  = <span class="string">&quot;true&quot;</span>; <span class="comment">/* 卡片显示上下行流量 */</span></span><br><span class="line">      <span class="comment">/*window.DisableAnimatedMan  = &quot;true&quot;;  */</span>    <span class="comment">/* 关掉动画人物插图 */</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">CustomIllustration</span> = <span class="string">&quot;https://img.003666.xyz/2025/01/01/6775545511417.webp&quot;</span>; <span class="comment">/*替换人物插图。如果需要关闭请把上面一行取消注释 */</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">CustomDesc</span> =<span class="string">&quot;吾爱三体：请来到地球，让人类技术文明穿越时空&quot;</span>; <span class="comment">/* 自定义描述 */</span></span><br><span class="line"><span class="keyword">var</span> observer = <span class="keyword">new</span> <span class="title class_">MutationObserver</span>(<span class="keyword">function</span>(<span class="params">mutationsList, observer</span>) &#123;</span><br><span class="line"><span class="keyword">var</span> xpath = <span class="string">&quot;/html/body/div/div/main/div[2]/section[1]/div[4]/div&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> container = <span class="variable language_">document</span>.evaluate(xpath, <span class="variable language_">document</span>, <span class="literal">null</span>, <span class="title class_">XPathResult</span>.<span class="property">FIRST_ORDERED_NODE_TYPE</span>, <span class="literal">null</span>).<span class="property">singleNodeValue</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (container) &#123;</span><br><span class="line">observer.<span class="title function_">disconnect</span>();</span><br><span class="line"><span class="keyword">var</span> existingImg = container.<span class="title function_">querySelector</span>(<span class="string">&quot;img&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (existingImg) &#123;</span><br><span class="line">container.<span class="title function_">removeChild</span>(existingImg);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> imgElement = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;img&quot;</span>);</span><br><span class="line">imgElement.<span class="property">src</span> = <span class="string">&quot;https://img.003666.xyz/2025/01/01/6775545511417.webp&quot;</span>;</span><br><span class="line">imgElement.<span class="property">style</span>.<span class="property">position</span> = <span class="string">&quot;absolute&quot;</span>;</span><br><span class="line">imgElement.<span class="property">style</span>.<span class="property">right</span> = <span class="string">&quot;-66px&quot;</span>;</span><br><span class="line">imgElement.<span class="property">style</span>.<span class="property">top</span> = <span class="string">&quot;-145px&quot;</span>;</span><br><span class="line">imgElement.<span class="property">style</span>.<span class="property">zIndex</span> = <span class="string">&quot;10&quot;</span>;</span><br><span class="line">imgElement.<span class="property">style</span>.<span class="property">width</span> = <span class="string">&quot;160px&quot;</span>;</span><br><span class="line">container.<span class="title function_">appendChild</span>(imgElement);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span> config = &#123; <span class="attr">childList</span>: <span class="literal">true</span>, <span class="attr">subtree</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">observer.<span class="title function_">observe</span>(<span class="variable language_">document</span>.<span class="property">body</span>, config);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/mocchen/cssmeihua/js/aixin.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span> &lt;!-- 点击爱心特效 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/mocchen/cssmeihua/js/yinghua.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span> &lt;!-- 页面樱花效果 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;js-cursor-container&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://fastly.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/autoload.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/mocchen/cssmeihua/js/xiaoxingxing.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="编辑服务器-公开备注"><a href="#编辑服务器-公开备注" class="headerlink" title="编辑服务器-&gt;公开备注"></a>编辑服务器-&gt;公开备注</h1><p>根据<a href="https://nezhainfojson.pages.dev/">https://nezhainfojson.pages.dev/</a> 配置的json粘贴进去<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANXZ9bX4S-ApN4aFjujxabNtw-hxlkAAo7BMRu8ArhWt3EIUCdb_8YBAAMCAAN4AAM2BA" alt="image.png"></p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Sing-box隐私保护神器：实现9种主流协议</title>
      <link href="/2025/03/13/Sing-box%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4%E7%A5%9E%E5%99%A8%EF%BC%9A%E5%AE%9E%E7%8E%B09%E7%A7%8D%E4%B8%BB%E6%B5%81%E5%8D%8F%E8%AE%AE/"/>
      <url>/2025/03/13/Sing-box%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4%E7%A5%9E%E5%99%A8%EF%BC%9A%E5%AE%9E%E7%8E%B09%E7%A7%8D%E4%B8%BB%E6%B5%81%E5%8D%8F%E8%AE%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="隐私保护一键脚本"><a href="#隐私保护一键脚本" class="headerlink" title="隐私保护一键脚本"></a>隐私保护一键脚本</h1><p>sing box一键安装脚本，一键搭建，支持vless、vmess、hysteria2、tuic协议，功能完善、搭建简单，脚本稳定。</p><h1 id="前期准备条件"><a href="#前期准备条件" class="headerlink" title="前期准备条件"></a>前期准备条件</h1><ol><li>国外VPS</li><li>ssh连接工具</li><li>cloudflare托管的域名</li></ol><h1 id="sing-box脚本安装"><a href="#sing-box脚本安装" class="headerlink" title="sing-box脚本安装"></a>sing-box脚本安装</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(wget -qO- https://raw.githubusercontent.com/fscarmen/sing-box/main/sing-box.sh)</span><br></pre></td></tr></table></figure><ol><li>执行上述命令后选择简体中文–&gt; 选择1<br><img src="https://pic.shenxing.win/i/3ae24f72-c67b-4e40-a5f4-27c3f4debb7b.jpg" alt="image"><br><img src="https://pic.shenxing.win/i/a56c749a-31f4-4a28-8b73-5b5787835c22.jpg" alt="image"></li><li>输入Argo域名 和 Token<br><img src="https://pic.shenxing.win/i/8a492acc-5040-4382-8fa7-9bb68d8b9287.jpg" alt="image"><br>注意，此处的说明Token或Json两种都可以<br>Json方式通过此链接<a href="https://fscarmen.cloudflare.now.cc/">https://fscarmen.cloudflare.now.cc/</a> 提交并授权。<br>前提是需要登录cloudflare<br><img src="https://pic.shenxing.win/i/30eae85d-0132-4450-81e8-62bbec8b7f87.jpg" alt="image"><blockquote><p>审核完成后复制JSON字符串提交<br><img src="https://pic.shenxing.win/i/415e28cd-4f99-44b7-954a-72fcb0360ffd.jpg" alt="image"><br><img src="https://pic.shenxing.win/i/a670acf8-8a3c-40e7-99ed-ebd3735f7a9f.jpg" alt="image"><br><img src="https://pic.shenxing.win/i/6fec537b-cb11-47d5-923c-f5f26f3ff268.jpg" alt="image"><br>最后会生成对应的节点信息<br><img src="https://pic.shenxing.win/i/06ddcb38-7f8b-4d3d-8024-92dd8be78439.jpg" alt="image"></p></blockquote></li></ol><p>2-1. 以下为cloudflare生成token的方式（可选）， 和上面的的JSON都可以<br><img src="https://pic.shenxing.win/i/e489bd71-67d7-4b51-86c6-b3e334df4bf6.jpg" alt="image"><br>记事本保存命令，token为ey开头的字符串<br><img src="https://pic.shenxing.win/i/840ce6f6-dd8c-43a8-8a6d-db754e3ebfdd.jpg" alt="image"><br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANMZ9L3Jda0_XxDwonFgl0gWs66SGkAAhPKMRv-g5lWxhp_nA7pfLUBAAMCAAN4AAM2BA" alt="image.png"><br>类型一定要是HTTP， 端口为nginx的端口<br><img src="https://pic.shenxing.win/i/562c8d8a-d8bb-4ab4-b062-869438c31fdd.jpg" alt="image"></p><blockquote><p>隧道:即cloudflare channel,以前叫Argo channel. (主要针对vless,vmess协议)</p></blockquote><h1 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h1><ol><li><p>防火墙放行端口或vps后台放行端口</p></li><li><p>token时要用IP：端口，IP是vps的，端口必须是vps上的nginx的。</p></li><li><p>主域名不必A解析，隧道用次级域名就行，建隧道时如ec.thinubx.com. 那么ec就是名称，然后隧道生成后会自动生成一个cname在解析记录。</p></li><li><p>无需在ssh上执行cloudflared安装的命令，输入token就行。</p></li><li><p>9个协议中，tuic，trojan若不通，需要在v2rayN上把tls设置为true，就是为了跳过证书验证。</p></li></ol><p>附：<br>本地没有IPV6的环境下，通过webssh (<a href="http://ssh.shenxing.win/)%E8%BF%9E%E6%8E%A5%E8%AE%BF%E9%97%AEIPV6%E6%9C%8D%E5%8A%A1%E5%99%A8">http://ssh.shenxing.win/)连接访问IPV6服务器</a><br>想为 IPv4 的甲骨文添加IPV6 Warp 双栈，运行如下脚本</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N https://gitlab.com/fscarmen/warp/-/raw/main/menu.sh &amp;&amp; bash menu.sh d</span><br></pre></td></tr></table></figure><p>然后通过命令 curl 看看是否能通</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">显示v6地址说明已经实现warp双栈</span></span><br><span class="line">root@ip-172-31-34-98:~/webssh# curl -6 ip.sb</span><br><span class="line">2a09:bac1:3f40:90::299:11</span><br></pre></td></tr></table></figure><p>参考链接：<br><a href="https://www.youtube.com/watch?v=8H4rHlFxwqw">https://www.youtube.com/watch?v=8H4rHlFxwqw</a><br><a href="https://www.youtube.com/watch?v=NBsPCRTr76A">https://www.youtube.com/watch?v=NBsPCRTr76A</a><br><a href="https://www.kekehub.com/2025/03/singboxd.html">https://www.kekehub.com/2025/03/singboxd.html</a></p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>3X-UI面板最新搭建科学上网节点</title>
      <link href="/2025/03/13/3X-UI%E9%9D%A2%E6%9D%BF%E6%9C%80%E6%96%B0%E6%90%AD%E5%BB%BA%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E8%8A%82%E7%82%B9/"/>
      <url>/2025/03/13/3X-UI%E9%9D%A2%E6%9D%BF%E6%9C%80%E6%96%B0%E6%90%AD%E5%BB%BA%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E8%8A%82%E7%82%B9/</url>
      
        <content type="html"><![CDATA[<h1 id="一、什么是3x-ui"><a href="#一、什么是3x-ui" class="headerlink" title="一、什么是3x-ui"></a>一、什么是3x-ui</h1><p>  3x-ui是一个支持多协议、多用户的Xray面板，具有过期日期、流量和IP限制功能。它能够同时支持Vmess、Vless、Trojan、<br>ShadowSocks和Wireguard等多种协议，为用户提供更灵活的选择。通过该面板，用户可以轻松管理多个用户账户，设置过期日期和流量限制，同时对IP进行限制，确保服务器资源的合理利用和安全性。<br>Xray面板的这些功能使得它成为搭建和管理代理服务器的理想选择，特别适用于需要高效管理和安全控制的场景。</p><p>3X-UI开源项目地址:<a href="https://github.com/MHSanaei/3x-ui">https://github.com/MHSanaei/3x-ui</a></p><h1 id="二、3X-ui-面板特点"><a href="#二、3X-ui-面板特点" class="headerlink" title="二、3X-ui 面板特点"></a>二、3X-ui 面板特点</h1><ul><li>系统状态监控</li><li>支持多用户、多协议，网页可视化操作</li><li>支持协议，包括 VMESS、VLESS、Trojan、Shadowsocks、Dokodemo-door、Socks、HTTP、wireguard</li><li>支持 XTLS 原生协议，包括 RPRX-Direct、Vision、REALITY</li><li>流量统计、流量限制、过期时间限制</li><li>可定制的Xray配置模板</li><li>支持HTTPS访问面板（自备域名+SSL证书）</li><li>支持一键SSL证书申请及自动续订<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANCZ9LbG59CNlLBS7FBY9y8s1XD3O8AArjJMRv-g5lWVGPxJqJUzyABAAMCAAN3AAM2BA" alt="image.png"></li></ul><h1 id="三、-开始安装使用3x-ui"><a href="#三、-开始安装使用3x-ui" class="headerlink" title="三、 开始安装使用3x-ui"></a>三、 开始安装使用3x-ui</h1><blockquote><p>准备vps，xshell</p></blockquote><ol><li>更新及安装组件。下面环境的安装方式，大家根据自己的系统选择命令安装就好了。<br> Debian&#x2F;Ubuntu系统：<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install git -y</span><br></pre></td></tr></table></figure> CentOS系统：<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install git -y</span><br></pre></td></tr></table></figure> 如果执行后出错，请先更新系统<br>（Debian&#x2F;Ubuntu系统）<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update -y</span><br></pre></td></tr></table></figure>（CentOS系统）<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum update -y</span><br></pre></td></tr></table></figure></li><li>一键安装脚本<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -Ls https://raw.githubusercontent.com/mhsanaei/3x-ui/master/install.sh)</span><br></pre></td></tr></table></figure>在运行脚本以后，会提示你Would you like to customize the Panel Port settings? (If not, a random port will be applied) [y&#x2F;n]:<br>这里的意思是：您是否要自定义面板端口设置？（如果不想，将应用随机端口），建议输入y进行自定义配置。</li></ol><p>Please set up the panel port: 后面输入你要设置的面板端口<br>然后就安装完成了，下面会出现3x-ui面板URL地址、设置的端口、随机生成的用户登录信息。建议将信息保存下来，后面登录用。<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANDZ9Ler2zikmo7c2s8jnc524wFfeQAAr_JMRv-g5lWX4HmmAwPMngBAAMCAAN5AAM2BA" alt="image.png"><br>3. 申请SSL证书</p><ul><li>在cloudflare里，建立自己的域名，并指定到对应vps ip<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANGZ9LlI7UM269OX2wSFNj6mD7VQcUAAsnJMRv-g5lWSGIwV3w2AmABAAMCAAN5AAM2BA" alt="image.png"></li></ul><p>以后想要在ssh连接里面进行3x-ui的设置，只需要输入 x-ui 然后回车就会出现3x-ui的管理面板，如下：<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANEZ9LiXpyNVYWqZ9418CqfHD8Dh0MAAsXJMRv-g5lWNRzBHSevvCoBAAMCAAN4AAM2BA" alt="image.png"></p><p>输入数字 “18” SSL 证书管理，，接下来输入“1” Get SSL，开始申请证书，注意：这里需要放行80端口。<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANFZ9Liy7AJ_HvP_umynboiQ29zJpAAAsbJMRv-g5lWgnqTKTIzYtYBAAMCAAN4AAM2BA" alt="image.png"><br>按照提示输入解析好的域名并确保域名能ping通，在运行脚本以后，会提示你“Would you like to set this certificate for the panel? (y&#x2F;n): ”这句话意思是问你：您想为面板设置此证书吗？这里我们输入“y”为面板设置刚申请的证书。<br>4. BBR 加速<br>SSH 里面可以输入x-ui操作命令，输入“23” 启用 BBR ，根据提示再输入1，BBR就启用了<br>验证 BBR 是否成功启用：<br>执行以下命令，确认 BBR 已被启用：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl net.ipv4.tcp_available_congestion_control</span><br></pre></td></tr></table></figure><p>输出结果应包含 bbr，表示 BBR 已成功启用。</p><h1 id="四、配置节点使用"><a href="#四、配置节点使用" class="headerlink" title="四、配置节点使用"></a>四、配置节点使用</h1><ol><li>节点配置<br>注意：搭建节点如果不能上网，记得要放行节点端口。</li></ol><ul><li><p>配置方案A：vless+tcp+reality<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANHZ9LnUbbIg1KQVpkQfMMzHMSjNSoAAtDJMRv-g5lWliTRm_7B7McBAAMCAAN5AAM2BA" alt="image.png"></p></li><li><p>配置方案B：vless+ws+tls<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANIZ9LqcyH5jS7tVzyC6o4ctGfZ6JYAAuzJMRv-g5lWVtWFHvR98hIBAAMCAAN3AAM2BA" alt="image.png"></p></li><li><p>后续点击二维码使用<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAANJZ9Lq11XoUXP_G5hla8H7_Hj9KyEAAu7JMRv-g5lWooT5kCmTbAgBAAMCAAN4AAM2BA" alt="image.png"></p></li></ul><p>参考链接: <a href="https://www.kejixiaolu.com/djvps/dj06.html">https://www.kejixiaolu.com/djvps/dj06.html</a></p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hiddify-Manager面板搭建和客户端安装使用</title>
      <link href="/2025/03/09/Hiddify-Manager%E9%9D%A2%E6%9D%BF%E6%90%AD%E5%BB%BA%E5%92%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/"/>
      <url>/2025/03/09/Hiddify-Manager%E9%9D%A2%E6%9D%BF%E6%90%AD%E5%BB%BA%E5%92%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="一、一键安装部署Hiddify-Manager面板"><a href="#一、一键安装部署Hiddify-Manager面板" class="headerlink" title="一、一键安装部署Hiddify-Manager面板"></a>一、一键安装部署Hiddify-Manager面板</h1><blockquote><p>注意：此代码仅适用于Ubuntu 22.04以上版本</p></blockquote><ol><li>更新系统<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure></li><li>最新版本部署命令<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl https://i.hiddify.com/release)</span><br></pre></td></tr></table></figure><blockquote><p>指定版本命令：</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl https://i.hiddify.com/v10.80.11)</span><br></pre></td></tr></table></figure></li><li>安装成功后命令：<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hiddify</span><br></pre></td></tr></table></figure></li><li>安装完成后如图：<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAM2Z82HiDMgUfkT7hDuf9SkI4Hwd6AAAkvKMRtdzGhWKojT_TXfHhABAAMCAAN4AAM2BA" alt="Hiddiry_2025-03-09_20-19-50.png"></li></ol><h1 id="二、面板配置"><a href="#二、面板配置" class="headerlink" title="二、面板配置"></a>二、面板配置</h1><ol><li><p>打开安装完成后的URL<br>比如：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://106.111.11.18/jkOfpL6SzvsejXqqd46V/6760312-5166-62fe-b6f1-dghyuqs6d5a69/</span><br></pre></td></tr></table></figure></li><li><p>配置域名:<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAM3Z82Jaj5WPaGE8kS85jRs4JSocO4AAk3KMRtdzGhW0V9HJeTDLxkBAAMCAAN5AAM2BA" alt="hiddify025-03-09_20-27-39.png"></p></li><li><p>点击行动-&gt;应用配置<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAM4Z82KA11Goe6d51ryXZ2FcFCIdDoAAlbKMRtdzGhWYIBSrOMQNfwBAAMCAANtAAM2BA" alt="image.png"></p></li><li><p>在面板创建用户后点击当前域名<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAM5Z82Kh6WprG6dKSf-mAVe3WeMGFwAAljKMRtdzGhWTreLCJlZM7IBAAMCAAN5AAM2BA" alt="image.png"></p></li></ol><blockquote><p>赋值的内容提供给客户端用。</p></blockquote><h1 id="三、下载并安装客户端"><a href="#三、下载并安装客户端" class="headerlink" title="三、下载并安装客户端"></a>三、下载并安装客户端</h1><ol><li><p>打开网盘地址</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://cloud.51santi.uk/1/%E8%BD%AF%E4%BB%B6/hiddify</span><br></pre></td></tr></table></figure></li><li><p>下载并安装客户端<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAM6Z82LnvfxJBPK0fK9H0qav_r71lMAAlrKMRtdzGhWbD820Du41f4BAAMCAAN4AAM2BA" alt="image.png"></p></li><li><p>打开Hiddify客户端添加订阅链接<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAM7Z82MUNyESycg7yeYVuFnODv-JLEAAlvKMRtdzGhWJUDvCSffp3YBAAMCAAN4AAM2BA" alt="image.png"></p></li><li><p>点击连接<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAM8Z82MnDBeQug-2zsRGo4HyvacS3EAAlzKMRtdzGhWQVbZ45j8PqUBAAMCAAN4AAM2BA" alt="image.png"></p><blockquote><p>如果出现灯光green说明出海成功<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAM9Z82NvBNhpm8gBIqwU-c7NRHyiYQAAl7KMRtdzGhW1Yd-jYnNMMgBAAMCAAN5AAM2BA" alt="image.png"></p></blockquote></li><li><p>MacOS安装注意事项</p></li></ol><ul><li>MacOS安装Hiddify时，会出现不可信任应用。只需要打开系统设置-&gt;隐私与安全-&gt;仍然继续安装即可</li></ul><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>现货交易策略</title>
      <link href="/2025/02/10/%E7%8E%B0%E8%B4%A7%E4%BA%A4%E6%98%93%E7%AD%96%E7%95%A5/"/>
      <url>/2025/02/10/%E7%8E%B0%E8%B4%A7%E4%BA%A4%E6%98%93%E7%AD%96%E7%95%A5/</url>
      
        <content type="html"><![CDATA[<h1 id="前序："><a href="#前序：" class="headerlink" title="前序："></a>前序：</h1><p>任何交易，<br>第一点建议是从小资金做起（Start small），不要使用进6个月或更久之后必须使用的资金进行投资,<br>只是用闲钱进行投资(Only use money that you don’t need in a hurry)。<br>第二点建议是不要在推特上跟单（Don’t follow advices on Twitter）,每个人的经济状况都不一样。<br>第三点建议是只投资少量你比较了解的项目（Invest in a few projects that you know well）,你就有足够的时间去跟踪项目(),所以对比一下投资50-100个币，只投资你比较熟悉的2-3个币，这样当项目方发布公告，你会非常清楚对他的币价影响。</p><h1 id="止盈止损"><a href="#止盈止损" class="headerlink" title="止盈止损"></a>止盈止损</h1><p> 顾名思义：就是既能够控制住我们的损失也能保护我们的利润。<br> 如果达成某种条件，则执行某种操作，可以理解为开车遇到风险则需要踩刹车。如果价格跌破了我的止损线则要立即卖出。以此来规避我的风险。</p><h2 id="现货止盈止损，"><a href="#现货止盈止损，" class="headerlink" title="现货止盈止损，"></a>现货止盈止损，</h2><p>  现价止盈止损</p><h2 id="合约止盈止损"><a href="#合约止盈止损" class="headerlink" title="合约止盈止损"></a>合约止盈止损</h2><h2 id="怎么找止盈止损点位？"><a href="#怎么找止盈止损点位？" class="headerlink" title="怎么找止盈止损点位？"></a>怎么找止盈止损点位？</h2><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>MACD动能理论分析</title>
      <link href="/2025/01/24/MACD%E5%8A%A8%E8%83%BD%E7%90%86%E8%AE%BA%E5%88%86%E6%9E%90/"/>
      <url>/2025/01/24/MACD%E5%8A%A8%E8%83%BD%E7%90%86%E8%AE%BA%E5%88%86%E6%9E%90/</url>
      
        <content type="html"><![CDATA[<p>理解做空，<br><a href="https://www.youtube.com/watch?v=WgV4cgbaRTo">https://www.youtube.com/watch?v=WgV4cgbaRTo</a></p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>个人Crypto Currency总结</title>
      <link href="/2025/01/11/%E4%B8%AA%E4%BA%BACrypto-Currency%E6%80%BB%E7%BB%93/"/>
      <url>/2025/01/11/%E4%B8%AA%E4%BA%BACrypto-Currency%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h1 id="个人记录参考"><a href="#个人记录参考" class="headerlink" title="个人记录参考"></a>个人记录参考</h1><ol><li>ETH基金会地址：<a href="https://intel.arkm.com/explorer/address/0xd779332c5A52566Dada11A075a735b18DAa6c1f4">https://intel.arkm.com/explorer/address/0xd779332c5A52566Dada11A075a735b18DAa6c1f4</a></li></ol><h1 id="总结性的规律"><a href="#总结性的规律" class="headerlink" title="总结性的规律"></a>总结性的规律</h1><ol><li>如果此地址卖出则逃顶，ETH基金会通常只卖出100eth</li><li>大多数情况下，比特币是币圈涨跌的领导者，以太品质强硬的币有时会脱离比特币影响走出单边行情，山寨币基本逃不脱它的影响。</li><li>比特币和USDT是反向运动，如果发现USDT涨了，就要警惕比特币跌，比特币涨的时候是买入USDT的合适时机。</li><li>每天0-1点之间容易出现插针现象，所以国内币友可以在临睡前尽量低的挂个心仪币的买入价，尽量高的挂个卖出价，说不定就成交了，躺着赚。</li><li>每天早上6-8点是一个判断买入或卖出的时机，同时也是判断当天涨跌的时间点，如果0点到6点一直跌，这个时段仍然在跌，是个买入或补仓的时机，当天基本是涨，如果0点到6点一直是涨，这个时段仍在涨，是卖出时机，当天大概率会跌。</li><li>下午5点是江湖上传言的重要关注点，时差关系，美国币友起床干活了，可能会引起币的涨跌波动，一些大涨或大跌确实在这个时间点发生，所以要特别留心。</li><li>币圈有“黑色星期五”的说法，有过几次碰巧周五大跌的情况，但也有大涨或横盘的情况，不算特别准，稍微留意消息面即可。</li><li>有一定交易量保障的币如果跌了，不用担心，耐心持有一定会回本，短的3、4天，长的一个月，如果有余USDT，分批补仓，把价格拉下来，回本会快点，没有余钱就等等，不会让你失望的。除非你真的买了垃圾币。</li><li>做现货买卖同样的币长线持有少量交易比频繁交易的收益要大，就看你有没有耐心持有。我0.05买的狗狗币，持有到现在翻了近10倍，是所有币里涨幅最高的（当时才买1000个，打算持有到2025年中旬，推特支付支持狗狗币的时候再卖）。</li><li>影响币圈动荡的因素：</li></ol><ul><li>各国对加密货币的态度，如果是负面的基本上会有一波跌；</li><li>美国金融政策，比如前段时间美国司法部获准出售被扣押的价值 65 亿美元的丝绸之路案相关比特币，对比特币价格带来波动。（「丝绸之路」曾是暗网中最具价值的电商平台，为Ross Ulbricht 于2011 年所创建，该网站因贩卖毒品于2013 年遭美国联邦调查局(FBI) 下架，而Ulbricht则因共谋分发毒品、共谋洗钱等罪被判终身监禁，不得假释。）</li><li>马斯克这类大佬对加密货币的态度，比如马斯克没事发个有比特币、狗狗币信息的X文，推高这两个币价；2025年1月16号发射星舰同时带动狗狗币串升，带动币圈上涨。</li><li>比如巴菲特不看好比特币之类言论</li><li>所以要留意财经新闻，比如cointelegraph.com国外媒体，有句话我十分赞同：知识边界决定财富边界，人只能赚到他知识边界内的财富。</li></ul><ol start="11"><li>炒币心态一定要好，大跌的时候不要血压飙升，大涨的时候也不要得意忘形，落袋为安为重。刚开始炒币的时候也曾经担心到睡不好觉，半夜惊醒市场有，现在已经淡定很多了。</li><li>一年btc，一般在11月涨10天</li></ol><h2 id="没有太多资源的人踏踏实实是颠覆不破的生存知道，祝你好运。"><a href="#没有太多资源的人踏踏实实是颠覆不破的生存知道，祝你好运。" class="headerlink" title="没有太多资源的人踏踏实实是颠覆不破的生存知道，祝你好运。"></a>没有太多资源的人踏踏实实是颠覆不破的生存知道，祝你好运。</h2><h1 id="撸毛工具一览表"><a href="#撸毛工具一览表" class="headerlink" title="撸毛工具一览表"></a>撸毛工具一览表</h1><h3 id="【看盘工具】添加海洋指标"><a href="#【看盘工具】添加海洋指标" class="headerlink" title="【看盘工具】添加海洋指标"></a>【看盘工具】添加海洋指标</h3><ul><li>cn.tradingview.com</li></ul><h3 id="【撸毛相关】"><a href="#【撸毛相关】" class="headerlink" title="【撸毛相关】"></a>【撸毛相关】</h3><ul><li><p>钱包添加公链工具，chainlist.org</p></li><li><p>充提B费用查询，chaineye.tools</p></li><li><p>钱包各链资产查询，debank.com</p></li><li><p>撸毛排名分析，dune.com</p></li><li><p>未领取空投查询，earni.fi</p></li><li><p>接码平台SMS-BUS，sms-bus.com</p></li><li><p>接码平台5sim，5sim.net&#x2F;zh</p></li><li><p>接码平台SMS-active，sms-activate.orc众号</p></li></ul><p>6、【代B相关】</p><p>6.1、交易冲提B查询，chaineye.tools</p><p>6.2、代B基础信息，coinmarketcap.com</p><p>6.3、代B深度信息，tokenterminal.com</p><p>6.4、代B解锁信息，unlocks.app</p><p>6.5、炒B指标分析，coinglass.com</p><p>6.6、链上指标分析，glassnode.com</p><p>6.7、追踪代B解锁时间，token.unlocks.app</p><p>6.8、追踪项目治理提案，tally.xyz</p><p>7、【融资查询】</p><p>7.1、项目融资查询，rootdata.com</p><p>7.2、融资信息，coanalytics.org</p><p>7.3、融资信息，crypto-fundraising.info</p><p>7.4、融资信息，chainbrokerio</p><p>7.5、融资信息，crunchbase.com</p><p>7.6、融资信息，gstatic.com&#x2F;generate 204</p><p>7.7、融资信息，airtable.com</p><p>8、【链上工具】</p><p>8.1、解除授权工具，revoke.cash</p><p>8.2、土狗K线查询，dexscreener.com</p><p>8.3、链上工具箱Gas查询，cointool.app</p><p>8.4、链上工具箱Gas查询，mct.xyz</p><p>8.5、合约安全性检查，tokensniffer.com</p><p>8.6、合约代码查询，coinmarketcap.com&#x2F;zh&#x2F;</p><p>8.7、合约代码查询，coingecko.com&#x2F;zhmirror</p><p>9、【潜在空投项目】</p><p>9.1、潜在空投筛选必备，Airdrops.io</p><p>9.2、潜在空投筛选，airdropalert.com</p><p>9.3、潜在空投列表，defillama.com&#x2F;airdrops</p><p>9.4、早期项目筛选，alphadrops.net&#x2F;alpha</p><p>10、【web3主流公信力咨询媒体】</p><p>10.1、星球日报，<a href="http://www.odaily.news/">www.odaily.news</a></p><p>10.2、深潮，<a href="http://www.techflow520.com/">www.techflow520.com</a></p><p>10.3、律动，theblockbeats.info</p><p>10.4、新中文资讯内容平台，oresightnews.pro&#x2F;article</p><p>10.5、链捕手新闻，<a href="http://www.chaincatcher.com/">www.chaincatcher.com</a></p><p>10.6、Panews，<a href="http://www.panewslab.com/">www.panewslab.com</a></p><h1 id="备注：bybit被黑客盗取时间"><a href="#备注：bybit被黑客盗取时间" class="headerlink" title="备注：bybit被黑客盗取时间"></a>备注：bybit被黑客盗取时间</h1><p>Bybit 15亿刀安全事件及多起Safe owner被篡改事件暴露了目前区块链安全三大痛点:</p><ol><li>前端&#x2F;插件易被篡改,用户无法验证签名数据</li><li>多签密钥持有方环境缺乏独立性,无强制审核机制</li><li>硬件钱包交易解析能力弱,基本处于盲签状态</li></ol><p>这些问题严重威胁资产安全,亟需解决方案🔐 Cobo支持Safe{Wallet}托管集成,提供全方位安全保障:</p><p>• 多方审批流程<br>• 独立风控体系<br>• 严格交易审查:</p><ul><li>转账地址黑白名单</li><li>合约交互权限控制</li><li>参数级访问控制</li><li>AI 自动扫描审计</li></ul><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>记一段英文详解</title>
      <link href="/2025/01/05/%E8%AE%B0%E4%B8%80%E6%AE%B5%E8%8B%B1%E6%96%87%E8%AF%A6%E8%A7%A3/"/>
      <url>/2025/01/05/%E8%AE%B0%E4%B8%80%E6%AE%B5%E8%8B%B1%E6%96%87%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<h1 id="文章地址"><a href="#文章地址" class="headerlink" title="文章地址"></a>文章地址</h1><p>英文：<a href="https://cointelegraph.com/news/microstrategy-eyes-2-billion-preferred-stock-raise-to-buy-more-bitcoin">https://cointelegraph.com/news/microstrategy-eyes-2-billion-preferred-stock-raise-to-buy-more-bitcoin</a><br>中文: <a href="https://cn.cointelegraph.com/news/microstrategy-eyes-2-billion-preferred-stock-raise-to-buy-more-bitcoin">https://cn.cointelegraph.com/news/microstrategy-eyes-2-billion-preferred-stock-raise-to-buy-more-bitcoin</a></p><blockquote><p>MicroStrategy, the largest corporate holder of Bitcoin, is eyeing a $2 billion raise from a perpetual preferred stock offering to buy more Bitcoin in a move that would expand on the company’s “21&#x2F;21” plan.<br>The perpetual preferred stock may be obtained through converting MicroStrategy’s class A common stock, paying a cash dividend, redeeming shares or a combination of these, the Bitcoin-stacking business intelligence firm explained in a Jan. 3 statement.</p></blockquote><ul><li>原文翻译：<br>比特币最大的企业股东MicroStrategy正在考虑通过永久优先股发行筹集20亿美元，以购买更多的比特币，此举将扩大该公司的“21&#x2F;21”计划。<br>这家持有比特币的商业智能公司在1月3日的一份声明中解释说，永久优先股可以通过转换MicroStrategy的A类普通股、支付现金股息、赎回股票或以上几种方式的组合获得。</li><li>AI翻译：<br>MicroStrategy，作为最大的比特币企业持有者，正在考虑通过发行永续优先股筹集20亿美元的资金，以购买更多的比特币，这一举措将扩展公司的“21&#x2F;21”计划。<br>根据这家专注于堆积比特币的商业智能公司在1月3日发布的声明，永续优先股可以通过转换MicroStrategy的A类普通股、支付现金股息、赎回股份或这些方法的组合来获得。</li></ul><h1 id="第一句句子结构分析："><a href="#第一句句子结构分析：" class="headerlink" title="第一句句子结构分析："></a>第一句句子结构分析：</h1><ul><li>MicroStrategy(微策略) 主语</li><li>the largest corporate holder of Bitcoin 同位语</li><li>is eyeing 谓语动词, 现在进行时，表示正在考虑中</li><li>a $2 billiom raise 宾语，一个名词短语，$2 billion是数量修饰词，raise表示筹集资金的动作。</li><li>from a perpetual preferred stock offering 介词短语，修饰raise的来源。表明资金来源，来自永久优先股发行</li><li>in a move that would expand on the company’s “21&#x2F;21” plan 介词短语，作状语，解释这次行动的意义，其中包含一个that引导的定于从句，修饰move</li></ul><h2 id="总结第一句的结构："><a href="#总结第一句的结构：" class="headerlink" title="总结第一句的结构："></a>总结第一句的结构：</h2><pre><code>主语 + 同位语 + 谓语 + 宾语 + 介词短语 + 不定式短语 + 介词短语 + 定语从句</code></pre><h1 id="第二句句子结构分析："><a href="#第二句句子结构分析：" class="headerlink" title="第二句句子结构分析："></a>第二句句子结构分析：</h1><ul><li>the perpetual preferred stock 主语，复合名词短语。</li><li>may be obtained 谓语动词，用情态动词“may”表示可能性。</li><li>through converting MicroStrategy’s class A common stock, paying a cash dividend, redeeming shares or a combination of these - 介词短语，作方式状语，解释如何获得永续优先股，其中包含多个并列的动名词短语。<ul><li>converting MicroStrategy’s class A common stock 动名词短语</li><li>paying a cash dividend 动名词短语</li><li>redeeming shares 动名词短语</li><li>or a combination of these 名词短语，选项之一</li></ul></li><li>the Bitcoin-stacking business intelligence firm explained in a Jan.3 statement 一个独立主格结构,作为插入语，起到解释或评论的作用。它不是主句的必须语法成分，而是提供额外的信息，类似于一个非限定性定语从句。提供了更多的上下文和背景信息。</li><li>the Bitcoin-stacking business intelligence firm 主语，复合名词短语</li><li>explained 谓语动词，过去式</li><li>in a Jan.3 statement 介词短语，作状语，修饰explained<br> 所谓的插入语指的是对一句话所做的附加解释：<br>  如：That will be a good beginning, I hope<br>  解释：I hope 如果放在句子中间断开或放在句末，就是插入语。如果放在句首就不是，而是一个主句。 如： I think he will help you 。这句话中主句是I think；从句是he will help you</li></ul><h2 id="总结第二句的结构："><a href="#总结第二句的结构：" class="headerlink" title="总结第二句的结构："></a>总结第二句的结构：</h2><p> 主语 + 情态动词 + 被动语态谓语 + 介词短语 + 插入语 + 谓语 + 介词短语</p><h1 id="解读："><a href="#解读：" class="headerlink" title="解读："></a>解读：</h1><ul><li>MicroStrategy 是主语，这里提到它是最大的比特币企业持有者，表明该公司在加密货币市场上的重要地位。</li><li>筹资20亿美元（eyeing a $2 billion raise）：公司通过永续优先股发行（perpetual preferred stock offering）来筹集资金。永续优先股是一种没有固定到期日的优先股，意味着公司不需要在特定日期偿还这些资金，通常提供稳定的股息。</li><li>购买更多比特币（to buy more Bitcoin）：筹集的资金目的是为了增加比特币的持有量。这表明公司对比特币未来的价值持乐观态度，继续加码投资。</li><li>扩大“21&#x2F;21”计划（expand on the company’s “21&#x2F;21” plan）：这是一个策略计划，可能是指每年在特定的时间点（如21号）进行比特币投资或者与比特币相关的其他举措。计划的具体内容未在句子中详细说明，但显然这次筹资是为了进一步推进这个计划。</li><li>获得永续优先股的方式：</li><li>转换A类普通股（converting MicroStrategy’s class A common stock）：现有股东可以将手中的股份转换为永续优先股。</li><li>支付现金股息（paying a cash dividend）：公司可能通过现金支付来换取永续优先股。</li><li>赎回股份（redeeming shares）：公司回购其发行的股份，可能是以永续优先股的方式。</li><li>或这些方法的组合（or a combination of these）：表明公司可以灵活使用这些策略来发行永续优先股。</li><li>解释来源：这家被称为比特币堆积的商业智能公司（Bitcoin-stacking business intelligence firm）在1月3日的声明中提供了这些信息，说明公司对外沟通透明度较高。</li></ul><p>这整段话展示了MicroStrategy在加密货币投资策略上的主动性和创新性，同时也揭示了公司如何通过金融工具来支持其对比特币的长期押注。</p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>免费使用谷歌Gemini API 通过Cloudflare中转</title>
      <link href="/2025/01/05/%E5%85%8D%E8%B4%B9%E4%BD%BF%E7%94%A8%E8%B0%B7%E6%AD%8CGemini-API-%E9%80%9A%E8%BF%87Cloudflare%E4%B8%AD%E8%BD%AC/"/>
      <url>/2025/01/05/%E5%85%8D%E8%B4%B9%E4%BD%BF%E7%94%A8%E8%B0%B7%E6%AD%8CGemini-API-%E9%80%9A%E8%BF%87Cloudflare%E4%B8%AD%E8%BD%AC/</url>
      
        <content type="html"><![CDATA[<h1 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h1><p>Google Gemini 是所有一线顶级大模型当中，唯一一个 Api 可以免费白嫖的。本期视频借助互联网大善人 Cloudflare，中转一下 Gemini api，这样就可以得到一个国内免费爽用的顶级大模型。有了 api 以后，我们可以 ai 编程，可以聊天，可以音视频通话，做各种好玩的事情。 </p><h1 id="前置条件"><a href="#前置条件" class="headerlink" title="前置条件"></a>前置条件</h1><pre><code>由于国内不能直接连接AI的api，需要通过自己的域名中转。提前准备账号：cloudflare账号，Google账号，GitHub账号</code></pre><h1 id="操作步骤："><a href="#操作步骤：" class="headerlink" title="操作步骤："></a>操作步骤：</h1><ol><li>Gemini 转OpenAI<br>打开： <a href="https://github.com/PublicAffairs/openai-gemini">https://github.com/PublicAffairs/openai-gemini</a><br>操作 &gt; Deploy with Worker 在Cloudflare创建Worker，充当中转。<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAMmZ3_cqFRouwgdyWtoIJ_6L1S0OHEAAvjFMRuGcAFUMEqi_b-RmGwBAAMCAAN4AAM2BA" alt="gemini2025-01-09_22-25-49.png"><br>需要fork到自己的仓库后绑定自定义域名。</li><li>Gemini API申请<br>科学上网后登录如下网址: <a href="https://aistudio.google.com/">https://aistudio.google.com/</a> 并get API key<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAMnZ3_db5LGdzTe9fChGhYETg-20C4AAvrFMRuGcAFUkv-Omc9Isr8BAAMCAAN5AAM2BA" alt="apikey_2025-01-09_22-29-46.png"></li><li>下载并配置chatbox<br>chatbox: <a href="https://github.com/Bin-Huang/chatbox">https://github.com/Bin-Huang/chatbox</a></li></ol><ul><li>配置api密钥</li><li>配置api域名</li><li>配置自定义模型gemini-2.0-flash-exp<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAMoZ3_d7oRXVyK3RFEDm68jx7ug4ysAAvvFMRuGcAFUMWM7xIPx0cEBAAMCAAN5AAM2BA" alt="chatbox2025-01-09_22-31-54.png"></li></ul><p><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAMlZ3qZe6mIrtIaVIKmzjUZws34Ai4AAjbEMRuG4tlXVx9Pp1JZOhYBAAMCAAN3AAM2BA" alt="gemini_2025-01-05_22-37-18.jpg"></p><p><a href="https://gemini.51santi.uk/v1/models">https://gemini.51santi.uk/v1/models</a><br>Token<br>response</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;object&quot;</span>: <span class="string">&quot;list&quot;</span>,</span><br><span class="line">    <span class="string">&quot;data&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;text-bison-001&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;embedding-gecko-001&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.0-pro-latest&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.0-pro&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-pro&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.0-pro-001&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.0-pro-vision-latest&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-pro-vision&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.5-pro-latest&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.5-pro-001&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.5-pro-002&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.5-pro&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.5-pro-exp-0801&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.5-pro-exp-0827&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.5-flash-latest&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.5-flash-001&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.5-flash-001-tuning&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.5-flash&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.5-flash-exp-0827&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.5-flash-002&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.5-flash-8b&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.5-flash-8b-001&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.5-flash-8b-latest&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.5-flash-8b-exp-0827&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-1.5-flash-8b-exp-0924&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-2.0-flash-exp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-exp-1206&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-exp-1121&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-exp-1114&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-2.0-flash-thinking-exp&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gemini-2.0-flash-thinking-exp-1219&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;learnlm-1.5-pro-experimental&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;embedding-001&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;text-embedding-004&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;aqa&quot;</span>,</span><br><span class="line">            <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;created&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>我的健身小结</title>
      <link href="/2024/12/25/%E6%88%91%E7%9A%84%E5%81%A5%E8%BA%AB%E5%B0%8F%E7%BB%93/"/>
      <url>/2024/12/25/%E6%88%91%E7%9A%84%E5%81%A5%E8%BA%AB%E5%B0%8F%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h1 id="1-为啥要坚持运动？一个理由就够了让你更年轻。"><a href="#1-为啥要坚持运动？一个理由就够了让你更年轻。" class="headerlink" title="1.为啥要坚持运动？一个理由就够了让你更年轻。"></a>1.为啥要坚持运动？一个理由就够了让你更年轻。</h1><h2 id="身体状态更年轻："><a href="#身体状态更年轻：" class="headerlink" title="身体状态更年轻："></a>身体状态更年轻：</h2><p>人到50&#x2F;60岁，肌肉会流失一半。1张图就解释了<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAMiZ3oZhFbbWAuNlDsL-BjEPXiJxD8AArTCMRuG4tFXIzSaJmM3PhQBAAMCAAN4AAM2BA" alt="apple_2025-01-05_13-31-56.png"><br>坚持健身的人，就是左边的苹果。不健身的，年纪越大，就是右边的。<br>其次，精神状态更年轻。这个主要是内啡肽的作用。具体的可以看下这篇文章《多巴胺和内啡肽使用指南》</p><h1 id="2-为啥一定要以力量运动为主？"><a href="#2-为啥一定要以力量运动为主？" class="headerlink" title="2.为啥一定要以力量运动为主？"></a>2.为啥一定要以力量运动为主？</h1><p>参考第一个回答，维持肌肉量。但不是说不做有氧，要根据自己身体情况。最终都是要以力量为主。</p><h1 id="3-网络太嘈杂，如何判断哪些声音是对的？靠体系"><a href="#3-网络太嘈杂，如何判断哪些声音是对的？靠体系" class="headerlink" title="3.网络太嘈杂，如何判断哪些声音是对的？靠体系"></a>3.网络太嘈杂，如何判断哪些声音是对的？靠体系</h1><p><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAMjZ3ob43iOVtCVHVhkFJ9tlWmpFUAAArfCMRuG4tFXPYgNuVi0SrwBAAMCAAN5AAM2BA" alt="健身2025-01-05_13-40-46.png"><br>参考这个体系。了解底层逻辑。对自己的水平和所处的阶段，要有清醒的认知。这样才不会被人玩。<br>和我儿子一样。要先会爬，再会站，再会走，再会跑。循序渐进。我目前就是练最底下3层得东西，吃透了。才会进阶。<br>举例。网络的博主都很片面，大多都是出于某些目标。有个博主说，新人一定要做爆发训练，不然就是死肌肉。那这个就是害人的。就这么看就行。因为爆发力是高阶的训练，一般普通人不配。其次就是，这些东西都是同步提升的。也就是如果你想B变强，那你底下的A一定是先增强。我现在就是在恶补我的下面2层的训练，对力量训练提升很大。还有就是一定要重视最底下两层的训练，这是地基。</p><h1 id="4-为何一定要重视、加强功能性训练？"><a href="#4-为何一定要重视、加强功能性训练？" class="headerlink" title="4.为何一定要重视、加强功能性训练？"></a>4.为何一定要重视、加强功能性训练？</h1><p>举例。如果还没学会爬，就想走，这就是不具备走的功能，就很容易摔跤，磕磕碰碰。爬行对于走就是功能性训练：稳定性、肩胛核心、腰腹核心、髋膝踝联动的功能。只有爬的到位了，才能进阶走的训练。记得每周都要练功能，只练力量的都是健身文盲。</p><h1 id="5-早上吃的好，中午吃的饱，晚上吃的少怎么理解，万能公式是啥？"><a href="#5-早上吃的好，中午吃的饱，晚上吃的少怎么理解，万能公式是啥？" class="headerlink" title="5.早上吃的好，中午吃的饱，晚上吃的少怎么理解，万能公式是啥？"></a>5.早上吃的好，中午吃的饱，晚上吃的少怎么理解，万能公式是啥？</h1><p>吃就是摄入营养，核心营养记住4个字就行：碳、蛋、脂、维碳水蛋白质脂肪维生素早上吃的好——指得是均衡。碳蛋脂维最好都要摄入。<br>碳水：馒头、包子、稀饭xxxx<br>蛋白质：鸡蛋、牛奶等脂肪：油、带脂肪的肉类、坚果<br>维生素：绿菜和一些水果<br>中午吃的饱——多吃点碳水晚上吃的少——少吃点碳水凯圣王说（贾玲点赞的博主），节食减肥的都是健身文盲。可以算的很精细化，真的很科学。</p><h1 id="7-健身房得都是死肌肉？"><a href="#7-健身房得都是死肌肉？" class="headerlink" title="7.健身房得都是死肌肉？"></a>7.健身房得都是死肌肉？</h1><p>真正厉害的都是活肌肉。不要被网络骗了<br>这些人普遍能劈叉的。参考前面的体系。后面我看了一个道家道长的观点，感觉有点理解了。大概意思是：普拉提、瑜伽啊，啥的帮助打开筋膜；力量训练，还有传统武术的马步，站桩，是让筋膜变粗。要先打开筋膜，然后想办法再把筋膜变粗。</p><h1 id="8-为啥有的人喝水都胖？"><a href="#8-为啥有的人喝水都胖？" class="headerlink" title="8.为啥有的人喝水都胖？"></a>8.为啥有的人喝水都胖？</h1><p>大致是这么个意思<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAMkZ3odJvoOF8udlnc2WWjsq0UH5qIAArrCMRuG4tFXP3QAASZC8OGYAQADAgADeQADNgQ" alt="补水2025-01-05_13-47-56.png"></p><h1 id="9-健身不会上瘾？"><a href="#9-健身不会上瘾？" class="headerlink" title="9.健身不会上瘾？"></a>9.健身不会上瘾？</h1><p>会，身边很多人都有瘾。他的本质是内啡肽在起作用。人话一点就是，它能给与人当下正向的反馈。</p><h1 id="10-新手训练要注意什么"><a href="#10-新手训练要注意什么" class="headerlink" title="10.新手训练要注意什么"></a>10.新手训练要注意什么</h1><p>其实很多事情都一样，尤其是工作上。原理都一样，先做对，再做好。<br>先保证动作是标准的。然后参考一个加重量的标准然后等到你一个动作能标准做10次之后，就可以加重量了。</p><h1 id="11-为什么我建议找个训练搭子？"><a href="#11-为什么我建议找个训练搭子？" class="headerlink" title="11.为什么我建议找个训练搭子？"></a>11.为什么我建议找个训练搭子？</h1><p>小孩学走路时，起初是不敢往前走，站在原地。不敢迈出步子<br>那我就是他的训练搭子。我先牵着他一只手，让他感受走路的行程。然后再变成不牵手，只抓后衣领，最后在放手，很快就可以走了。训练搭子就是帮你进步，辅助的。其次是，缓解你的尴尬。新手嘛，最怕尴尬。</p><h1 id="12-怎么瘦肚子？"><a href="#12-怎么瘦肚子？" class="headerlink" title="12.怎么瘦肚子？"></a>12.怎么瘦肚子？</h1><p>和你说单个训练能手肚子的，都是骗子。要力量训练，增加肌肉量，尤其是练腿，基础代谢会增加，然后就瘦了。我就是这么没有肚子的。其次是增加一些呼吸训练，可以网上搜一下。最后是练腰腹核心，也可以辅助。</p><h1 id="13-明星圈谁的水平高？"><a href="#13-明星圈谁的水平高？" class="headerlink" title="13.明星圈谁的水平高？"></a>13.明星圈谁的水平高？</h1><p>彭于晏水平怎么样彭于晏只能说还行，体脂低。明星圈要看蒋劲夫，抖音上id叫加减法。参照体系的话，就是顶级水平。</p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ZFile网盘搭建</title>
      <link href="/2024/12/22/ZFile%E7%BD%91%E7%9B%98%E6%90%AD%E5%BB%BA/"/>
      <url>/2024/12/22/ZFile%E7%BD%91%E7%9B%98%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>ZFile 是一个适用于个人的在线网盘(列目录)程序，可以将你各个存储类型的存储源，统一到一个网页中查看、预览、维护，再也不用去登录各种各样的网页登录后管理文件，现在你只需要在 ZFile 中使用。你只需要填写存储源相关信息，其他的令牌刷新，授权都是尽量自动化的，且有完善的文档帮助你使用。</p><p>支持对接 S3、OneDrive、SharePoint、Google Drive、多吉云、又拍云、本地存储、FTP、SFTP 等存储源<br>支持在线浏览图片、播放音视频，文本文件、Office、obj（3d）等文件类型。</p><h1 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h1><p><a href="https://demo.zfile.vip/local-demo">https://demo.zfile.vip/local-demo</a></p><h1 id="docker安装脚本"><a href="#docker安装脚本" class="headerlink" title="docker安装脚本"></a>docker安装脚本</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sSL https://cdn.jsdelivr.net/gh/SuperManito/LinuxMirrors@main/DockerInstallation.sh)</span><br></pre></td></tr></table></figure><h1 id="docker-compose安装脚本"><a href="#docker-compose安装脚本" class="headerlink" title="docker-compose安装脚本"></a>docker-compose安装脚本</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -L &quot;https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose &amp;&amp; chmod +x /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure><blockquote><p>如果docker无法使用参考这篇文章<br><a href="https://www.ywsj365.com/archives/guo-nei-fu-wu-qi-ru-he-jie-jue-docker-wu-fa-la-qu-jing-xiang-de-wen-ti">https://www.ywsj365.com/archives/guo-nei-fu-wu-qi-ru-he-jie-jue-docker-wu-fa-la-qu-jing-xiang-de-wen-ti</a></p></blockquote><p>一、登录VPS创建docker-compose.yml文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir zfile_wangpan;cd zfile_wangpan  #创建一个目录，并进入此目录</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim docker-compose.yml</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">version: &#x27;3.9&#x27;</span><br><span class="line">services:</span><br><span class="line">    zfile:</span><br><span class="line">        image: zhaojun1998/zfile</span><br><span class="line">        volumes:</span><br><span class="line">            - &#x27;./zfile/file:/data/file&#x27;   #这里是文件目录映射后面会用到</span><br><span class="line">            - &#x27;./zfile/logs:/root/.zfile-v4/logs&#x27;</span><br><span class="line">            - &#x27;./zfile/db:/root/.zfile-v4/db&#x27;</span><br><span class="line">        ports:</span><br><span class="line">            - &#x27;8080:8080&#x27;   #左侧的端口可以自定义</span><br><span class="line">        restart: always</span><br><span class="line">        container_name: zfile</span><br></pre></td></tr></table></figure><h1 id="二、执行容器运行命令"><a href="#二、执行容器运行命令" class="headerlink" title="二、执行容器运行命令"></a>二、执行容器运行命令</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d #运行容器</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose ps  #查看是否开启成功</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker-compose ps </span><br><span class="line">WARN[0000] /root/zfile_wangpan/docker-compose.yml: `version` is obsolete </span><br><span class="line">NAME      IMAGE               COMMAND                  SERVICE   CREATED          STATUS          PORTS</span><br><span class="line">zfile     zhaojun1998/zfile   &quot;/bin/sh -c &#x27;java $J…&quot;   zfile     44 seconds ago   Up 42 seconds   0.0.0.0:8080-&gt;8080/tcp, :::8080-&gt;8080/tcp</span><br></pre></td></tr></table></figure><h1 id="打开web页面使用"><a href="#打开web页面使用" class="headerlink" title="打开web页面使用"></a>打开web页面使用</h1><p>成功以后需要打开自己相应的端口(8080)防火墙就可以web端访问了</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://ip:8080  #打开自己VPS的端口加ip进入web页面</span><br></pre></td></tr></table></figure><p><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAMdZ2gfGUWZLyWGeRgBZ1zP7AXKGFAAApHBMRugkEFXqJ3hoOVMiKABAAMCAAN4AAM2BA" alt="ZF_2024-12-22_22-14-40.png"></p><p>初始化以后就可以使用了<br>注意本地存储填写&#x2F;data&#x2F;file<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAMeZ2gfQadTP-wMQ6kSIjOMcyCWlO8AApLBMRugkEFXJw6RzhGkAAFEAQADAgADeAADNgQ" alt="ZF_2024-12-22_22-15-02.png"></p><blockquote><p>参考连接<br><a href="https://www.ywsj365.com/archives/zfile-wang-pan-da-jian-jiao-cheng">https://www.ywsj365.com/archives/zfile-wang-pan-da-jian-jiao-cheng</a></p></blockquote><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>pixel手机连接wifi网络受限问题</title>
      <link href="/2024/12/08/pixel%E6%89%8B%E6%9C%BA%E8%BF%9E%E6%8E%A5wifi%E7%BD%91%E7%BB%9C%E5%8F%97%E9%99%90%E9%97%AE%E9%A2%98/"/>
      <url>/2024/12/08/pixel%E6%89%8B%E6%9C%BA%E8%BF%9E%E6%8E%A5wifi%E7%BD%91%E7%BB%9C%E5%8F%97%E9%99%90%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="1、什么是adb"><a href="#1、什么是adb" class="headerlink" title="1、什么是adb"></a>1、什么是adb</h1><p>ADB 全称为 Android Debug Bridge，起到调试桥的作用，是一个客户端-服务器端程序。其中客户端是用来操作的电脑，服务端是 Android 设备。</p><p>ADB 也是 Android SDK 中的一个工具，可以直接操作管理 Android 模拟器或者真实的 Android 设备。</p><h1 id="2、为什么要用adb"><a href="#2、为什么要用adb" class="headerlink" title="2、为什么要用adb"></a>2、为什么要用adb</h1><p>运行设备的 shell(命令行)<br>管理模拟器或设备的端口映射<br>计算机和设备之间上传&#x2F;下载文件<br>可以对设备的应用进行卸载安装等<br>在 App 遇到 ANR&#x2F;Crash 等 bug 时，可以通过 ADB 来抓取日志</p><h2 id="简而言之，ADB-就是连接-Android-手机与-PC-端的桥梁，所以ADB又称为安卓调试桥（注意：是安卓，不是iOS），可以让用户在电脑上对手机进行全面的操作！"><a href="#简而言之，ADB-就是连接-Android-手机与-PC-端的桥梁，所以ADB又称为安卓调试桥（注意：是安卓，不是iOS），可以让用户在电脑上对手机进行全面的操作！" class="headerlink" title="简而言之，ADB 就是连接 Android 手机与 PC 端的桥梁，所以ADB又称为安卓调试桥（注意：是安卓，不是iOS），可以让用户在电脑上对手机进行全面的操作！"></a>简而言之，ADB 就是连接 Android 手机与 PC 端的桥梁，所以ADB又称为安卓调试桥（注意：是安卓，不是iOS），可以让用户在电脑上对手机进行全面的操作！</h2><hr><h1 id="Pixel-手机网络受限原因"><a href="#Pixel-手机网络受限原因" class="headerlink" title="Pixel 手机网络受限原因"></a>Pixel 手机网络受限原因</h1><blockquote><p>问题产生的原因：海外机器会使用wifi向服务器发送请求，用于校验wifi状态<br>解决办法：修改校验服务器地址</p></blockquote><h2 id="1-确认电脑上装了adb"><a href="#1-确认电脑上装了adb" class="headerlink" title="1. 确认电脑上装了adb"></a>1. 确认电脑上装了adb</h2><h2 id="2-挨个执行以下命令"><a href="#2-挨个执行以下命令" class="headerlink" title="2. 挨个执行以下命令"></a>2. 挨个执行以下命令</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">adb shell settings delete global captive_portal_mode</span><br><span class="line"></span><br><span class="line">adb shell settings put global captive_portal_mode 0</span><br><span class="line">adb shell settings get global captive_portal_mode</span><br><span class="line"></span><br><span class="line">adb shell settings delete global captive_portal_https_url</span><br><span class="line">adb shell settings delete global captive_portal_http_url</span><br><span class="line"></span><br><span class="line">adb shell settings put global captive_portal_http_url http://connect.rom.miui.com/generate_204</span><br><span class="line">adb shell settings put global captive_portal_https_url https://connect.rom.miui.com/generate_204</span><br></pre></td></tr></table></figure><h2 id="3-执行完，切为飞行模式，再切换回来就好了"><a href="#3-执行完，切为飞行模式，再切换回来就好了" class="headerlink" title="3. 执行完，切为飞行模式，再切换回来就好了"></a>3. 执行完，切为飞行模式，再切换回来就好了</h2><p>————————————————</p><p>参考连接：<a href="https://blog.csdn.net/qq_18525247/article/details/128086408">https://blog.csdn.net/qq_18525247/article/details/128086408</a></p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>v2ray自建节点教程</title>
      <link href="/2024/11/18/v2ray%E8%87%AA%E5%BB%BA%E8%8A%82%E7%82%B9%E6%95%99%E7%A8%8B/"/>
      <url>/2024/11/18/v2ray%E8%87%AA%E5%BB%BA%E8%8A%82%E7%82%B9%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="一、免费VPS白嫖：https-www-youtube-com-watch-v-E3z-T7d2jEI"><a href="#一、免费VPS白嫖：https-www-youtube-com-watch-v-E3z-T7d2jEI" class="headerlink" title="一、免费VPS白嫖：https://www.youtube.com/watch?v=E3z-T7d2jEI"></a>一、免费VPS白嫖：<a href="https://www.youtube.com/watch?v=E3z-T7d2jEI">https://www.youtube.com/watch?v=E3z-T7d2jEI</a></h1><h1 id="二、Xshell连接并登录"><a href="#二、Xshell连接并登录" class="headerlink" title="二、Xshell连接并登录"></a>二、Xshell连接并登录</h1><h1 id="三、搭建代码"><a href="#三、搭建代码" class="headerlink" title="三、搭建代码"></a>三、搭建代码</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -Ls https://raw.githubusercontent.com/mhsanaei/3x-ui/master/install.sh)</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>选择N，让脚本自动生成ip和账密</p></blockquote><h1 id="四、搭建完后，放行端口"><a href="#四、搭建完后，放行端口" class="headerlink" title="四、搭建完后，放行端口"></a>四、搭建完后，放行端口</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">iptables -I INPUT -p tcp --dport 12611 -j ACCEPT</span><br><span class="line">iptables -I INPUT -p tcp --dport 443 -j ACCEPT</span><br><span class="line">iptables -I INPUT -p tcp --dport 80 -j ACCEPT</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">节点对应的端口也要放行</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>如果出现此提示代表完成<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAMXZztThM3mVJwr6wyHLJRm-_DDCOAAAtrEMRu68OFVs07ph3zgzZIBAAMCAAN4AAM2BA" alt="x-ui_2024-11-18_22-46-23.png"></p><blockquote><p>或者关闭防火墙</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">关闭防火墙：</span><br><span class="line">sudo ufw disable</span><br><span class="line">关闭防火墙： sudo ufw 禁用</span><br><span class="line"></span><br><span class="line">查看防火墙状态：</span><br><span class="line">sudo ufw status</span><br></pre></td></tr></table></figure><h1 id="五、登录X-UI面板，添加vmess"><a href="#五、登录X-UI面板，添加vmess" class="headerlink" title="五、登录X-UI面板，添加vmess"></a>五、登录X-UI面板，添加vmess</h1><p><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAMYZztUujnbigwDVcn-_tcRUB9oXDIAAt_EMRu68OFV2ZR5oYkJCxsBAAMCAAN5AAM2BA" alt="vmess_2024-11-18_22-52-11.png"></p><blockquote><p>此处需登录vps，放行添加的端口 iptables -I INPUT -p tcp –dport 27950 -j ACCEPT</p></blockquote><h1 id="五、开启bbr加速"><a href="#五、开启bbr加速" class="headerlink" title="五、开启bbr加速"></a>五、开启bbr加速</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入：&gt; x-ui</span><br><span class="line">选择：&gt; 23. Enable BBR</span><br><span class="line">如果成功则提示：&gt; BBR has been enabled successfully.</span><br></pre></td></tr></table></figure><p>参考文献：<a href="https://github.com/kjfx/v2ray1/releases/tag/3x-ui">https://github.com/kjfx/v2ray1/releases/tag/3x-ui</a></p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Mac安装HomeBrew-使用国内镜像</title>
      <link href="/2024/11/18/Mac%E5%AE%89%E8%A3%85HomeBrew-%E4%BD%BF%E7%94%A8%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F/"/>
      <url>/2024/11/18/Mac%E5%AE%89%E8%A3%85HomeBrew-%E4%BD%BF%E7%94%A8%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="步骤一"><a href="#步骤一" class="headerlink" title="步骤一"></a>步骤一</h1><blockquote><p>Mac电脑如何打开终端：command+空格 在聚焦搜索中输入terminal回车。</p></blockquote><h1 id="步骤二"><a href="#步骤二" class="headerlink" title="步骤二"></a>步骤二</h1><p>终端中粘贴下方命令回车：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/zsh -c &quot;$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)&quot;</span><br></pre></td></tr></table></figure><p>此处如果提示安装xcode，提示安装完成后，copy上面命令再次安装，选择 gitee镜像。</p><h1 id="步骤三"><a href="#步骤三" class="headerlink" title="步骤三"></a>步骤三</h1><p>安装成功后，再terminal窗口输入 brew 命令进行验证。</p><blockquote><p>记得保存使用推荐的alibaba镜像</p></blockquote><h1 id="卸载homeBrew"><a href="#卸载homeBrew" class="headerlink" title="卸载homeBrew"></a>卸载homeBrew</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/zsh -c &quot;$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/HomebrewUninstall.sh)&quot;</span><br></pre></td></tr></table></figure><h1 id="Homebrew-官方地址"><a href="#Homebrew-官方地址" class="headerlink" title="Homebrew 官方地址"></a>Homebrew 官方地址</h1><p><a href="https://brew.sh/zh-cn/">https://brew.sh/zh-cn/</a><br>官方地址使用github的源，国内访问速度很慢，<em>很容易出错</em>，所以我们需要使用国内的源。</p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>以注解的方式实现Redis会话token同步</title>
      <link href="/2024/11/08/%E4%BB%A5%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0Redis%E4%BC%9A%E8%AF%9Dtoken%E5%90%8C%E6%AD%A5/"/>
      <url>/2024/11/08/%E4%BB%A5%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0Redis%E4%BC%9A%E8%AF%9Dtoken%E5%90%8C%E6%AD%A5/</url>
      
        <content type="html"><![CDATA[<h1 id="场景"><a href="#场景" class="headerlink" title="场景"></a>场景</h1><p> 公司内部支付管理系统A和第三支付的管理系统B。大部分功能有雷同。现在需要开发一个A &#x2F; B系统的公共需求。A开发完成之后，B调用A的feign接口。减少开发成本。但是A系统的用户token redis和B系统的用户token redis是分开的。<br> 现在需要在B系统调用A系统的feign接口同时将用户token同步到A的redis。</p><h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadLocalUtils</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ThreadLocal&lt;Map&lt;String, Object&gt;&gt; threadLocal = <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(String key, Object value)</span> &#123;</span><br><span class="line">        Map&lt;String, Object&gt; map = threadLocal.get();</span><br><span class="line">        <span class="keyword">if</span> (map == <span class="literal">null</span>) &#123;</span><br><span class="line">            map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">            threadLocal.set(map);</span><br><span class="line">        &#125;</span><br><span class="line">        map.put(key, value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title function_">get</span><span class="params">(String key)</span> &#123;</span><br><span class="line">        Map&lt;String, Object&gt; map = threadLocal.get();</span><br><span class="line">        <span class="keyword">if</span> (map != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> map.get(key);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">(String key)</span> &#123;</span><br><span class="line">        Map&lt;String, Object&gt; map = threadLocal.get();</span><br><span class="line">        <span class="keyword">if</span> (map != <span class="literal">null</span>) &#123;</span><br><span class="line">            map.remove(key);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">        threadLocal.remove();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TokenCachedInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserContext userContext;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate redisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">if</span> (handler <span class="keyword">instanceof</span> HandlerMethod) &#123;</span><br><span class="line">            <span class="type">HandlerMethod</span> <span class="variable">method</span> <span class="operator">=</span> (HandlerMethod) handler;</span><br><span class="line">            <span class="type">TokenCached</span> <span class="variable">annotation</span> <span class="operator">=</span> method.getMethodAnnotation(TokenCached.class);</span><br><span class="line">            <span class="keyword">if</span> (annotation != <span class="literal">null</span>) &#123;</span><br><span class="line"><span class="comment">//                UUID uuid = UUID.randomUUID();</span></span><br><span class="line"><span class="comment">//                UUIDRequestContext.setUUID(request, uuid);</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> request.getHeader(<span class="string">&quot;Tb-Token&quot;</span>);</span><br><span class="line">                log.info(<span class="string">&quot;tb-token:&#123;&#125;,sessionUser:&#123;&#125;&quot;</span>,token, JSON.toJSONString(userContext.getUser()));</span><br><span class="line">                <span class="keyword">if</span> (StringUtils.isNotEmpty(token)) &#123;</span><br><span class="line">                    <span class="type">String</span> <span class="variable">redisKey</span> <span class="operator">=</span> annotation.prefix() + token;</span><br><span class="line">                    log.info(<span class="string">&quot;cacheSessionUser redisKey:&#123;&#125;&quot;</span>,redisKey);</span><br><span class="line">                    redisTemplate.opsForValue().set(redisKey, JSON.toJSONString(userContext.getUser()), <span class="number">30</span>, TimeUnit.SECONDS);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">if</span> (handler <span class="keyword">instanceof</span> HandlerMethod) &#123;</span><br><span class="line">            <span class="type">HandlerMethod</span> <span class="variable">method</span> <span class="operator">=</span> (HandlerMethod) handler;</span><br><span class="line">            <span class="type">TokenCached</span> <span class="variable">annotation</span> <span class="operator">=</span> method.getMethodAnnotation(TokenCached.class);</span><br><span class="line">            <span class="keyword">if</span> (annotation != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> request.getHeader(<span class="string">&quot;Tb-Token&quot;</span>);</span><br><span class="line">                <span class="keyword">if</span> (StringUtils.isNotEmpty(token)) &#123;</span><br><span class="line">                    <span class="comment">//UUID uuid = UUIDRequestContext.getUUID();</span></span><br><span class="line">                    <span class="type">String</span> <span class="variable">redisKey</span> <span class="operator">=</span> annotation.prefix() + token;</span><br><span class="line">                    log.info(<span class="string">&quot;reset expire cacheSessionUser redisKey:&#123;&#125;&quot;</span>,redisKey);</span><br><span class="line">                    extendExpiration(redisKey,<span class="number">30</span>, TimeUnit.SECONDS);</span><br><span class="line">                    log.info(<span class="string">&quot;重置缓存过期时间:&#123;&#125;&quot;</span>,redisKey);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">extendExpiration</span><span class="params">(String key, <span class="type">long</span> timeout, TimeUnit timeUnit)</span> &#123;</span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">hasKey</span> <span class="operator">=</span> redisTemplate.hasKey(key);</span><br><span class="line">        <span class="keyword">if</span> (hasKey != <span class="literal">null</span> &amp;&amp; hasKey) &#123;</span><br><span class="line">            redisTemplate.expire(key, timeout, timeUnit);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyWebMvcConfigurer</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> TokenCachedInterceptor tokenCachedInterceptor;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        registry.addInterceptor(tokenCachedInterceptor);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FeignRequestInterceptor</span> <span class="keyword">implements</span> <span class="title class_">RequestInterceptor</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">apply</span><span class="params">(RequestTemplate template)</span> &#123;</span><br><span class="line">        <span class="comment">//判断是否是主线程</span></span><br><span class="line">        <span class="keyword">if</span> (ObjectUtil.isNotEmpty(RequestContextHolder.getRequestAttributes()))&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//将当前线程的请求头注入到request中</span></span><br><span class="line">        <span class="type">HttpHeaders</span> <span class="variable">headers</span> <span class="operator">=</span> (HttpHeaders) ThreadLocalUtils.get(<span class="string">&quot;headers&quot;</span>);</span><br><span class="line">        template.header(<span class="string">&quot;Tb-Token&quot;</span>, headers.get(<span class="string">&quot;Tb-Token&quot;</span>));</span><br><span class="line">        log.info(<span class="string">&quot;异步线程封装Tb-Token:&#123;&#125;&quot;</span>,headers.get(<span class="string">&quot;Tb-Token&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> TokenCached &#123;</span><br><span class="line">    String <span class="title function_">prefix</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;mjs:sso:login:token:admin_v1:&quot;</span>; <span class="comment">// Redis Key 前缀</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="对应controller代码实现"><a href="#对应controller代码实现" class="headerlink" title="对应controller代码实现"></a>对应controller代码实现</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/sendApply&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SendApplyController</span> &#123;</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> SendApplyApi sendApplyApi;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="meta">@PostMapping(value = &quot;/v1/add&quot;)</span></span><br><span class="line">    <span class="meta">@TokenCached</span></span><br><span class="line">    <span class="keyword">public</span> ResponseVO <span class="title function_">add</span><span class="params">(<span class="meta">@RequestBody</span> SendApplyPermissionDto dto)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sendApplyApi.add(dto);</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Redis使用规范</title>
      <link href="/2024/10/23/Redis%E4%BD%BF%E7%94%A8%E8%A7%84%E8%8C%83/"/>
      <url>/2024/10/23/Redis%E4%BD%BF%E7%94%A8%E8%A7%84%E8%8C%83/</url>
      
        <content type="html"><![CDATA[<h1 id="一、redis使用注意事项"><a href="#一、redis使用注意事项" class="headerlink" title="一、redis使用注意事项"></a>一、redis使用注意事项</h1><hr><p>1、key统一命名前缀： mjs_bill_3_ , 数字3为header头中SaasID的值</p><p>2、key避免过长，不超过30个字符</p><p>3、string类型控制在10KB以内，hash、list、set、zset元素个数不要超过5000</p><p>4、禁止代码中调用redis命令keys、flushall、flushdb等</p><p>5、禁止使用redis消息队列，应使用消息中间件RabbitMQ或kafka</p><p>6、value均使用string型存储，避免对象修改造成反序列化异常</p><p>7、所有缓存数据必须设置过期时间</p><h1 id="二、键值设计"><a href="#二、键值设计" class="headerlink" title="二、键值设计"></a>二、键值设计</h1><hr><ol><li>key名设计<br>(1)【建议】: 可读性和可管理性<br>以业务名(或数据库名)为前缀(防止key冲突)，用冒号分隔，比如业务名:表名:id</li></ol><p>ugc:video:1<br>(2)【建议】：简洁性<br>保证语义的前提下，控制key的长度，当key较多时，内存占用也不容忽视，例如：</p><p>user:{uid}:friends:messages:{mid}简化为u:{uid}:fr:m:{mid}。<br>(3)【强制】：不要包含特殊字符<br>反例：包含空格、换行、单双引号以及其他转义字符</p><ol start="2"><li>value设计<br>(1)【强制】：拒绝bigkey(防止网卡流量、慢查询)<br>string类型控制在10KB以内，hash、list、set、zset元素个数不要超过5000。</li></ol><p>反例：一个包含200万个元素的list。</p><p>非字符串的bigkey，不要使用del删除，使用hscan、sscan、zscan方式渐进式删除</p><p>(2)【推荐】：选择适合的数据类型。<br>例如：实体类型(要合理控制和使用数据结构内存编码优化配置,例如ziplist，但也要注意节省内存和性能之间的平衡)</p><p>3.【推荐】：控制key的生命周期，redis不是垃圾桶。<br>建议使用expire设置过期时间(条件允许可以打散过期时间，防止集中过期)，不过期的数据重点关注idletime。</p><h1 id="三、命令使用"><a href="#三、命令使用" class="headerlink" title="三、命令使用"></a>三、命令使用</h1><hr><p>1.【推荐】 O(N)命令关注N的数量<br>例如hgetall、lrange、smembers、zrange、sinter等并非不能使用，但是需要明确N的值。有遍历的需求可以使用hscan、sscan、zscan代替。</p><p>2.【推荐】：禁用命令<br>禁止线上使用keys、flushall、flushdb等，通过redis的rename机制禁掉命令，或者使用scan的方式渐进式处理。</p><p>3.【推荐】合理使用select<br>redis的多数据库较弱，使用数字进行区分，很多客户端支持较差，同时多业务用多数据库实际还是单线程处理，会有干扰。</p><p>4.【推荐】使用批量操作提高效率<br>原生命令：例如mget、mset。<br>非原生命令：可以使用pipeline提高效率。<br>但要注意控制一次批量操作的元素个数(例如500以内，实际也和元素字节数有关)。</p><h1 id="四、Redis基础入门"><a href="#四、Redis基础入门" class="headerlink" title="四、Redis基础入门"></a>四、Redis基础入门</h1><hr><p>一、redis简介</p><p> 1）redis是一个开源的、基于C语言开发的内存数据库</p><p> 2）redis是一种key-value存储系统，支持数据类型包括String、List、Set、Hash等</p><p> 3）redis是当前最热门的No-SQL系统之一</p><p> 4）redis提供了多种语言的api</p><p> 5）性能非常高，单节点TPS可达10W</p><p> 6）支持持久化</p><p>中文网: <a href="http://www.redis.cn/">http://www.redis.cn/</a></p><p>二、redis安装</p><p>yum官方源里没有redis，所以采用手动源码安装</p><p>1）上传redis安装包到linux任意目录下，解压tar xvf redis-5.6.7.tar.gz<br>2）安装gcc（redis安装依赖C语言环境，需要先安装GCC）<br>       yum install -y gcc<br>3) 进入解压后的redis目录下，执行编译操作<br>      make<br>4）执行安装命令</p><pre><code> make install</code></pre><p>三、redis配置</p><p>1）在redis目录下，新建conf文件夹，将redis.conf配置文件复制到conf目录下<br>mkdir conf;cp redis.conf .&#x2F;conf<br>2）修改redis.conf配置文件，将daemonize改为yes<br> 将bind 127.0.0.1注释掉，protected-mode改为no</p><p>四、redis启动</p><p>1）先启动server,在conf目录下，执行redis-server .&#x2F;redis.conf<br>2）使用客户端登录redis，默认连接的是6379端口的redis实例<br>  redis-cli -p 6379<br>3）关闭redis-server<br>redis-cli shutdown</p><p>五、redis数据类型</p><p>1）对String数据类型的操作</p><pre><code> set key value:给名称为key的String值赋值为value get key:返回名称为key的value值</code></pre><p>2）对list数据类型的操作</p><pre><code>rpush key value  在名称为key的list尾部添加一个值为valuelpush key value  在名称为key的list头部添加一个值为valuellen key 返回名称为key的list的长度lrange key start end:返回名称为key的list中start至end之间的元素lset key index value 给名称为key的list中index位置的元素赋值为value rpop:返回并删除名称为key的list中的尾元素</code></pre><p>3）对Hash数据类型的操作</p><pre><code> hset key field value  向名称为key的hash中添加元素 field&lt;-&gt; value hget key field 返回名称为key的hash中field对应的value hgetall key 返回名称为key的hash中所有建（field）及其对应的valuehlen key 返回名称为key的hash中元素个数hdel key field 删除名称为key中键为field的域</code></pre><p>4）对全局value的操作</p><pre><code>exists key 确认一个key是否存在del key 删除一个keytype key 返回值的类型keys pattern 返回满足给定pattern的所有keydbsize 返回当前数据库中key的数目select dbindex 切换数据库flushdb 删除当前选择数据库中所有的key</code></pre><p>六、redis多实例部署</p><p>由于redis服务端是单线程实现的，因此只能占用CPU的单核，为了充分利用CPU资源，可以在一台服务器上同时启动多个redis-server实例</p><p>配置方法：<br> 1）每个实例创建一个conf文件<br> 2）修改每个conf文件中的端口号<br> 3）启动不同实例时指定不同的配置文件</p><p>七、redis主从</p><p>  在redis的conf文件中，配置上slaveof 127.0.0.1 6379，重启redis</p><p>八、redis其他配置</p><p>  maxclient 最大连接数</p><p>  maxmemory</p><p>  requirepass 设置密码    redis-cli -p 6379 -a lucius123</p><p> 当主redis里配置了密码，从redis是不能同步的，从redis中必须配置主redis的密码，否则数据无法完成同步，在从redis的配置文件中设置masterauth参数为主redis设置的密码。</p><p>九、项目整合redis</p><p>1）修改配置文件<br>2）修改redis的host、port、password<br>3）访问环境整合接口<br>系统中使用了缓存+数据库<br>先从缓存读数据，如果有，直接返回数据；如果没有，去数据库读，然后再插入到缓存中，再返回数据</p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>RedisUtil工具类</title>
      <link href="/2024/10/23/RedisUtil%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
      <url>/2024/10/23/RedisUtil%E5%B7%A5%E5%85%B7%E7%B1%BB/</url>
      
        <content type="html"><![CDATA[<h1 id="Redis工具组件"><a href="#Redis工具组件" class="headerlink" title="Redis工具组件"></a>Redis工具组件</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//redis工具类</span></span><br><span class="line"><span class="meta">@UtilityClass</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedisUtils</span> &#123;</span><br><span class="line">    <span class="keyword">private</span>  RedisService redisService;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>  RedisTemplate&lt;String, String&gt; stringRedisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> RedisService <span class="title function_">getRedisService</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(redisService==<span class="literal">null</span>)&#123;</span><br><span class="line">            redisService=SpringContextHolder.getBean(RedisService.class);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> redisService;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> RedisTemplate&lt;String, Object&gt; <span class="title function_">getRedisTemplate</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> SpringContextHolder.getBean(<span class="string">&quot;redisTemplate&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> RedisTemplate&lt;String, String&gt; <span class="title function_">getStringRedisTemplate</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(stringRedisTemplate==<span class="literal">null</span>)&#123;</span><br><span class="line">            stringRedisTemplate=SpringContextHolder.getBean(<span class="string">&quot;stringRedisTemplate&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stringRedisTemplate;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * HashGet</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key  键 不能为null</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> item 项 不能为null</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 值</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">hGet</span><span class="params">(String key, String item)</span> &#123;</span><br><span class="line">        HashOperations&lt;String, Object, Object&gt; ops = getRedisTemplate().opsForHash();</span><br><span class="line">        <span class="keyword">return</span> ops.get(key, item);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 向一张hash表中放入数据,如果不存在将创建</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key   键</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> item  项</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value 值</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> time  时间(秒)  注意:如果已存在的hash表有时间,这里将会替换原有的时间</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> true 成功 false失败</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hSet</span><span class="params">(String key, String item, Object value, <span class="type">long</span> time)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            HashOperations&lt;String, Object, Object&gt; ops = getRedisTemplate().opsForHash();</span><br><span class="line">            ops.put(key, item, value);</span><br><span class="line">            <span class="keyword">if</span> (time &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                expire(key, time);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            log.error(<span class="string">&quot;hSet err&#123;&#125;&quot;</span>,e.getMessage());</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 指定缓存失效时间</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key  键</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> time 时间(秒)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">expire</span><span class="params">(String key, <span class="type">long</span> time)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (time &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                getRedisTemplate().expire(key, time, TimeUnit.SECONDS);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            log.error(<span class="string">&quot;expire err&#123;&#125;&quot;</span>,e.getMessage());</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * redis  string类型 存储方法</span></span><br><span class="line"><span class="comment">     * kc:1:appName:key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key     自定义key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value   存储的字符串</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> timeout 超时时间</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setStringValue</span><span class="params">(String key, String value, <span class="type">long</span> timeout, TimeUnit unit)</span> &#123;</span><br><span class="line">        ValueOperations&lt;String, String&gt; vo = getStringRedisTemplate().opsForValue();</span><br><span class="line">        vo.set(getRedisService().getFormatKey(key), value, timeout, unit);</span><br><span class="line">        vo.set(getRedisService().getFormatKey(key), value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * redis  string类型 存储方法</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key     自定义key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value   存储的字符串</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setStringValue</span><span class="params">(String key, String value)</span> &#123;</span><br><span class="line">        ValueOperations&lt;String, String&gt; vo = getStringRedisTemplate().opsForValue();</span><br><span class="line">        vo.set(getRedisService().getFormatKey(key), value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * redis  string类型 存储方法</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key     自定义key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value   存储的字符串</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setStringVal</span><span class="params">(String key, String value)</span> &#123;</span><br><span class="line">        ValueOperations&lt;String, String&gt; vo = getStringRedisTemplate().opsForValue();</span><br><span class="line">        vo.set(key, value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * redis  string类型 存储方法</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key     自定义key</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getStringValue</span><span class="params">(String key)</span> &#123;</span><br><span class="line">        ValueOperations&lt;String, String&gt; vo = getStringRedisTemplate().opsForValue();</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> vo.get(getRedisService().getFormatKey(key));</span><br><span class="line">        log.info(<span class="string">&quot;获取&#123;&#125;=&#123;&#125;&quot;</span>,getFormatKey(key),s);</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置key并设置过期时间</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> time</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> Boolean <span class="title function_">setIfAbsent</span><span class="params">(String key, String value, <span class="type">long</span> time)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> getStringRedisTemplate().opsForValue().setIfAbsent(key, value, time, TimeUnit.SECONDS);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * redis  string类型 存储方法</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key     自定义key</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getStringVal</span><span class="params">(String key)</span> &#123;</span><br><span class="line">        ValueOperations&lt;String, String&gt; vo = getStringRedisTemplate().opsForValue();</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> vo.get(key);</span><br><span class="line">        <span class="keyword">if</span>(log.isDebugEnabled())&#123;</span><br><span class="line">            log.debug(<span class="string">&quot;获取&#123;&#125;=&#123;&#125;&quot;</span>,key,s);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 删除hash表中的值</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key  键 不能为null</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> item 项 可以使多个 不能为null</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hDel</span><span class="params">(String key, Object... item)</span> &#123;</span><br><span class="line">        HashOperations&lt;String, Object, Object&gt; ops = getStringRedisTemplate().opsForHash();</span><br><span class="line">        ops.delete(key, item);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 判断hash表中是否有该项的值</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key  键 不能为null</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> item 项 不能为null</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> true 存在 false不存在</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hHasKey</span><span class="params">(String key, String item)</span> &#123;</span><br><span class="line">        HashOperations&lt;String, Object, Object&gt; ops = getStringRedisTemplate().opsForHash();</span><br><span class="line">        <span class="keyword">return</span> ops.hasKey(key, item);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * HashSet 并设置时间</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key  键</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> map  对应多个键值</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> time 时间(秒)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> true成功 false失败</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hMSet</span><span class="params">(String key, Map&lt;String, Object&gt; map, <span class="type">long</span> time)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            HashOperations&lt;String, Object, Object&gt; ops = getStringRedisTemplate().opsForHash();</span><br><span class="line">            ops.putAll(key, map);</span><br><span class="line">            <span class="keyword">if</span> (time &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                expire(key, time);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            log.error(<span class="string">&quot;hMSet err&#123;&#125;&quot;</span>,e.getMessage());</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * hMGetStr 批量获取redis hash得值</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key  键 不能为null</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> item 项 不能为null</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 值</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Object&gt; <span class="title function_">hMGetStr</span><span class="params">(String key, List&lt;Object&gt; item)</span> &#123;</span><br><span class="line">        HashOperations&lt;String, Object, Object&gt; ops = getStringRedisTemplate().opsForHash();</span><br><span class="line">        List&lt;Object&gt; objects = ops.multiGet(key, item);</span><br><span class="line">        <span class="keyword">return</span> objects;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 获取hashKey对应的所有键值</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> key 键</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span> 对应的多个键值</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">public</span> Map&lt;Object, Object&gt; <span class="title function_">hMGet</span><span class="params">(String key)</span> &#123;</span><br><span class="line">        HashOperations&lt;String, Object, Object&gt; ops = getStringRedisTemplate().opsForHash();</span><br><span class="line">        <span class="keyword">return</span> ops.entries(key);</span><br><span class="line">    &#125;    </span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * hGetStr</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key  键 不能为null</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> item 项 不能为null</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 值</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">hGetStr</span><span class="params">(String key, String item)</span> &#123;</span><br><span class="line">        HashOperations&lt;String, Object, Object&gt; ops = getStringRedisTemplate().opsForHash();</span><br><span class="line">        <span class="keyword">return</span> ops.get(key, item);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>电报图床利用Cloudflare免费搭建</title>
      <link href="/2024/10/12/%E7%94%B5%E6%8A%A5%E5%9B%BE%E5%BA%8A%E5%88%A9%E7%94%A8Cloudflare%E5%85%8D%E8%B4%B9%E6%90%AD%E5%BB%BA/"/>
      <url>/2024/10/12/%E7%94%B5%E6%8A%A5%E5%9B%BE%E5%BA%8A%E5%88%A9%E7%94%A8Cloudflare%E5%85%8D%E8%B4%B9%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h1 id="Fork代码到自己个gitHub库。telegraph-Image"><a href="#Fork代码到自己个gitHub库。telegraph-Image" class="headerlink" title="Fork代码到自己个gitHub库。telegraph-Image"></a>Fork代码到自己个gitHub库。telegraph-Image</h1><p>代码地址：(<a href="https://github.com/x-dr/telegraph-Image/tree/static">https://github.com/x-dr/telegraph-Image/tree/static</a>)</p><h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><ol><li><p>无限图片储存数量，你可以上传不限数量的图片</p></li><li><p>无需购买服务器，托管于Cloudflare的网络上，当使用量不超过Cloudflare的免费额度时，完全免费</p></li><li><p>无需购买域名，可以使用Cloudflare Pages提供的*.pages.dev的免费二级域名，同时也支持绑定自定义域名</p></li><li><p>支持图片审查API，可根据需要开启，开启后不良图片将自动屏蔽，不再加载</p></li><li><p>支持后台图片管理，日志管理，查看访问前20的Referer、IP、img,可以对上传的图片进行在线预览，添加白名单，黑名单等操作</p></li></ol><h2 id="利用Cloudflare-pages部署"><a href="#利用Cloudflare-pages部署" class="headerlink" title="利用Cloudflare pages部署"></a>利用Cloudflare pages部署</h2><ol><li>Pages 部署 telegraph-Image 项目</li></ol><ul><li>打开telegraph-Image仓库项目，先给作者点击Star后再点击Fork！可以增加成功率！</li><li>回到 Workers 和 Pages &gt; 概述 &gt; 创建 &gt; Pages &gt; 连接到Git &gt; 选择telegraph-Image项目 &gt; 保存并部署即可</li></ul><ol start="2"><li>绑定自定义域</li></ol><ul><li>这里推荐优先使用已经转入CF的域名，并开启小黄云。如果你没有域名，也可以退而求其次使用CNAME方式使用免费域名接入自定义域。</li><li>回到 Workers 和 Pages &#x2F;telegraph-Image项目 &gt; 设置 &gt; 函数 &gt; 放置 &gt; 制作 &gt; 智能 &gt; 保存</li></ul><ol start="3"><li>创建管理后台</li></ol><ul><li>3.1 回到 Workers 和 Pages &gt; D1 &gt; 创建数据库 &gt; 仪表盘 &gt; 数据库名称img(名称可取任意值) &gt; 创建</li><li>3.2 进入img数据库 &gt; 控制台 &gt; 粘贴以下代码后 &gt; 点击执行 &gt; 等待提示此查询已成功执行。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> tgimglog;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> tgimglog (</span><br><span class="line">    `id` <span class="type">integer</span> <span class="keyword">PRIMARY</span> KEY <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    `url` text,</span><br><span class="line">    `referer` text,</span><br><span class="line">    `ip` <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    `<span class="type">time</span>` <span class="type">DATE</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> imginfo;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> imginfo (</span><br><span class="line">    `id` <span class="type">integer</span> <span class="keyword">PRIMARY</span> KEY <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    `url` text,</span><br><span class="line">    `referer` text,</span><br><span class="line">    `ip` <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    `rating` text,</span><br><span class="line">    `total` <span class="type">integer</span>,</span><br><span class="line">    `<span class="type">time</span>` <span class="type">DATE</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure></li><li>3.3 回到 Workers 和 Pages &#x2F;telegraph-Image项目 &gt; 设置 &gt; 函数 &gt; D1 数据库绑定 &gt; 变量名IMG &gt; img数据库 &gt; 点击保存</li><li>3.4 回到 Workers 和 Pages &#x2F;telegraph-Image项目 &gt; 设置 &gt; 环境变量 &gt; 为生产环境定义变量 &gt; 变量内容如下:</li><li>变量名BASIC_USER，值为你的后台管理员用户名</li><li>变量名BASIC_PASS，值为你的后台管理员密码</li><li>无需审查涩涩内容可跳过这一步</li><li>打开ModerateContent API申请页面，输入你的邮箱后点击SUBMIT</li><li>前往你的邮箱将 ModerateContent.com Sup 邮件内的 API Key 复制出来</li><li>变量名ModerateContentApiKey，值为你的 API Key</li><li>点击<code>保存</code></li><li>3.5 回到 Workers 和 Pages &#x2F;telegraph-Image项目 &gt;  部署 &gt; 右下角三个点 &gt; 重试部署即可</li></ul><ol start="4"><li>如何使用</li></ol><ul><li>例如：你的 Pages自定义域 为img.131213.xyz</li><li><a href="https://img.131213.xyz/">https://img.131213.xyz</a> 为 图床上传使用地址</li><li><a href="https://img.131213.xyz/admin">https://img.131213.xyz/admin</a> 为 图床后台管理地址</li><li><a href="https://img.131213.xyz/list">https://img.131213.xyz/list</a> 为 图床访问日志</li></ul><h2 id="变量说明"><a href="#变量说明" class="headerlink" title="变量说明"></a>变量说明</h2><blockquote><p><code>ModerateContentApiKey</code> 请前往 [<a href="https://moderatecontent.com/]">https://moderatecontent.com/]</a> (<a href="https://moderatecontent.com/)%E6%B3%A8%E5%86%8C%E5%85%8D%E8%B4%B9%E8%8E%B7%E5%8F%96API">https://moderatecontent.com/)注册免费获取API</a> key</p></blockquote><table><thead><tr><th>变量名称</th><th>值</th></tr></thead><tbody><tr><td>BASIC_USER</td><td>&lt;后台管理页面登录用户名称&gt;</td></tr><tr><td>BASIC_PASS</td><td>&lt;后台管理页面登录用户密码&gt;</td></tr><tr><td>ModerateContentApiKey</td><td>&lt;审查图像内容的API key&gt;</td></tr><tr><td>RATINGAPI</td><td>&lt;<a href="https://github.com/x-dr/nsfwjs-api">自建的鉴黄api</a> &gt;</td></tr><tr><td>TG_BOT_TOKEN</td><td>刚才获得的机器人Token</td></tr><tr><td>TG_CHAT_ID</td><td>刚才获得的频道ID</td></tr></tbody></table><blockquote><p>优先级 <code>RATINGAPI</code> &gt; <code>ModerateContentApiKey</code></p></blockquote><blockquote><p><code>RATINGAPI</code>的格式 <code>https://xxx.xxx/rating</code></p></blockquote><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>若依框架新增自定义模块接口404问题</title>
      <link href="/2024/10/11/%E8%8B%A5%E4%BE%9D%E6%A1%86%E6%9E%B6%E6%96%B0%E5%A2%9E%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%9D%97%E6%8E%A5%E5%8F%A3404%E9%97%AE%E9%A2%98/"/>
      <url>/2024/10/11/%E8%8B%A5%E4%BE%9D%E6%A1%86%E6%9E%B6%E6%96%B0%E5%A2%9E%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%9D%97%E6%8E%A5%E5%8F%A3404%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="第一种"><a href="#第一种" class="headerlink" title="第一种"></a>第一种</h1><ol><li>在父目录pom.xml文件下导入新增模块依赖</li><li>在子模块ruoyi-admin中导入新增依赖</li><li>新模块增加ruoyi-common配置，或按需通过maven配置依赖（<code>common</code>–&gt;<code>system</code>–&gt;<code>framework</code>，导入framework依赖）</li><li>重新打包编译</li></ol><h1 id="第二种"><a href="#第二种" class="headerlink" title="第二种"></a>第二种</h1><ol><li>进入ruoyi-admin启动类</li><li>在核心注解SpringBootApplication中添加<code>scanBasePackages</code> &#x3D; <code>&#123;“包名称”,“com.ruoyi”&#125;</code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication(scanBasePackages = &#123;&quot;com.mjs&quot;, &quot;com.ruoyi&quot;&#125;)</span></span><br></pre></td></tr></table></figure> 前面的是新增模块包名，后面的是若依框架包名</li><li>新增<code>@MapperScan（&quot;com.example.newmodule.mapper&quot;）</code>如下：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@MapperScan(&quot;com.mjs.mes.**.mapper&quot;)</span></span><br></pre></td></tr></table></figure></li></ol><ul><li>补充：如果还是出现404的情况，就只需要打开<code>SecurityConfig.java</code>添加如下代码：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.antMatchers(<span class="string">&quot;/mjs/**&quot;</span>).permitAll() 即可**</span><br><span class="line"><span class="string">&quot;/mjs/**&quot;</span> 是controller中<span class="meta">@RequestMapping</span>的路径</span><br></pre></td></tr></table></figure>这样做可以确保新模块的认证通过，不再出现401认证失败的问题。<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAMJZwo-uSP5Om_3nLnjmdscaDHQjE8AAtm8MRvYUFFUCoMEdKuww1MBAAMCAAN5AAM2BA" alt="mjsss_2024-10-11_22-46-14.png"><div class="video-container">[up主专用，视频内嵌代码贴在这]</div></li></ul><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>值得珍藏的4K高清壁纸网站推荐</title>
      <link href="/2024/09/22/%E5%80%BC%E5%BE%97%E7%8F%8D%E8%97%8F%E7%9A%844K%E9%AB%98%E6%B8%85%E5%A3%81%E7%BA%B8%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/"/>
      <url>/2024/09/22/%E5%80%BC%E5%BE%97%E7%8F%8D%E8%97%8F%E7%9A%844K%E9%AB%98%E6%B8%85%E5%A3%81%E7%BA%B8%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/</url>
      
        <content type="html"><![CDATA[<h1 id="12个值得珍藏的高清壁纸网站，请尽情享用"><a href="#12个值得珍藏的高清壁纸网站，请尽情享用" class="headerlink" title="12个值得珍藏的高清壁纸网站，请尽情享用"></a>12个值得珍藏的高清壁纸网站，请尽情享用</h1><p>分享12个提供高质量、多样化的高清桌面壁纸网站，包括WallpaperAbyss、AwesomeWallpapers、Desktopwallpapershd等，涵盖了摄影、创意、游戏、电影等多种主题，分辨率高达8K，适用于电脑和手机，让你轻松找到赏心悦目的壁纸。</p><h2 id="1-Wallpaper"><a href="#1-Wallpaper" class="headerlink" title="1. Wallpaper"></a>1. Wallpaper</h2><p>网址: <a href="https://wall.alphacoders.com/finding_wallpapers.php#lang=Chinese">https://wall.alphacoders.com/finding_wallpapers.php#lang=Chinese</a><br>这是一个国外的壁纸网站，绝大部分的壁纸都是超清、4K的，而且壁纸的质量都很高。</p><h2 id="2-Awesome-Wallpapers-wallhaven-cc"><a href="#2-Awesome-Wallpapers-wallhaven-cc" class="headerlink" title="2. Awesome Wallpapers - wallhaven.cc"></a>2. Awesome Wallpapers - wallhaven.cc</h2><p>网址：<a href="https://alpha.wallhaven.cc/">https://alpha.wallhaven.cc/</a><br>图片丰富，质量很高，分为通用、动漫、人物三大类，可以按屏幕比例和分辨率检索。</p><h2 id="3-Desktop-wallpapers-hd-free-desktop-backgrounds"><a href="#3-Desktop-wallpapers-hd-free-desktop-backgrounds" class="headerlink" title="3. Desktop wallpapers hd, free desktop backgrounds"></a>3. Desktop wallpapers hd, free desktop backgrounds</h2><p>网址：<a href="https://wallpaperscraft.com/">https://wallpaperscraft.com/</a><br>类型丰富，左侧显示有图片分类，支持安卓和 iOS 客户端。</p><h2 id="4-Beautiful-Free-Images-Unsplash"><a href="#4-Beautiful-Free-Images-Unsplash" class="headerlink" title="4. Beautiful Free Images | Unsplash"></a>4. Beautiful Free Images | Unsplash</h2><p>网址：<a href="https://unsplash.com/">https://unsplash.com/</a><br>：以摄影作品为主，图片分辨率和尺寸很多，有的尺寸不适合做壁纸，需要挑选。</p><h2 id="5-极简壁纸-海量电脑桌面壁纸美图"><a href="#5-极简壁纸-海量电脑桌面壁纸美图" class="headerlink" title="5. 极简壁纸_海量电脑桌面壁纸美图"></a>5. 极简壁纸_海量电脑桌面壁纸美图</h2><p>网址：<a href="https://bz.zzzmh.cn/">https://bz.zzzmh.cn/</a><br>创意、摄影、自然、人物、二次元，图片来源自 WallHaven，进行了重新分类，国内速度较好。</p><h2 id="6-Simple-Desktops"><a href="#6-Simple-Desktops" class="headerlink" title="6. Simple Desktops"></a>6. Simple Desktops</h2><p>网址：<a href="http://simpledesktops.com/">http://simpledesktops.com/</a><br>极简风格，支持 Mac、iOS、安卓客户端。</p><h2 id="7-Best-Wallpaper-Site-for-HD-4K-Wallpapers"><a href="#7-Best-Wallpaper-Site-for-HD-4K-Wallpapers" class="headerlink" title="7. Best Wallpaper Site for HD, 4K Wallpapers"></a>7. Best Wallpaper Site for HD, 4K Wallpapers</h2><p>网址：<a href="https://wallpapersite.com/">https://wallpapersite.com/</a><br>适合桌面和手机，按分类检索，支持安卓客户端。</p><h2 id="8-GameWallpapers-com"><a href="#8-GameWallpapers-com" class="headerlink" title="8. GameWallpapers.com"></a>8. GameWallpapers.com</h2><p>网址：<a href="https://www.gamewallpapers.com/">https://www.gamewallpapers.com/</a><br>游戏专题壁纸，有专门的宽屏、双屏和多屏壁纸。</p><h2 id="9-CGWallpapers-com"><a href="#9-CGWallpapers-com" class="headerlink" title="9. CGWallpapers.com"></a>9. CGWallpapers.com</h2><p>网址：<a href="https://www.cgwallpapers.com/">https://www.cgwallpapers.com/</a><br>CG 动画专题壁纸，有专门的宽屏、双屏和多屏壁纸。</p><h2 id="10-Wallpaper-Cave"><a href="#10-Wallpaper-Cave" class="headerlink" title="10. Wallpaper Cave"></a>10. Wallpaper Cave</h2><p>网址：<a href="https://wallpapercave.com/">https://wallpapercave.com/</a><br>风格偏清新明丽，主页按类型和主题将壁纸分为各个小类，有的类别挺小众有趣的，桌面和手机壁纸都有。</p><h2 id="11-Moviemania-Textless-high-resolution-movie-wallpapers"><a href="#11-Moviemania-Textless-high-resolution-movie-wallpapers" class="headerlink" title="11.  Moviemania - Textless high-resolution movie wallpapers"></a>11.  Moviemania - Textless high-resolution movie wallpapers</h2><p>网址：<a href="https://www.moviemania.io/">https://www.moviemania.io/</a><br>互联网上最大的无文字高分辨率电影壁纸库，支持桌面和手机。</p><h2 id="12-哲风壁纸"><a href="#12-哲风壁纸" class="headerlink" title="12. 哲风壁纸"></a>12. 哲风壁纸</h2><p>网址：<a href="https://haowallpaper.com/">https://haowallpaper.com/</a><br>炫酷风格，分为通用、动漫、人物三大类。</p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>常用工具组件</title>
      <link href="/2024/08/28/%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E4%BB%A3%E7%A0%81%E7%BB%84%E4%BB%B6/"/>
      <url>/2024/08/28/%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E4%BB%A3%E7%A0%81%E7%BB%84%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="IPV4-V6校验合法"><a href="#IPV4-V6校验合法" class="headerlink" title="IPV4&#x2F;V6校验合法"></a>IPV4&#x2F;V6校验合法</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Boolean <span class="title function_">isIP</span><span class="params">(String ip)</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">ipReg</span> <span class="operator">=</span> <span class="string">&quot;^((1\\d&#123;2&#125;|2[0-4]\\d|25[0-5]|[1-9]\\d|[1-9])|\\*)\\.&quot;</span></span><br><span class="line">            + <span class="string">&quot;((1\\d&#123;2&#125;|2[0-4]\\d|25[0-5]|[1-9]\\d|\\d)|\\*)\\.&quot;</span></span><br><span class="line">            + <span class="string">&quot;((1\\d&#123;2&#125;|2[0-4]\\d|25[0-5]|[1-9]\\d|\\d)|\\*)\\.&quot;</span></span><br><span class="line">            + <span class="string">&quot;(1\\d&#123;2&#125;|2[0-4]\\d|25[0-5]|[1-9]\\d|[1-9])$&quot;</span>;</span><br><span class="line">    <span class="type">Pattern</span> <span class="variable">ipPattern</span> <span class="operator">=</span> Pattern.compile(ipReg);</span><br><span class="line">    <span class="keyword">return</span> ipPattern.matcher(ip).matches();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isIP</span><span class="params">(String ipAddress)</span>&#123;</span><br><span class="line">    String ip=<span class="string">&quot;(2[5][0-5]|2[0-4]\\d|1\\d&#123;2&#125;|\\d&#123;1,2&#125;)\\.(25[0-5]|2[0-4]\\d|1\\d&#123;2&#125;|\\d&#123;1,2&#125;)\\.(25[0-5]|2[0-4]\\d|1\\d&#123;2&#125;|\\d&#123;1,2&#125;)\\.(25[0-5]|2[0-4]\\d|1\\d&#123;2&#125;|\\d&#123;1,2&#125;)&quot;</span>;</span><br><span class="line">    <span class="type">Pattern</span> <span class="variable">pattern</span> <span class="operator">=</span> Pattern.compile(ip);</span><br><span class="line">    <span class="type">Matcher</span> <span class="variable">matcher</span> <span class="operator">=</span> pattern.matcher(ipAddress);</span><br><span class="line">    <span class="keyword">return</span> matcher.matches();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Boolean <span class="title function_">isIPV6</span><span class="params">(String ip)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ip != <span class="literal">null</span> &amp;&amp; ip.contains(<span class="string">&quot;:&quot;</span>) &amp;&amp; ip.length() &lt; <span class="number">40</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>Java stream 常用排序转化</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用 Stream 排序</span></span><br><span class="line">        list = list.stream().sorted(Comparator.comparing(Person::getAge).reversed()).collect(Collectors.toList());</span><br><span class="line">        </span><br><span class="line"><span class="comment">// 按照[年龄]正序,但年龄中有一个 null 值</span></span><br><span class="line">        list = list.stream().sorted(Comparator.comparing(Person::getAge,</span><br><span class="line">                Comparator.nullsFirst(Integer::compareTo))).collect(Collectors.toList());</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Long&gt; memberIds = list.stream().map(AgentReviewMode::getMemberId).collect(Collectors.toList());</span><br><span class="line">     </span><br><span class="line">List&lt;Member&gt; memberList = memberMapper.queryMemberByMemberIdList(memberIds, HttpUtils.getSizeId());</span><br><span class="line">Map&lt;Long, Member&gt; memberMap = memberList.stream().collect(Collectors.toMap(Member::getMemberId, Function.identity()));</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">VerifySceneEnum</span> &#123;</span><br><span class="line">    RETRIEVE_LOGIN_PASSWORD(<span class="number">1</span>, <span class="string">&quot;找回登录密码&quot;</span>),</span><br><span class="line">    RESET_PAYMENT_PASSWORD(<span class="number">2</span>, <span class="string">&quot;重置支付密码&quot;</span>),</span><br><span class="line">    CHANGE_MAILBOX(<span class="number">3</span>, <span class="string">&quot;修改邮箱&quot;</span>),</span><br><span class="line">    RESET_MAILBOX(<span class="number">4</span>, <span class="string">&quot;重置邮箱&quot;</span>),</span><br><span class="line">    RESET_SECURITY_PASSWORD(<span class="number">5</span>, <span class="string">&quot;重置安全密保&quot;</span>),</span><br><span class="line">    RESET_AUTHENTICATOR(<span class="number">6</span>, <span class="string">&quot;重置身份验证器&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer code;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Map&lt;Integer,String&gt; sceneMap;</span><br><span class="line">    <span class="comment">// private static final Map&lt;Integer,VerifySceneEnum&gt; sceneMap;</span></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        sceneMap = Arrays.stream(VerifySceneEnum.values()).collect(Collectors.toMap(VerifySceneEnum::getCode,VerifySceneEnum::getName));</span><br><span class="line">        <span class="comment">//sceneMap = Arrays.stream(VerifySceneEnum.values()).collect(Collectors.toMap(VerifySceneEnum::getCode,a-&gt;a));</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getVerifySceneStr</span><span class="params">(Integer code)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sceneMap.get(code);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="日志拦截组件"><a href="#日志拦截组件" class="headerlink" title="日志拦截组件"></a>日志拦截组件</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component(&quot;agentControllerLogAspect&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ControllerLogAspect</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> UserContext userContext;</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> RedisService redisService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;agent.cache.default.time:4000&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> defaultCacheTime;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;response.parameter.length:6000&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> respParameterLength;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;agent.expert.limit.time:30&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> expertLimitTime;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> Environment environment;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 对于所有返回类型是Response对象的方法,如果执行出错了就封装一下</span></span><br><span class="line">    <span class="meta">@Pointcut(&quot;@within(org.springframework.web.bind.annotation.RestController)&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">responseMethod</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getAllFiledValue</span><span class="params">(Object[] obj)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (obj == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">StringBuffer</span> <span class="variable">buffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; obj.length; i++) &#123;</span><br><span class="line">            buffer.append(getAllFiledValue(obj[i]));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> buffer.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getAllFiledValue</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">        <span class="type">StringBuffer</span> <span class="variable">buffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(<span class="string">&quot;[&quot;</span> + obj.getClass().getSimpleName() + <span class="string">&quot;(&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Field[] fields = ReflectUtil.getFields(obj.getClass());</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; fields.length; i++) &#123;</span><br><span class="line">                <span class="type">Field</span> <span class="variable">field</span> <span class="operator">=</span> fields[i];</span><br><span class="line">                <span class="type">Object</span> <span class="variable">fieldValue</span> <span class="operator">=</span> ReflectUtil.getFieldValue(obj, field);</span><br><span class="line">                <span class="comment">//是否有站点id字段，有进行赋值</span></span><br><span class="line">                <span class="keyword">if</span>(field.getName().equals(<span class="string">&quot;stxx&quot;</span>))&#123;</span><br><span class="line">                    <span class="keyword">if</span>(fieldValue==<span class="literal">null</span>)&#123;</span><br><span class="line">                        fieldValue=HttpUtils.getSizeId();</span><br><span class="line">                    &#125;</span><br><span class="line">                    ReflectUtil.setFieldValue(obj,<span class="string">&quot;stxx&quot;</span>,fieldValue);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//为空不答应字段</span></span><br><span class="line">                <span class="keyword">if</span>(fieldValue == <span class="literal">null</span>)&#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span>(fieldValue <span class="keyword">instanceof</span> String)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(StrUtil.isBlank(Convert.toStr(fieldValue)))&#123;</span><br><span class="line">                            <span class="keyword">continue</span>;</span><br><span class="line">                        &#125;                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//是否包含脱敏关键字,包含进行脱敏</span></span><br><span class="line">                <span class="keyword">if</span>(field.isAnnotationPresent(EncrypField.class))&#123;</span><br><span class="line">                    <span class="keyword">if</span> (fieldValue != <span class="literal">null</span> &amp;&amp; fieldValue <span class="keyword">instanceof</span> String) &#123;</span><br><span class="line">                        <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> EncryptUtils.encrypt(Convert.toStr(fieldValue));</span><br><span class="line">                        buffer.append(field.getName()).append(<span class="string">&quot;=&quot;</span>).append(value);</span><br><span class="line">                    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                        buffer.append(field.getName()).append(<span class="string">&quot;=&quot;</span>).append(fieldValue);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    buffer.append(field.getName()).append(<span class="string">&quot;=&quot;</span>).append(fieldValue);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i &lt; fields.length - <span class="number">1</span>) &#123;</span><br><span class="line">                    buffer.append(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            log.error(<span class="string">&quot;获取参数值出错&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">        buffer.append(<span class="string">&quot;)&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> buffer.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Around(&quot;responseMethod()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">process</span><span class="params">(ProceedingJoinPoint pjp)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        PageHelper.clearPage();</span><br><span class="line">        <span class="type">MethodSignature</span> <span class="variable">msig</span> <span class="operator">=</span> (MethodSignature) pjp.getSignature();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">target</span> <span class="operator">=</span> pjp.getTarget();</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> target.getClass().getSimpleName() + <span class="string">&quot;.&quot;</span> + msig.getName();</span><br><span class="line">        <span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="type">Method</span> <span class="variable">method</span> <span class="operator">=</span> msig.getMethod();</span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> HttpUtils.getRequest().getRequestURI();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            log.info(<span class="string">&quot;开始controller-&#123;&#125;,url:&#123;&#125;,参数:&#123;&#125;,请求头&#123;&#125;&quot;</span>, name, HttpUtils.getRequest().getRequestURI(), getAllFiledValue(pjp.getArgs()), HttpUtils.getHeaders());</span><br><span class="line">            <span class="comment">//判断是否带有记录日志注解</span></span><br><span class="line">            <span class="type">long</span> <span class="variable">sTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">            <span class="type">OperateLog</span> <span class="variable">annotation</span> <span class="operator">=</span> method.getAnnotation(OperateLog.class);</span><br><span class="line">            <span class="keyword">if</span>(annotation !=<span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">spel</span> <span class="operator">=</span> annotation.operater();</span><br><span class="line">                <span class="type">String</span> <span class="variable">module</span> <span class="operator">=</span> annotation.<span class="keyword">module</span>();</span><br><span class="line">                <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> SpELUtils.parseSpel(method,pjp.getArgs(), spel);</span><br><span class="line">                <span class="type">String</span> <span class="variable">menu</span> <span class="operator">=</span> SpELUtils.parseSpel(method,pjp.getArgs(), <span class="keyword">module</span>);</span><br><span class="line">                <span class="type">OperateLogInfo</span> <span class="variable">attribute</span> <span class="operator">=</span> (OperateLogInfo)HttpUtils.getRequest().getAttribute(<span class="string">&quot;com.kkcloud.core.component.operaterLog.OperateLogInfo&quot;</span>);</span><br><span class="line">                attribute.setOperater(s);</span><br><span class="line">                attribute.setModule(menu.replaceAll(<span class="string">&quot;[]\\[]&quot;</span>,<span class="string">&quot;&quot;</span>));</span><br><span class="line"><span class="comment">//                log.debug(&quot;解析代理系统操作日志&#123;&#125;,耗时&#123;&#125;, OperateLogInfo:&#123;&#125;&quot; , name,  System.currentTimeMillis() - sTime,attribute.getOperationType());</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">            log.error(<span class="string">&quot;为防止意外捕获一下,打印参数不可能出错的&#123;&#125;&quot;</span>,ex);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 导出限制</span></span><br><span class="line">        <span class="type">ExportLimit</span> <span class="variable">exportLimitAnnotation</span> <span class="operator">=</span> method.getAnnotation(ExportLimit.class);</span><br><span class="line">        <span class="keyword">if</span>(Objects.nonNull(exportLimitAnnotation)) &#123;</span><br><span class="line">            exportLimit();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">QueryCache</span> <span class="variable">queryCacheAnnotation</span> <span class="operator">=</span> method.getAnnotation(QueryCache.class);</span><br><span class="line">        Object proceed;</span><br><span class="line">        <span class="keyword">if</span>(Objects.nonNull(queryCacheAnnotation))&#123;</span><br><span class="line">            proceed = cachedata(pjp,name,url,queryCacheAnnotation);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            proceed = pjp.proceed();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(Objects.nonNull(exportLimitAnnotation)) &#123;</span><br><span class="line">            <span class="comment">// 删除缓存</span></span><br><span class="line">            RedisUtils.getRedisTemplate().delete(StrUtil.format(Common.EXPERT_LIMIT_LOCK_SITE_KEY, HttpUtils.getSizeId()));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">long</span> <span class="variable">time</span> <span class="operator">=</span> System.currentTimeMillis() - start;</span><br><span class="line">            <span class="type">String</span> <span class="variable">requestId</span> <span class="operator">=</span> MDC.get(<span class="string">&quot;requestId&quot;</span>);</span><br><span class="line">            CompletableFuture.runAsync(()-&gt;&#123;</span><br><span class="line">                MDC.put(<span class="string">&quot;requestId&quot;</span>, requestId);</span><br><span class="line">                <span class="type">long</span> <span class="variable">start1</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">                <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> JSON.toJSONString(proceed, <span class="keyword">new</span> <span class="title class_">SimpleValueFilter</span>());</span><br><span class="line">                <span class="type">int</span> <span class="variable">endIndex</span> <span class="operator">=</span> s.length();</span><br><span class="line">                <span class="keyword">if</span>(endIndex &gt; respParameterLength)&#123;</span><br><span class="line">                    endIndex = respParameterLength;</span><br><span class="line">                    s = s.substring(<span class="number">0</span>,endIndex)+<span class="string">&quot;...&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                log.info(<span class="string">&quot;controller执行&#123;&#125;,返回数据:&#123;&#125;,耗时&#123;&#125;&quot;</span>, name,s,System.currentTimeMillis() - start1);</span><br><span class="line">            &#125;);</span><br><span class="line">            log.info(<span class="string">&quot;controller执行结束&#123;&#125;,耗时&#123;&#125;&quot;</span>, name,time);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            log.error(<span class="string">&quot;打印响应参数出错&quot;</span>,e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> proceed;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Object <span class="title function_">cachedata</span><span class="params">(ProceedingJoinPoint pjp, String name, String url, QueryCache annotation)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        <span class="type">HttpServletResponse</span> <span class="variable">response</span> <span class="operator">=</span> HttpUtils.getResponse();</span><br><span class="line">        Object proceed;<span class="comment">//过期时间</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">apolloKey</span> <span class="operator">=</span> annotation.value();</span><br><span class="line">            <span class="keyword">if</span> (StrUtil.isBlank(apolloKey)) &#123;</span><br><span class="line">                apolloKey = name;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">String</span> <span class="variable">property</span> <span class="operator">=</span> environment.getProperty(apolloKey);</span><br><span class="line">            <span class="type">long</span> <span class="variable">expiration</span> <span class="operator">=</span> Convert.toLong(property, annotation.timeoutFlag()?annotation.timeout():defaultCacheTime);</span><br><span class="line">            <span class="keyword">if</span> (<span class="literal">false</span>) &#123;</span><br><span class="line">                response.setStatus(HttpStatus.NOT_MODIFIED.value());</span><br><span class="line">                proceed = <span class="literal">null</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                Object[] args = pjp.getArgs();</span><br><span class="line">                <span class="type">String</span> <span class="variable">redisKey</span> <span class="operator">=</span> apolloKey;</span><br><span class="line">                <span class="keyword">if</span> (args.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    Field[] fields = ReflectUtil.getFields(args[<span class="number">0</span>].getClass());</span><br><span class="line">                    Map&lt;String, String&gt; param = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">                    <span class="keyword">for</span> (Field field : fields) &#123;</span><br><span class="line">                        <span class="type">Object</span> <span class="variable">fieldValue</span> <span class="operator">=</span> ReflectUtil.getFieldValue(args[<span class="number">0</span>], field);</span><br><span class="line">                        <span class="keyword">if</span> (fieldValue != <span class="literal">null</span>) &#123;</span><br><span class="line">                            <span class="keyword">if</span> (fieldValue <span class="keyword">instanceof</span> String) &#123;</span><br><span class="line">                                <span class="keyword">if</span> (!((String) fieldValue).equals(<span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line">                                    param.put(field.getName(), fieldValue.toString());</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                param.put(field.getName(), fieldValue.toString());</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="type">StringBuffer</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">                    <span class="keyword">for</span> (Map.Entry&lt;String, String&gt; entry : param.entrySet()) &#123;</span><br><span class="line">                        sb.append(entry.getKey()).append(<span class="string">&quot;=&quot;</span>).append(entry.getValue()).append(<span class="string">&quot;&amp;&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (sb.length() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                        apolloKey += <span class="string">&quot;:&quot;</span> + MD5Util.getMD5(sb.toString());</span><br><span class="line">                        log.info(<span class="string">&quot;生成缓存key=&#123;&#125;,md5=&#123;&#125;&quot;</span>, sb.toString(), apolloKey);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="type">SessionUser</span> <span class="variable">user</span> <span class="operator">=</span> userContext.getUser();</span><br><span class="line">                    redisKey = StrUtil.format(<span class="string">&quot;&#123;&#125;:nosyncno_&#123;&#125;&quot;</span>, user.getUserName(), apolloKey);</span><br><span class="line">                    <span class="comment">//redisKey = StrUtil.format(&quot;&#123;&#125;:nosyncno_&#123;&#125;&quot;, HttpUtils.getUser().getName(), apolloKey);</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//读取redis中的缓存数据</span></span><br><span class="line">                <span class="comment">//redis 全路径kc:1:kkcloud-agent-client:webRoot:MemberController.queryMemberList:30E7E8A398973117F99BDF8D17E09374</span></span><br><span class="line">                <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> redisService.getValue(redisKey);</span><br><span class="line">                <span class="keyword">if</span> (value != <span class="literal">null</span>) &#123;</span><br><span class="line">                    log.info(<span class="string">&quot;读取缓存数据url=&#123;&#125;&quot;</span>,url);</span><br><span class="line">                    proceed = JSONObject.parseObject(value.toString(), ResponseVO.class);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    proceed = pjp.proceed();</span><br><span class="line">                    <span class="type">SerializeConfig</span> <span class="variable">serializeConfig</span> <span class="operator">=</span> SerializeConfig.getGlobalInstance();</span><br><span class="line">                    serializeConfig.put(Long.class, ToStringSerializer.instance);</span><br><span class="line">                    serializeConfig.put(BigInteger.class, ToStringSerializer.instance);</span><br><span class="line">                    serializeConfig.put(Long.TYPE, ToStringSerializer.instance);</span><br><span class="line">                    redisService.setValue(redisKey, JSON.toJSONString(proceed, serializeConfig,</span><br><span class="line">                            SerializerFeature.PrettyFormat,</span><br><span class="line">                            SerializerFeature.WriteMapNullValue,</span><br><span class="line">                            SerializerFeature.WriteNullStringAsEmpty,</span><br><span class="line">                            SerializerFeature.DisableCircularReferenceDetect,</span><br><span class="line">                            SerializerFeature.WriteNullListAsEmpty,</span><br><span class="line">                            SerializerFeature.WriteDateUseDateFormat,</span><br><span class="line">                            SerializerFeature.IgnoreNonFieldGetter), expiration);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            response.setHeader(<span class="string">&quot;last-modified&quot;</span>, CommonDateUtil.nowStr());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">            log.error(<span class="string">&quot;读取缓存数据失败&#123;&#125;,实时查询数据&quot;</span>, ex.getMessage());</span><br><span class="line">            proceed = pjp.proceed();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> proceed;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">exportLimit</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">siteId</span> <span class="operator">=</span> HttpUtils.getSizeId();</span><br><span class="line">        log.info(<span class="string">&quot;exportLimit siteId:&quot;</span>, siteId);</span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">result</span> <span class="operator">=</span> RedisUtils.setIfAbsent(StrUtil.format(Common.EXPERT_LIMIT_LOCK_SITE_KEY, siteId), <span class="string">&quot;1&quot;</span>, expertLimitTime);</span><br><span class="line">        <span class="keyword">if</span> (!result) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">ServiceException</span>(CommonStatusCode.FAILURE.getCode(), <span class="string">&quot;有导出任务正在进行中，请稍后重试&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 经验分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>币圈入门第二天 - 交易赚钱的原理</title>
      <link href="/2024/08/13/%E5%B8%81%E5%9C%88%E5%85%A5%E9%97%A8%E7%AC%AC%E4%BA%8C%E5%A4%A9/"/>
      <url>/2024/08/13/%E5%B8%81%E5%9C%88%E5%85%A5%E9%97%A8%E7%AC%AC%E4%BA%8C%E5%A4%A9/</url>
      
        <content type="html"><![CDATA[<h1 id="交易赚钱的原理"><a href="#交易赚钱的原理" class="headerlink" title="交易赚钱的原理"></a>交易赚钱的原理</h1><hr><p>首先，先明确一点，你交易赚到的钱都是别人兜里的钱，这完全是一个从别人兜里拿钱的游戏。自然，你兜里的钱也会完全可以被别人拿走。</p><p>交易是如何赚钱的呢？ 首先让我们看看价格是如何上涨和下跌的，可能你会说：不就是买的单子比卖的单子多就会上涨吗？当然不是，当你买的时候，必须有对应的卖单你才能买入成交，同样，当你卖的时候，有对应的买单才能成交，所以何来哪一边单子比哪一边多?我们来看一个价格上涨的例子<br>假设当前价格交易所报价为10元<br>(上面挂单省略)<br>商家 D一共有12 个苹果，出价 10.8元&#x2F;个<br>商家C一共有6个苹果，出价10.6元&#x2F;个<br>商家B一共有5个苹果，出价10.5元&#x2F;个<br>商家A一共有2个苹果，出价10元&#x2F;个<br>此时买家出价情况如下:<br>买家A一想买3个苹果，出价10元&#x2F;个<br>买家B一想买3个苹果，出价9.9元&#x2F;个<br>买家C一想买4个苹果，出价9.5元&#x2F;个<br>(下面挂单省略)<br>这时候交易所给出的中间价格就是 10元，也就是说交易所此时报价为 10元。如果此时有个大户，市价买入 20个苹果，也就是说一口气吃掉4个卖单挂单，此时交易所报价会瞬间就会来到 10.8元，也就是说，你如果在大户市价买入之前买入，并且是以均价10 元买入的，当大户买入将价格推到 10.8 元时你卖出，你就挣了钱，挣得是谁的钱?大户的钱!市场的钱不会凭空产生，凭空消失，只是会到处转移(是不是和能量的定义一样，哈哈)<br>下面开始说说币圈最为主要的两种金融产品:现货与合约</p><h1 id="现货"><a href="#现货" class="headerlink" title="现货"></a>现货</h1><hr><p>简单地说，如果你在现货市场购买了一种商品，你可以立即获得这种商品，并且提现到你得冷钱包里面，但是需要你立刻付对应的款项:并且得保证钱必须足够，假设你有1000USDT，你购买得头寸价值(也就是商品价值)也只能有1000USDT，并且只有上涨时候才可以挣钱。或许你还有疑问，难道不应该是这样吗?难不成我有1000USDT还能买10000USDT 得东西?<br>答案是:当然可以!这就引出接下来合约的概念</p><h1 id="合约"><a href="#合约" class="headerlink" title="合约"></a>合约</h1><hr><p>记得我之前说过吗?有的交易员利用几千块就能赚到上百万，他们就是利用了合约，加了高杠杆，合约带来高收益回报的同也带来了巨大的风险，无数交易者因为合约而爆仓。同时，现货只有上涨才能挣钱，而合约可以做到下跌时也能挣时钱!（做空）</p><h2 id="杠杆倍数与仓位价值问题"><a href="#杠杆倍数与仓位价值问题" class="headerlink" title="杠杆倍数与仓位价值问题"></a>杠杆倍数与仓位价值问题</h2><hr><p> 有的人可能有点疑问，是不是设定了十倍杠杆就是反方向波动 10% 就会爆仓?当然不是<br>距离爆仓价格多少只和你当时所下单的头寸价值有关，和多少倍杠杆无关，也就是说，你有100USDT，有如果你就算开了十倍杠杆，最后你还是下单价值 100USDT 的头寸，你这个和现货基本差不多(除了无法提现)没有爆仓价格的<br>我来举一个交易者操作合约的例子，这个例子可以让你读懂几乎所有的合约知识。</p><h2 id="易员小明的合约操盘"><a href="#易员小明的合约操盘" class="headerlink" title="易员小明的合约操盘"></a>易员小明的合约操盘</h2><hr><p>今天一大早，交易员小明打开电脑，嘿、他看到 BTC已经大幅下跌很久，忽然有点上涨的迹象，虽然他没有找到进一步的证据去证明他的猜想，但是他有点急不可耐了，他害怕错过一个暴涨行情（Fomo，行业术语，全拼叫fear of mising out害怕错过），但是很不幸，由于他之前的胡乱操作，他原来 1000U 的账户里就剩下了 100USDT，于是他想通过这一波行情一步翻身，但是这点钱就算吃完这一整波暴涨(如果后续真的有这样的行情的话)，也只能赚几十U。于是左看看又看看，看到了交易所提供合约服务.他玩这么久，还不知道合约是怎么玩的，于是点开介绍，他看了一会，自己总结了一下:<strong>原来合约就是交易所借钱给你，借的钱的上限取绝于你自己设定的杠杆倍数</strong>，也就是说，自己有100USDT的话，现货只能购买价值小于等于100USDT的头寸，如果他玩合约，将杠杆倍数调到10倍的话，他最多可以购买价值1000USDT的头寸，不过是有代价的:<br>1、手续费变多，手续费是按购买头寸价值收取的，也就是说小明购买 1000USDT的BTC的话，交易所会收取1000*0.05%&#x3D;0.5的手续费<br>2、如果他真的下单价值 1000USDT 的头寸开多，如果价格没有按照他预想的方向波动，并且下跌了 10%，那么他的头寸会被强平，因为你已经把钱自己的钱亏光了(1000U的10%就是100U)，交易所会强平你的头寸，不会让你亏到交易所的钱，也就是你有输光的可能性<br>3、如果是永续合约的话，一般每8小时会被收取资金费率(也有可能是得到资金费率)主流币种这个资金费率几乎可以忽略不计，一些山寨币可能会很高<br>于是小明下定决心要大干一场，直接把杠杆调到 20 倍，把能开的头寸都押上去了，小明虽然只有100USDT，却可以持仓 2000USDT的头寸，按照他的设想，只要等到了这一波上涨，他的账户起码可以翻几倍，这样来回操作几次就回本了，多么诱人的回报。开仓后，小明目不转睛地盯着屏幕，看看自己这一场”赌“没赌对，果然，行情开始慢慢上涨，小明看到自己账户的浮盈开始变多，心理乐开了花:哎呀，我果然是交易天才。不一会，浮盈已经来到了 50U，别忘记，他的本金只有100USDT，也就是说行情上涨了5%,他利用杠杆就让账户翻倍了，如果现货他只赚到了5%。他还在想要不要继续拿下去的时候，忽然一根大阴线砸下来，直接砸下去 2%，他看到这里眼睛都直了，心理两个小人开始打架了:<br>持仓小人:妈的，明明可以赚 50U，这下可好只能赚 30U，我要持仓等待，等利润回到 50U 我就平仓<br>平仓小人:赶紧平仓吧，这波上涨并没有起来，空头看起来很强势，不如先平仓在看看后面行情<br>小明闭眼痛苦的想了想，于是决定等;利润回来就平仓，但是这个决定所带来的教训，会让他永远记住，等他做完这个决定以后，开始等待，后面几根区线开始开始出现一点点小阳线，这是多头无力的现象，但是小明开始自己安慰自己:万一后面来根大阳线，现在平仓太亏了，但是，<strong>市场不在乎你的仓位</strong>，突然一根比上次更为巨大的阴线砸了下来，小明直接从盈利变成亏损，这下他更坐不住了，他心理暗暗下决心，只要回本就平仓，但是市场可不管他怎么想，开始头也不回的向下走，看到亏损一步一步放大，小明大脑仿佛被冻住一样，不知道该怎么做，终于，价格终于下跌了 5% ，打到了小明的爆仓线，交易所瞬间把小明仓位强平了(也叫作爆仓了)，小明望着自己空荡荡的账户，好一会才同过神来。<br>故事就讲到这里，合约有两种方式做多与做空，上面是做多的例子，而做空的话，就是交易所借给你币，你去卖掉在价格下跌的时候去买回来还给交易所，中间的差价就是你赚到的钱。总的来说，做多就是上涨挣钱，做空就是下跌挣钱。上述描述的是U本位合约。</p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
        <tags>
            
            <tag> 加密货币 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>币圈入门第一天</title>
      <link href="/2024/08/13/%E5%B8%81%E5%9C%88%E5%85%A5%E9%97%A8%E7%AC%AC%E4%B8%80%E5%A4%A9/"/>
      <url>/2024/08/13/%E5%B8%81%E5%9C%88%E5%85%A5%E9%97%A8%E7%AC%AC%E4%B8%80%E5%A4%A9/</url>
      
        <content type="html"><![CDATA[<h1 id="中心主旨"><a href="#中心主旨" class="headerlink" title="中心主旨"></a>中心主旨</h1><p>与其临渊羡鱼，不如退而结网。好多人进入币圈几个月都有点蒙圈，币圈坑很多，骗子多。相信看到这篇文的你，应该是属于币圈小白，对这个圈子没有多少了解，不知道从何开始，希望这篇文章能填补你们的只是盲区。<br>我也相信你有许多问题，例如:如何选择一家靠谱的交易所?交易为什么赚钱，背后原理是什么?交易所的各个下单指令都有哪些意思?该在什么情况下运用?我用什么方法才能赚钱?为什么有人可以几千块就赚到上百万?接下来我为你我会分成几篇文章一一为你解答，在你成为币圈传奇交易员之前，让我们先把这些基础知识搞定!好的，那么请你先把无关的学习类型的网页关掉，提上裤子，让我们开始吧!</p><h1 id="交易所"><a href="#交易所" class="headerlink" title="交易所"></a>交易所</h1><p>你必须得到交易所里面才能进行交易，而B圈交易所多如牛毛，该如何选择一家靠谱的交易所?你一定要清楚，交易所分为两种:CEX和 DEX</p><h2 id="CEX-中心化交易所"><a href="#CEX-中心化交易所" class="headerlink" title="CEX(中心化交易所)"></a>CEX(中心化交易所)</h2><p>CEX，又称中心化交易所，大多数交易者都选择在这里进行交易。为什么呢?CEX 交易所提供了 DEX 交易所所不具备的高流动性，以及低交易滑点，比 DEX 交易所更低的手续费，以及更快的成交速度。等等!你是不是在想什么是流动性?什么是滑点?还有交易所手续费如何收的?让我为你举一个例子!你一定就明白了!</p><h2 id="滑点"><a href="#滑点" class="headerlink" title="滑点"></a>滑点</h2><p>假如你来到了菜市场想看看苹果价格，想买20个苹果回去给小孩。这个时候你绕菜市场一圈发现几个商贩出价如下：<br>商家D 一共有12个苹果， 出家10.8元&#x2F;个<br>商家C 一共有6个苹果， 出家10.6元&#x2F;个<br>商家B 一共有5个苹果， 出家10.5元&#x2F;个<br>商家A 一共有2个苹果， 出家10元&#x2F;个<br>此时买家出价情况如下：<br>买家A 一想买3个苹果， 出价10元&#x2F;个<br>买家B 一想买4个苹果， 出价9.9元&#x2F;个<br>买家C 一想买5个苹果， 出价9.5元&#x2F;个<br>这个时候交易所中间的给出价格就是10元<br>这就是一个简单的交易所订单薄(Order Book)<br>真实交易所的交易订单簿：<br><img src="https://img.51santi.uk/file/d8d36b9881ff6dd38d0a4.jpg" alt="d8d36b9881ff6dd38d0a4.jpg"><br>这时候，你横空出世，并且打手一挥，我要买20个！ 只要数凑够20个数就行！不在乎价格，但是要以最优价格卖给我！（这里涉及到一个叫市价单的概念，后面文章会说）。<br>然后商贩听到你这句话瞬间高潮，纷纷跑过来卖给你，因为你的这次大手笔行为，因为一己之力把价格推到10.8，而不是开始的10块，但是你是在价格菜市场报价10块钱的时候买的，不过你想想，你手里的20个苹果，平均下来，每个价格是10元吗？当然不是！你可以去看看哪个订单簿：<br>商家D 一共有12个苹果，出价10.8元&#x2F;个<br>商家C 一共有6个苹果，出价10.6元&#x2F;个<br>商家B 一共有5个苹果，出价10.5元&#x2F;个<br>商家D 一共有2个苹果，出价10元&#x2F;个 也就是说你每个均价为(2<em>10 + 5</em>10.5 + 6<em>10.6 +7</em>10.8)&#x2F;20 &#x3D; 10.585也就是说你在价格是10元的时候买20个，但是你最后花了均价10.585才买了20个，这个价格之间的差距就叫做滑点。</p><p>所以，滑点低的意思就是：你购买的物品的平均价格与当时交易所的报价差距，当然滑点既可以往高了滑，也可往低了滑。这个和你当时下单的市场环境有关。所以，这里又引出了一个概念，叫深度。</p><h2 id="深度"><a href="#深度" class="headerlink" title="深度"></a>深度</h2><p>交易所深度指的是在一个交易所中，某个交易对(BTC&#x2F;USDT)买单和卖单的数量和价格信息。深度通常以一个深度表的形式呈现，其中包含了一系列价格水平和这些价格水平上的买入和卖出数量.<br>深度表通常由两部分组成：买单深度和卖单深度。买单深度指的是所有买单的数量和价格信息，按照价格从高到低排列；卖单深度指的是所有卖单的数量和价格信息，按照价格从低到高排列。<br>当你在一个交易所上查看某个交易对的深度表时，你会看到两个部分：买单深度和买单深度。以下是一个简单的离职，以btc&#x2F;usdt交易对为例：<br>卖单深度表<br>价格   数量<br>$60900 1BTC<br>$60600 2BTC<br>$60300 4BTC<br>$60100 1BTC</p><p>买单深度表<br>价格   数量<br>$60000 2.5BTC<br>$59000 2BTC<br>$58000 4BTC<br>$58000 1BTC<br>上面的例子中，买单深度表表示当前有人愿意以不同价格购买比特币，而卖单深度表表示当前有人愿意以不同价格出售比特币。例如，如果你想出售比特币，你可以选择在卖单深度表上选择最低的价格$60100购买1BTC，因为这是当前最低的购买价格。<br><strong><font color="red">当买卖双方的订单数量都很大且价格差异较小时，这种情况称为深度够好。</font></strong><br>深度够好的交易对通常意味着市场流动性高，交易量大，价格波动小，订单执行速度较快。这对于交易者来说非常重要，因为他们可以在深度够好的交易对中更容易买入或卖出大量的资产，而不必担心价格波动或订单无法执行的风险。<br>一般来说，深度够好的交易对通常有较高的交易量和较小的价格差（即买卖之间的差异较小），同时也有足够的市场参与者（即买房和卖方数量都很大）。</p><h2 id="流动性"><a href="#流动性" class="headerlink" title="流动性"></a>流动性</h2><p>什么叫做流动性？想象以下，你在一个拍卖会上，手里有一幅珍贵的画作，你可能需要一段时间才能找到合适的买家卖出去，这就是低流动性。 但是，如果你手里握着一堆钞票，你可以买任何你想要的东西，这就是高流动性。</p><h2 id="DEX交易所-去中心化交易所"><a href="#DEX交易所-去中心化交易所" class="headerlink" title="DEX交易所(去中心化交易所)"></a>DEX交易所(去中心化交易所)</h2><p>为什么已经有CEX（中心化交易所），还会有DEX这种手续费高，流动性低，滑点高的交易所，这种交易所又存在的必要吗？当然有！<br>去中心化交易所的主要优点是提供了更高的隐私保护和安全性。因为所有的交易都在区块链上公开透明地进行，所以很难进行欺诈或者操纵市场。此外，因为用户不需要将资金存储在交易所上，所以他们不需要担心交易所被黑客攻击或者倒闭的风险。 因为所有中心化交易所都是私人公司，理论上他们有可能圈钱跑路，在币圈极为常见。比如（中币，ftx）。<br>真正靠谱的交易所：OKX和币安<br>DEX交易所：Kine&#x2F;uniswap<br>如果不在coinmarketcap排行前十，最好不要使用。附上链接：<a href="https://coinmarketcap.com/zh/rankings/exchanges/">按交易量排名的交易所</a><br>PS：不要相信某小号上的交易所排名，某小号给钱就能上排名，之前出现过有人相信某小号的野鸡交易所，以为靠谱，结果交易所卷钱跑路。</p><h2 id="手续费"><a href="#手续费" class="headerlink" title="手续费"></a>手续费</h2><p>交易手续费在交易当中是一个非常重要的因素，因为交易所手续费在你每次开仓平仓都要收一次！加仓减仓也会收！也就是说，一笔完整的交易，最少会被收两次手续费！单次交易手续费一般为0.05%，也就是说最少两次平仓会扣你持仓价值的0.1%手续费，相当于你从微信提款到银行卡被扣掉的手续费钱。并且最少扣这么多，如果你中途加仓减仓会扣的更多！所以长久来看，手续费哪怕少10%也会帮你节省一大笔开销。<br>使用下面的链接注册交易所，并填写请码，你可以获得全网最高的20%的手续费减免!!<br>使用下面的链接注册交易所，并填写邀请码，你可以获得全网最高的20% 的手续费减免!!<br>在这里我个人用的是币安的交易所，币安的作为币圈第一交易所，手续费收的也最少，0.04%，其他交易所一般为0.05%，并且用下面的邀请码还能减免 20%，其他交易所我也会使用，因为不同交易所会推出不同的活动，也会有不同的机会，最重要的是不要把鸡蛋放在一个篮子里!<br>链接打开注册就好，发现邀请码空着的话手动填写一下即可。</p><h2 id="手续费减免链接"><a href="#手续费减免链接" class="headerlink" title="手续费减免链接"></a>手续费减免链接</h2><p>OKX（欧意减免20%手续费注册链接）：<br>邀请码：15162902<br>注册链接：<a href="https://okx.com/join/15162902">https://okx.com/join/15162902</a></p><p>Binance(币安减免20%手续费注册链接)<br>邀请码：CPA_004JXRWEL3<br>注册链接：<a href="https://www.binance.com/zh-CN/join?ref=CPA_004JXRWEL3">https://www.binance.com/zh-CN/join?ref=CPA_004JXRWEL3</a></p><h1 id="交易所选择总结"><a href="#交易所选择总结" class="headerlink" title="交易所选择总结"></a>交易所选择总结</h1><p>最后总结一下，交易所一般用 OKX或者币安上述几个就可以，一定要用上述具有优惠的邀请码注册，未来可以节省大笔手续费!野鸡交易所一定不要用!有的野鸡交易所为了吸引你，说给你90% 手续费优惠，但是鬼知道他们什么时候准备带着你的本金跑路!识别是否为野鸡交易所，到:CoinMarketCap 交易所排名上面看看，不是前十直接 pass 掉吧，千万别别钱没赚到，本金没了。你看上他那点手续费，他看上你的本金!</p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
        <tags>
            
            <tag> 加密货币 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo博客美化/主题安装配置</title>
      <link href="/2024/08/12/Hexo%E5%8D%9A%E5%AE%A2%E7%BE%8E%E5%8C%96-%E4%B8%BB%E9%A2%98%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/"/>
      <url>/2024/08/12/Hexo%E5%8D%9A%E5%AE%A2%E7%BE%8E%E5%8C%96-%E4%B8%BB%E9%A2%98%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>这期教程演示将使用一款基于hexo-theme-butterfly修改的主題-安知鱼，安知鱼是一个简洁、美丽的静态hexo主题</p><p>项目地址：<a href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu">https://github.com/anzhiyu-c/hexo-theme-anzhiyu</a><br>官方文档：<a href="https://docs.anheyu.com/initall.html">https://docs.anheyu.com/initall.html</a></p><h1 id="1-安装主题"><a href="#1-安装主题" class="headerlink" title="1.安装主题"></a>1.安装主题</h1><h2 id="1-1-Git-安裝"><a href="#1-1-Git-安裝" class="headerlink" title="1.1. Git  安裝"></a>1.1. Git  安裝</h2><p>在博客根目录里 安装最新版主题</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b main https://github.com/anzhiyu-c/hexo-theme-anzhiyu.git themes/anzhiyu</span><br></pre></td></tr></table></figure><p>第一次使用需要安装 pug 以及 stylus 的渲染器</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><h2 id="1-2-应用主题"><a href="#1-2-应用主题" class="headerlink" title="1.2. 应用主题"></a>1.2. 应用主题</h2><p>修改 hexo 配置文件_config.yml，把主题改为anzhiyu</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: anzhiyu</span><br></pre></td></tr></table></figure><h2 id="1-3-覆盖配置"><a href="#1-3-覆盖配置" class="headerlink" title="1.3. 覆盖配置"></a>1.3. 覆盖配置</h2><p>覆盖配置可以使主题配置放置在 anzhiyu 目录之外，避免在更新主题时丢失自定义的配置。</p><p>如果你是linux系统就执行以下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> -rf ./themes/anzhiyu/_config.yml ./_config.anzhiyu.yml</span><br></pre></td></tr></table></figure><p>如果你是windows系统就请手动将&#x2F;themes&#x2F;anzhiyu&#x2F;_config.yml复制到根目录下并重命名为_config.anzhiyu.yml即可。</p><p>以后如果修改任何主题配置，都只需修改 _config.anzhiyu.yml 的配置即可。</p><p>注意：</p><ul><li>只要存在于 _config.anzhiyu.yml 的配置都是高优先级，修改原 _config.yml 是无效的。</li><li>每次更新主题可能存在配置变更，请注意更新说明，可能需要手动对 _config.anzhiyu.yml 同步修改。</li><li>想查看覆盖配置有没有生效，可以通过 hexo g –debug 查看命令行输出。</li><li>如果想将某些配置覆盖为空，注意不要把主键删掉，不然是无法覆盖的</li></ul><h2 id="1-4-配置主题与主站配置文件"><a href="#1-4-配置主题与主站配置文件" class="headerlink" title="1.4. 配置主题与主站配置文件"></a>1.4. 配置主题与主站配置文件</h2><p>到这一步主题部署就完成了，就是这么简单！！！</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//本地预览</span><br><span class="line">hexo cl; hexo s</span><br><span class="line"></span><br><span class="line">//推送更新上线</span><br><span class="line">hexo cl; hexo g; hexo d</span><br></pre></td></tr></table></figure><h2 id="1-5-生成标签页和分类页"><a href="#1-5-生成标签页和分类页" class="headerlink" title="1.5. 生成标签页和分类页"></a>1.5. 生成标签页和分类页</h2><p>执行以下命令生成标签页</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page tags</span><br></pre></td></tr></table></figure><p>找到 source&#x2F;tags&#x2F;index.md 这个文件，修改添加 type: “tags”</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 标签</span><br><span class="line">date: 2024-07-05 03:36:02</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">comments: false</span><br><span class="line">top_img: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>执行以下命令生成分类页</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page categories</span><br></pre></td></tr></table></figure><p>找到 source&#x2F;categories&#x2F;index.md 这个文件，修改添加 type: “categories”</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 分类</span><br><span class="line">date: 2024-07-05 03:36:48</span><br><span class="line">aside: false</span><br><span class="line">top_img: false</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>剩下的工作就是配置_config.yml和_config.anzhiyu.yml文件，修改博客参数。</p><h1 id="2-配置文章模版"><a href="#2-配置文章模版" class="headerlink" title="2. 配置文章模版"></a>2. 配置文章模版</h1><p>&#x2F;scaffolds目录下有几个模版文件，其中</p><ul><li>post.md：新建博文模版</li><li>page.md：新建标签页模版<br>post.md模版，仅供参考<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> &#123;&#123; <span class="string">title</span> &#125;&#125; <span class="comment">#【必需】页面标题</span></span><br><span class="line"><span class="attr">date:</span> &#123;&#123; <span class="string">date</span> &#125;&#125; <span class="comment">#【必需】页面创建日期</span></span><br><span class="line"><span class="attr">updated:</span> <span class="comment">#【可选】页面更新日期</span></span><br><span class="line"><span class="attr">tags:</span> <span class="comment">#【可选】文章标签</span></span><br><span class="line"><span class="attr">categories:</span> <span class="comment">#【可选】文章分类</span></span><br><span class="line"><span class="attr">keywords:</span> <span class="comment">#【可选】文章关键字</span></span><br><span class="line"><span class="attr">description:</span> <span class="comment">#【可选】文章描述</span></span><br><span class="line"><span class="attr">top:</span> <span class="comment"># 1 置顶</span></span><br><span class="line"><span class="attr">top_img:</span> <span class="comment">#【可选】文章顶部图片</span></span><br><span class="line"><span class="attr">comments:</span> <span class="comment">#【可选】显示文章评论模块(默认 true)</span></span><br><span class="line"><span class="attr">cover:</span> <span class="string">https://img.090227.xyz/file/ae62475a131f3734a201c.png</span> <span class="comment">#【可选】文章缩略图(如果没有设置 top_img,文章页顶部将显示缩略图，可设为 false/图片地址/留空)</span></span><br><span class="line"><span class="attr">toc:</span> <span class="comment">#【可选】显示文章 TOC(默认为设置中 toc 的 enable 配置)</span></span><br><span class="line"><span class="attr">toc_number:</span> <span class="comment">#【可选】显示 toc_number(默认为设置中 toc 的 number 配置)</span></span><br><span class="line"><span class="attr">toc_style_simple:</span> <span class="comment">#【可选】显示 toc 简洁模式</span></span><br><span class="line"><span class="attr">copyright:</span> <span class="comment">#【可选】显示文章版权模块(默认为设置中 post_copyright 的 enable 配置)</span></span><br><span class="line"><span class="attr">copyright_author:</span> <span class="comment">#【可选】文章版权模块的文章作者</span></span><br><span class="line"><span class="attr">copyright_author_href:</span> <span class="comment">#【可选】文章版权模块的文章作者链接</span></span><br><span class="line"><span class="attr">copyright_url:</span> <span class="comment">#【可选】文章版权模块的文章作者链接</span></span><br><span class="line"><span class="attr">copyright_info:</span> <span class="comment">#【可选】文章版权模块的版权声明文字</span></span><br><span class="line"><span class="attr">mathjax:</span> <span class="comment">#【可选】显示 mathjax(当设置 mathjax 的 per_page: false 时，才需要配置，默认 false)</span></span><br><span class="line"><span class="attr">katex:</span> <span class="comment">#【可选】显示 katex(当设置 katex 的 per_page: false 时，才需要配置，默认 false)</span></span><br><span class="line"><span class="attr">aplayer:</span> <span class="comment">#【可选】在需要的页面加载 aplayer 的 js 和 css,请参考文章下面的音乐 配置</span></span><br><span class="line"><span class="attr">highlight_shrink:</span> <span class="comment">#【可选】配置代码框是否展开(true/false)(默认为设置中 highlight_shrink 的配置)</span></span><br><span class="line"><span class="attr">aside:</span> <span class="comment">#【可选】显示侧边栏 (默认 true)</span></span><br><span class="line"><span class="attr">swiper_index:</span> <span class="number">10</span> <span class="comment">#【可选】首页轮播图配置 index 索引，数字越小越靠前</span></span><br><span class="line"><span class="attr">top_group_index:</span> <span class="number">10</span> <span class="comment">#【可选】首页右侧卡片组配置, 数字越小越靠前</span></span><br><span class="line"><span class="attr">ai:</span> <span class="comment">#【可选】文章ai摘要</span></span><br><span class="line"><span class="attr">background:</span> <span class="string">&quot;#fff&quot;</span> <span class="comment">#【可选】文章主色，必须是16进制颜色且有6位，不可缩减，例如#ffffff 不可写成#fff</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="string">&lt;div</span> <span class="string">class=&quot;video-container&quot;&gt;</span></span><br><span class="line">[<span class="string">up主专用，视频内嵌代码贴在这</span>]</span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;style&gt;</span></span><br><span class="line"><span class="string">.video-container</span> &#123;</span><br><span class="line">    <span class="attr">position:</span> <span class="string">relative;</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">100</span><span class="string">%;</span></span><br><span class="line">    <span class="attr">padding-top:</span> <span class="number">56.25</span><span class="string">%;</span> <span class="string">/*</span> <span class="number">16</span><span class="string">:9</span> <span class="string">aspect</span> <span class="string">ratio</span> <span class="string">(height/width</span> <span class="string">=</span> <span class="number">9</span><span class="string">/16</span> <span class="string">*</span> <span class="number">100</span><span class="string">%)</span> <span class="string">*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">.video-container</span> <span class="string">iframe</span> &#123;</span><br><span class="line">    <span class="attr">position:</span> <span class="string">absolute;</span></span><br><span class="line">    <span class="attr">top:</span> <span class="number">0</span><span class="string">;</span></span><br><span class="line">    <span class="attr">left:</span> <span class="number">0</span><span class="string">;</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">100</span><span class="string">%;</span></span><br><span class="line">    <span class="attr">height:</span> <span class="number">100</span><span class="string">%;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="string">&lt;/style&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>page.md模版，仅供参考<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> &#123;&#123; <span class="string">title</span> &#125;&#125; <span class="comment">#【必需】页面标题</span></span><br><span class="line"><span class="attr">date:</span> &#123;&#123; <span class="string">date</span> &#125;&#125; <span class="comment">#【必需】页面创建日期</span></span><br><span class="line"><span class="attr">type:</span> <span class="comment">#【必需】标签、分类、关于、音乐馆、友情链接、相册、相册详情、朋友圈、即刻页面需要配置</span></span><br><span class="line"><span class="attr">updated:</span> <span class="comment">#【可选】页面更新日期</span></span><br><span class="line"><span class="attr">comments:</span> <span class="comment">#【可选】显示页面评论模块(默认 true)</span></span><br><span class="line"><span class="attr">description:</span> <span class="comment">#【可选】页面描述</span></span><br><span class="line"><span class="attr">keywords:</span> <span class="comment">#【可选】页面关键字</span></span><br><span class="line"><span class="attr">top_img:</span> <span class="string">https://img.090227.xyz/file/ae62475a131f3734a201c.png</span> <span class="comment">#【可选】页面顶部图片</span></span><br><span class="line"><span class="attr">mathjax:</span> <span class="comment">#【可选】显示 mathjax(当设置 mathjax 的 per_page: false 时，才需要配置，默认 false)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">katex:</span> <span class="comment">#【可选】显示 katex(当设置 katex 的 per_page: false 时，才需要配置，默认 false)</span></span><br><span class="line"><span class="attr">aside:</span> <span class="comment">#【可选】显示侧边栏 (默认 true)</span></span><br><span class="line"><span class="attr">aplayer:</span> <span class="comment">#【可选】在需要的页面加载 aplayer 的 js 和 css,请参考文章下面的音乐 配置</span></span><br><span class="line"><span class="attr">highlight_shrink:</span> <span class="comment">#【可选】配置代码框是否展开(true/false)(默认为设置中 highlight_shrink 的配置)</span></span><br><span class="line"><span class="attr">top_single_background:</span> <span class="comment">#【可选】部分页面的顶部模块背景图片</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br></pre></td></tr></table></figure></li></ul><h1 id="文章置顶"><a href="#文章置顶" class="headerlink" title="文章置顶"></a>文章置顶</h1><p>安装插件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-topindex --save</span><br></pre></td></tr></table></figure><p>设置置顶<br>给需要置顶的文章加入top参数，如下：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">每天一个linux命令</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2017-01-23 11:41:48</span></span><br><span class="line"><span class="attr">top:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">categories:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">运维</span></span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">linux命令</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><p>如果存在多个置顶文章，top后的参数越大，越靠前。</p><h1 id="开启本地搜索"><a href="#开启本地搜索" class="headerlink" title="开启本地搜索"></a>开启本地搜索</h1><p>安装插件<br>你需要安装 hexo-generator-search，根据它的文档去做相应配置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><p>设置主题配置文件</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">preload:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">CDN:</span></span><br></pre></td></tr></table></figure><p>enable: 是否开启本地 搜索<br>preload: 预加载，开启后，进入网页后会自动加载搜索文件。关闭时，只有点击搜索按钮后，才会加载搜索文件<br>CDN: 搜索文件的 CDN 地址（默认使用的本地链接）</p><h1 id="添加任意文件"><a href="#添加任意文件" class="headerlink" title="添加任意文件"></a>添加任意文件</h1><p>例如当我们想在网站根目录添加ads.txt文件，来通过站长验证时，我们只需要在&#x2F;source文件夹下放置该文件即可。</p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>最强免费安装office，永久使用</title>
      <link href="/2024/08/06/%E6%9C%80%E5%BC%BA%E5%85%8D%E8%B4%B9%E5%AE%89%E8%A3%85office%EF%BC%8C%E6%B0%B8%E4%B9%85%E4%BD%BF%E7%94%A8/"/>
      <url>/2024/08/06/%E6%9C%80%E5%BC%BA%E5%85%8D%E8%B4%B9%E5%AE%89%E8%A3%85office%EF%BC%8C%E6%B0%B8%E4%B9%85%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="office免费永久使用，地表最强安装"><a href="#office免费永久使用，地表最强安装" class="headerlink" title="office免费永久使用，地表最强安装"></a>office免费永久使用，地表最强安装</h1><h2 id="1-Google搜索-ms-microsoft-odt并下载"><a href="#1-Google搜索-ms-microsoft-odt并下载" class="headerlink" title="1. Google搜索 ms microsoft odt并下载"></a>1. Google搜索 ms microsoft odt并下载</h2><p> 下载链接：<a href="https://www.microsoft.com/en-us/download/details.aspx?id=49117">https://www.microsoft.com/en-us/download/details.aspx?id=49117</a></p><h2 id="2-管理员方式运行officedeploymentTool-选择一个新建的office文件夹并确定"><a href="#2-管理员方式运行officedeploymentTool-选择一个新建的office文件夹并确定" class="headerlink" title="2. 管理员方式运行officedeploymentTool -&gt; 选择一个新建的office文件夹并确定"></a>2. 管理员方式运行officedeploymentTool -&gt; 选择一个新建的office文件夹并确定</h2><p> 有如下几个文件说明提取成功<br><img src="https://img.51santi.uk/file/342948c8adbc87370406b.png" alt="342948c8adbc87370406b.png"></p><h2 id="3-在文件所在空白处按住shift-鼠标右键，打开powershell窗口"><a href="#3-在文件所在空白处按住shift-鼠标右键，打开powershell窗口" class="headerlink" title="3. 在文件所在空白处按住shift+鼠标右键，打开powershell窗口"></a>3. 在文件所在空白处按住shift+鼠标右键，打开powershell窗口</h2><h2 id="4-运行如下命令进行安装"><a href="#4-运行如下命令进行安装" class="headerlink" title="4.运行如下命令进行安装"></a>4.运行如下命令进行安装</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\setup.exe /configure .\configuration-Office2021Enterprise.xml</span><br></pre></td></tr></table></figure><h2 id="5-等半小时左右安装"><a href="#5-等半小时左右安装" class="headerlink" title="5.等半小时左右安装"></a>5.等半小时左右安装</h2><p><img src="https://img.51santi.uk/file/eb245d202c44edecedf8e.png" alt="eb245d202c44edecedf8e.png"></p><h2 id="6-打开office-word核对是否已激活，如果没激活重启电脑即可。"><a href="#6-打开office-word核对是否已激活，如果没激活重启电脑即可。" class="headerlink" title="6.打开office word核对是否已激活，如果没激活重启电脑即可。"></a>6.打开office word核对是否已激活，如果没激活重启电脑即可。</h2><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>无人值守高度自定义的纯净 Windows 11/10 系统</title>
      <link href="/2024/08/06/%E6%97%A0%E4%BA%BA%E5%80%BC%E5%AE%88%E9%AB%98%E5%BA%A6%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E7%BA%AF%E5%87%80-Windows-11-10-%E7%B3%BB%E7%BB%9F/"/>
      <url>/2024/08/06/%E6%97%A0%E4%BA%BA%E5%80%BC%E5%AE%88%E9%AB%98%E5%BA%A6%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E7%BA%AF%E5%87%80-Windows-11-10-%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<h1 id="安装windows-11-10-无人值守，无需交互的方式配置-创建账号"><a href="#安装windows-11-10-无人值守，无需交互的方式配置-创建账号" class="headerlink" title="安装windows 11&#x2F;10 无人值守，无需交互的方式配置&#x2F;创建账号"></a>安装windows 11&#x2F;10 无人值守，无需交互的方式配置&#x2F;创建账号</h1><h2 id="1-配置系统应答文件：【点击前往】"><a href="#1-配置系统应答文件：【点击前往】" class="headerlink" title="1.配置系统应答文件：【点击前往】"></a>1.配置系统应答文件：<a href="https://schneegans.de/windows/unattend-generator/">【点击前往】</a></h2><p>参考配置文件网盘链接：<a href="https://pan.baidu.com/s/17qXzYTxhmnAZPmlmFbj2fQ?pwd=js68">https://pan.baidu.com/s/17qXzYTxhmnAZPmlmFbj2fQ?pwd=js68</a><br>提取码：js68</p><h2 id="2-系统镜像编辑器：【点击下载】"><a href="#2-系统镜像编辑器：【点击下载】" class="headerlink" title="2.系统镜像编辑器：【点击下载】"></a>2.系统镜像编辑器：<a href="https://www.anyburn.com/">【点击下载】</a></h2><h3 id="2-1打开编辑器"><a href="#2-1打开编辑器" class="headerlink" title="2.1打开编辑器"></a>2.1打开编辑器</h3><h3 id="2-2编辑镜像文件"><a href="#2-2编辑镜像文件" class="headerlink" title="2.2编辑镜像文件"></a>2.2编辑镜像文件</h3><p> <img src="https://img.51santi.uk/file/c8b28489e90e634fcf0e6.jpg" alt="c8b28489e90e634fcf0e6.jpg"></p><h3 id="2-3添加交互配置文件（autounattend-xml）"><a href="#2-3添加交互配置文件（autounattend-xml）" class="headerlink" title="2.3添加交互配置文件（autounattend.xml）"></a>2.3添加交互配置文件（autounattend.xml）</h3><p> <img src="https://img.51santi.uk/file/cb479ea96fdf022290485.jpg" alt="cb479ea96fdf022290485.jpg"></p><h2 id="3-Windows-系统镜像官方下载：【Windows-11】、【Windows-10】"><a href="#3-Windows-系统镜像官方下载：【Windows-11】、【Windows-10】" class="headerlink" title="3.Windows 系统镜像官方下载：【Windows 11】、【Windows 10】"></a>3.Windows 系统镜像官方下载：<a href="https://www.microsoft.com/software-download/windows11">【Windows 11】</a>、<a href="https://www.microsoft.com/en-us/software-download/windows10">【Windows 10】</a></h2><h2 id="4-refus镜像刻录到U盘【点击前往】"><a href="#4-refus镜像刻录到U盘【点击前往】" class="headerlink" title="4.refus镜像刻录到U盘【点击前往】"></a>4.refus镜像刻录到U盘<a href="https://rufus.ie/en/">【点击前往】</a></h2><p>Rufus 是一个可以帮助格式化和创建可引导USB闪存盘的工具，比如 USB 随身碟，记忆棒等等。<br>在如下场景中会非常有用：</p><ul><li>你需要把一些可引导的ISO格式的镜像（Windows，Linux，UEFI等）创建成USB 安装盘的时候</li><li>你需要使用一个还没有安装操作系统的设备的时候</li><li>你需要从DOS系统刷写 BIOS或者其他固件的时候</li><li>你需要运行一个非常底层的工具的时候</li></ul><h2 id="5-安装完系统后激活系统（如下为激活Windows-10作为参考）"><a href="#5-安装完系统后激活系统（如下为激活Windows-10作为参考）" class="headerlink" title="5. 安装完系统后激活系统（如下为激活Windows 10作为参考）"></a>5. 安装完系统后激活系统（如下为激活Windows 10作为参考）</h2><p>以管理员方式运行powershell，逐个执行以下命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">slmgr /ipk W269N-WFGWX-YVC9B-4J6C9-T83GX</span><br><span class="line">slmgr /skms kms.03k.org</span><br><span class="line">slmgr /ato</span><br></pre></td></tr></table></figure><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>区块链知识-Layer0/Layer1/Layer2到底是什么</title>
      <link href="/2024/07/30/%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9F%A5%E8%AF%86-Layer0-Layer1-Layer2%E5%88%B0%E5%BA%95%E6%98%AF%E4%BB%80%E4%B9%88/"/>
      <url>/2024/07/30/%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9F%A5%E8%AF%86-Layer0-Layer1-Layer2%E5%88%B0%E5%BA%95%E6%98%AF%E4%BB%80%E4%B9%88/</url>
      
        <content type="html"><![CDATA[<p>举个简单的例子，一个公司业务量庞大，于是他开了一个子公司，把一些业务交由子公司处理。母公司就是Layer 1，子公司就是Layer 2。这样，母公司的负担就减轻了。首先，我们需要定义第 1 层是什么：第 1 层网络是基础层，或者说是区块链的底层基础设施。也称为主网络或“主网”，它不仅定义了生态系统的核心规则，还可以验证和完成交易，如以太坊、比特币和 Solana 等示例。第 1 层区块链通常从强调去中心化和安全性开始 — — 这两者都是任何健全网络的核心原则，并且（除了一些例外）由多元化的全球开发人员和参与者（如验证者）网络维护。由于缺乏任何中央权威或监督，这些平台要求技术本身具有与生俱来的安全性，以保护用户免受诈骗和攻击。由于设计中的这种优先级，更不用说维持功能齐全的生态系统所需的大量资源，它们通常缺乏可扩展性。虽然一些开发人员认为无法在安全性、去中心化和可扩展性之间实现平衡是该技术的一个不可阻挡的缺陷（被称为区块链三难困境），但第 2 层解决方案，例如以太坊上的rollups和比特币上的闪电网络是用于解决这些问题的一种解决方案。</p><h1 id="Layer-1"><a href="#Layer-1" class="headerlink" title="Layer 1"></a>Layer 1</h1><p>Layer 1包含大家最熟悉的比特币、以太坊之类的链。Layer 1定义可以说是区块链的底层架构和协议，他的另外一个名字是公链。<br><img src="https://telegra.ph/file/56fb32e9a0dcd59b3fbc8.jpg" alt="56fb32e9a0dcd59b3fbc8.jpg"></p><h2 id="Layer-1-链的特点"><a href="#Layer-1-链的特点" class="headerlink" title="Layer 1 链的特点"></a>Layer 1 链的特点</h2><ul><li>自己独立的链，不依赖于其他链，就可以独立运作</li><li>支持独立运作，有配套的架构和参与机制，比如他们有自己的共识机制，有自己的Ledger(账本)，有自己的节点网络（node），有自己的加密算法，也有自己的原始代币</li><li>他们通常都支持更上层的协议和应用从而打造他们自己的生态，但也有特殊情况，比如比特币的链，由于过于原始，在向上支持这一块做的比较少<br>所以当我们看到一条链，如果符合上述绝大部分特点，不用看细节，基本上可以明白，他是一条Layer公链。以大家熟悉的以太坊的链做参考，以太坊支持各种上层的应用。<br><img src="https://img.51santi.uk/file/447dc2f5081fd4c902c66.jpg" alt="447dc2f5081fd4c902c66.jpg"></li></ul><h1 id="Layer-2"><a href="#Layer-2" class="headerlink" title="Layer 2"></a>Layer 2</h1><p>Layer 2是指以Layer 1为基础，建立在Layer 1之上的协议，他们并不是刚才我们提到的建立在Layer 1之上的应用，Layer 2的开发，其实目的也是为了解决很多Layer 1的问题，比如扩容和提速等等。</p><p>其中比较通常的一个做法是，对于很多需要处理的复杂的交易，不是都在Layer 1的链上做处理和记录，而是拿下来在Layer 2的链处理，处理完之后，只是把处理结果的少量信息发回到Layer 1，目前主要的Layer 2还是围绕以太坊链来做的。</p><p>因为以太坊的生态是最大的，服务这个生态是最有利可图的，以太坊链有以下几个不同的扩容方案：</p><ul><li>Optimistic rollups 乐观汇总</li><li>Zero-knowledge rollups 零知识汇总</li><li>State channels 状态通道</li><li>Sidechains 侧链</li><li>Plasma 子链</li><li>Validiums 有效性证明<br>想更多的了解以上扩展方案，请登录以太坊官网查询<br><a href="https://ethereum.org/en/developers/docs/scaling/#validium">https://ethereum.org/en/developers/docs/scaling/#validium</a><br><img src="https://img.51santi.uk/file/147bb7ee924591ddc6951.jpg" alt="147bb7ee924591ddc6951.jpg"></li></ul><h2 id="Layer-2和Layer-1-的主要区别"><a href="#Layer-2和Layer-1-的主要区别" class="headerlink" title="Layer 2和Layer 1 的主要区别"></a>Layer 2和Layer 1 的主要区别</h2><ul><li>他对节点的要求是很随意</li><li>不像Layer 1通常采用比较分布式的共识机制</li><li>Layer 2的Node可能是一个或者一些server的cluster</li><li>参与的可能是一大群个体，也可能是一个公司或者商业组织，甚至是少数的个人节点，除了Node之外，根据方向的不同，也可能被成为Operator、sequencer之类的。</li><li>Layer 2的安全性还是主要依托于他对应的Layer 1的链</li><li>Layer 1和Layer 2是有最广泛共识的</li></ul><h1 id="Layer-0"><a href="#Layer-0" class="headerlink" title="Layer 0"></a>Layer 0</h1><p>不是那么流行的概念，通常Layer 0是指传输数据的基础架构和协议层，一般承担的任务是区块链和传统互联网的结合，Layer 0当时也要负责和Layer 1 甚至和Layer 2的兼容，Layer 0作为基础，也经常会有扩容之类的需求，</p><p>Polkadot是相对比较公认的一个提供了Layer 0的例子<br><img src="https://telegra.ph/file/0d33878db1f17398ef1c5.jpg" alt="0d33878db1f17398ef1c5.jpg"><br>Polkadot项目主要是提供了一个叫中继链（Relay Chain）底层架构。</p><p>这个中继链承担着保证在它之上的Layer 1的公链之间的沟通和安全的任务，换句话说，这个中继链是Layer 1的链互相高效沟通的信息桥梁，这也是为什么Polkadot经常被人称为是一个跨链的项目，这些在Polkadot中继链之上的，由开发者搭建起来的Layer 1的链，被称作Parachain，其中两个相对比较有名气的项目时Moonriver和Karura。</p><p>因为他们在中继链的眼中，是平行的，是同一级别的。这种跨链的沟通，是非常有用的，因为良好的共通性，可以解决之前我们提到的目前比较不便的低效的信息共享问题。</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><ul><li>Layer 0是最底层的架构，用于帮助Layer 1的链之间的跨链沟通，同时有些也承担和传统网络沟通的任务</li><li>Layer 1是我们最常见的链，也是比较底层的架构，通常知名的Layer 1的链都有自己的庞大生态，Layer 1主要用来支持基于它的协议，在他上面开发的区块链应用。</li><li>Layer 2的链通常是为了实现Layer 1的扩容而存在的。<br><img src="https://telegra.ph/file/acd6c7abe2225360b46ef.jpg" alt="acd6c7abe2225360b46ef.jpg"></li></ul><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>TCP协议深度解读</title>
      <link href="/2024/07/19/TCP%E5%8D%8F%E8%AE%AE%E6%B7%B1%E5%BA%A6%E8%A7%A3%E8%AF%BB/"/>
      <url>/2024/07/19/TCP%E5%8D%8F%E8%AE%AE%E6%B7%B1%E5%BA%A6%E8%A7%A3%E8%AF%BB/</url>
      
        <content type="html"><![CDATA[<h1 id="位、字节、字"><a href="#位、字节、字" class="headerlink" title="位、字节、字"></a>位、字节、字</h1><h2 id="1、位（bit）"><a href="#1、位（bit）" class="headerlink" title="1、位（bit）"></a>1、位（bit）</h2><p>来自英文bit，名叫比特，表示二进制位。<strong>位是计算机内部数据存储的最小单位</strong>，11011011是一个8位二进制。一个二进制位只能表示1或0两种状态；二个二进制位可以表示00、01、10、11四种状态；三位二进制数可以表示八种状态。。。。</p><h2 id="2、字节（byte）"><a href="#2、字节（byte）" class="headerlink" title="2、字节（byte）"></a>2、字节（byte）</h2><p>字节来自英文byte，叫‘拜特’， 习惯用大写的‘B’表示<br><strong>字节是计算机中数据处理的基本单位。</strong>计算机中以字节位单位存储和解释信息，规定一个字节由八个二进制位构成，即1个字节等于8个比特（1Byte&#x3D;8bit）。八位二进制数最小位00000000，最大位11111111；通常1个字节可以存入一个ASCII码，2个字节可存放一个汉字国标码。</p><h2 id="3、字"><a href="#3、字" class="headerlink" title="3、字"></a>3、字</h2><p><strong>计算机进行数据处理时，一次存取、加工和传输的数据长度称为字（word）。</strong>一个字通常由一个或多个（一般是字节的整数位）字节构成。例如286微机的字是由2个字节组成，他的字长位16；486微机的字由4个字节组成，他的字长位32位。 计算机的字长决定了cpu一次操作处理实际位数的多少，由此可见计算机的字长越大，其性能越好。</p><blockquote><p>在存取器中，通常每个单元存储一个字，因此每个字都是可以寻址的。字的长度用位来表示<br>在计算机的运算器、控制器中，通常是以字为单位进行传送的。例如，送往控制器去的字是指令，而送往运算器去的字就是一个数。在计算机中作为一个整体被存取、传送、处理的二进制数字符串叫做一个字或单元，每个字中二进制位数的长度，称为字长。一个字有若干个字节组成，不同的计算机系统的字长是不同的，常见的有8位、16位、32位、64位等，字长越长，计算机一次处理的信息位就越多，精度就越高，字长是计算机性能的一个重要指标。目前主流微机都是32位机。注意字与字长的区别，字是单位，而字长是指标，指标需要用单位去衡量。就像生活中重量与公斤的关系，公斤是单位，重量是指标，重要需要用公斤加以衡量。<br>8个位（bit）称为一个字节（byte），两个字节称为一个字（word），两个自称位一个双字（dword），两个双字称为一个四字（qword）</p></blockquote><h3 id="3-1字长"><a href="#3-1字长" class="headerlink" title="3.1字长"></a>3.1字长</h3><p>计算机的每个字所包含的位数称位字长。根据计算机的不同，字长有固定的和可变的两种。固定字长，即字长度不论什么情况都是固定不变的；可变字长，则在一定范围内，其长度是可变的。</p><p><strong>计算机的字长是指它一次可处理的二进制数字的数目。</strong>计算机处理数据的速率，自然和它一次能加工的位数以及进行运算的快慢有关。如果一台计算机的字长是另一台计算机的两倍，即使灵台计算机的速度相同，在相同的时间内，前者能做的工作是后者的两倍。</p><p>一般来讲，大型计算机的字长位32-64位，小型计算机位12-32位，而微型计算机为4-16位。字长是衡量计算机性能的一个重要因素。</p><h3 id="3-2字块"><a href="#3-2字块" class="headerlink" title="3.2字块"></a>3.2字块</h3><p>在信息处理中，一群字作为一个单元来处理的称为“字块”，也称“字组”。例如，储存于磁盘的一个磁道上的字群就称为一个字块，在磁带上通常每120个字符就间隔一个字块标志，也称为一个字块。块与块之间一般留1.27-2.54厘米的间隔。在大容量存储中，信息都是以字块为单位而存入的，因此只有字块才是可选址的。目前，在告诉缓存技术中引入了“字块”的概念。</p><h1 id="TCP报文（标准长度20字节）"><a href="#TCP报文（标准长度20字节）" class="headerlink" title="TCP报文（标准长度20字节）"></a>TCP报文（标准长度20字节）</h1><p>TCP(Transmission Contorl Protocol) 传输控制协议是一种面向连接的、可靠的、基于字节流的传输层协议<br>TCP报文格式如下：<br><img src="https://img.51santi.uk/file/6ef4a306cf7592744035f.jpg#pic_left" alt="6ef4a306cf7592744035f.jpg"><br>TCP数据包每次能够传输的最大长度&#x3D;MTU(1500B)-IP头(20B)-TCP头(20B)&#x3D;1460Bytes.<br><img src="https://img.51santi.uk/file/8c19c6f54117839a710ad.png#pic_left" alt="8c19c6f54117839a710ad.png"><br><strong>源端口号</strong>（2字节）：<br>  d5 df (54751)<br><strong>目的端口号</strong>（2字节）：<br>  22 b8  (8888)<br><img src="https://img.51santi.uk/file/72f86baf8867b1aca86a5.png" alt="72f86baf8867b1aca86a5.png"><br>TCP报文头中的源端口号和目的端口号同IP数据报中的源IP与目的IP唯一确定一条TCP连接。<br><strong>序列号</strong>（4字节）：<br>  37 59 56 75<br>  用来标识TCP发送端向TCP接收端发送的数据字节流<br>  <strong>确认序列号</strong>（4字节）<br>  由于该报文为SYN报文，ACK标志位0，故没有确认序号（ACK标志位1时确认序列号才有效）<br>  一旦建立连接，该值将始终发送（同ACK标志）<br>  <strong>头部长度</strong>（4位）：报文头长度（单位：位）&#x2F;32<br>  1000 (转化为10进制为8， 8<em>32&#x2F;8 &#x3D; 32，该报文包头长度为32个字节 )<br>  存在该字段是因为TCP报头任选字段长度可变，四位TCP报头长度为0101.<br>  报头不包含任何任选字段则长度为20字节；4为能表示的最大值为1111，转化为10进制为15， 15</em>32&#x2F;8 &#x3D; 60，故报头最大长度为60字节；<br>  <strong>标志位</strong>（12位）：<br>    0000 00010010<br>    Reserved：</p><pre><code>000~ ~~~~~~~~ECN（Explicit Congetsion Notification）：~~~0 ~~~~~~~~ = N / NS / Nonce Sum：有效排除潜在的ECN滥用，RFC 3540~~~~ 0~~~~~~~ = C / CWR（Congestion Window Reduced）：拥塞窗口减少标志~~~~ ~0~~~~~~ = E / ECE / ECN-Echo：ECE / ECN标志Control Bits：~~~~ ~~0~~~~~ = URG / Urgent：紧急指针有效性标志~~~~ ~~~1~~~~ = ACK / Acknowledgment：确认序号有效性标志，一旦一个连接建立起来，该标志总被置为1，即除了请求建立连接报文（仅设置Syn标志位为1），其它所有报文的该标志总为1~~~~ ~~~~0~~~ = PSH / Push：Push标志*（接收方应尽快将报文段提交至应用层）*~~~~ ~~~~~0~~ = RST / Reset：重置连接标志~~~~ ~~~~~~1~ = SYN / Syn：同步序号标志（发起一个新的连接）~~~~ ~~~~~~~0 = F / Fin：传输数据结束标志/释放一个连接</code></pre><p>  <strong>窗口大小</strong>（2字节）：窗口大小标志着TCP缓冲区内部剩余空间的大小，起到流量控制的作用。如果窗口满了，那么这个时候是不允许数据接口的，后面到达的数据会被丢失。<br>  20 00 （00100000 00000000） &#x3D; 8192<br>  由于2字节能够表示的最大正整数为65535，故窗口最大值为65535<br>  <strong>校验和</strong>（2字节）：校验和覆盖整个TCP报文端；强制字段，由发送端填充，CRC校验。由接收端进行验证数据的时候如果校验不通过。此处的校验和不仅仅校验TCP首部，还校验数据部分。<br>   2e 2f<br>   <strong>紧急指针</strong>（2字节）：当urgent标志为1时，紧急指针才有效，标识着哪部分的数据为紧急数据<br>    00 00<br>    <strong>任选字段</strong>（0-40字节）<br>&#x3D;&#x3D; <strong>【重要的字段】：</strong>&#x3D;&#x3D;</p><ul><li><em>源端口号与目的端口号：标识了发送方与接收方的地址</em>，IP地址和端口号合称位套接字。</li><li><strong>序列号和确认号：</strong> 32位序列号与32位确认号：序列号与确认号可以理解成两个通信进程在收发数据的时候互相应答的信息。比如说，A进程从序列号1000开始给B进程发数据，发送五个数据。那么在B收到数据回复的时候，这里A的确认序列号应该是从1006，如果是1003，那意味着1004、1005数据包没有收到，于是A启动重发机制。这也保证了数据的可靠性，也是TCP特点之一。序列号是进程发送消息的号码，而确认号是期望目的进程返回的号码。进行对比，从而验证数据包是否到达。</li></ul><h1 id="三次握手"><a href="#三次握手" class="headerlink" title="三次握手"></a>三次握手</h1><p>  在TCP&#x2F;IP协议中，TCP协议提供可靠的连接服务，采用三次握手建立一个连接。<br> <img src="https://img.51santi.uk/file/56fae17da4d16e1522f3b.png" alt="56fae17da4d16e1522f3b.png"></p><ul><li>第一次握手：client先产生一个初始序列号seq &#x3D;<br>ISN（C），作为syn并将该数据包发送给server，client进入SYN_SENT状态，等待server确认</li><li>第二次握手：server收到数据包后也发送自己的SYN报文作为响应，并初始化序列号seq &#x3D;<br>ISN（S），为了确认client的seq，server将client发送的seq加1，作为ACK发送给client，<br>Server进入SYN_RCVD状态。（SYN为synchronize的缩写， ACK为acknowledgment的缩写）</li><li>第三次握手：为了确认Server的SYN，Client将server发送的seq加1，作为ACK发送给server。client和server进入ESTABLISHED状态，完成三次握手，随后client与server之间可以开始传输数据了。</li></ul><p>通过这样的三次握手，客户端与服务端建立可靠的双工的连接，开始传送数据。三次握手的最主要目的是保证连接是双工的，可靠更多的是通过重传机制来保证的。</p><h2 id="半连接、半打开、半关闭状态"><a href="#半连接、半打开、半关闭状态" class="headerlink" title="半连接、半打开、半关闭状态"></a>半连接、半打开、半关闭状态</h2><ul><li><strong>半连接状态：</strong>发生的TCP三次握手过程中，客户端向服务器发起连接，服务器也进行了回应，但是客户端却不进行3次握手.</li><li><strong>半打开状态：</strong>在TCP连接中，如果某一段关闭了连接或者是异常关闭，则该连接处于半打开状态。解决半打开问题：引入心跳机制就可以察觉半打开状态。</li><li><strong>半关闭状态：</strong>当TCP连接中客户端向服务端发送FIN请求关闭，服务端回应ACK之后，并没有立即发送FIN给客户端，客户端就处于半关闭状态，此时客户端可以接收服务器发送的数据，但是客户端已经不能向服务器发送数据。</li></ul><h2 id="SYN-flood攻击"><a href="#SYN-flood攻击" class="headerlink" title="SYN flood攻击"></a>SYN flood攻击</h2><p>在三次握手过程中，服务器发送SYN-ACK之后，收到客户端的ACK之前的TCP连接称为半连接(half-open connect)。此时服务器处于SYN_RCVD状态。当收到ACK后，服务器转入ESTABLISHED态。<br><img src="https://img.51santi.uk/file/028795667155d0c093de4.jpg" alt="028795667155d0c093de4.jpg"></p><p>  SYN攻击就是攻击客户端在短时间内伪造大量不存在的IP地址，向服务器不断发送syn包，服务器回复确认包，并等待客户的确认，由于源地址是不存在的，服务器需要不断的重发直至超时，这些伪造的SYN包将长时间占用未连接队列，正常的SYN请求被丢弃，目标系统运行缓慢，严重者引起网络堵塞甚至系统瘫痪。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//检测是否被Syn攻击</span><br><span class="line">netstat -n -p TCP | grep SYN_RCVD</span><br></pre></td></tr></table></figure><p>  一般较新的TCP&#x2F;IP协议栈都对这一过程进行修正来防范Syn攻击，修改tcp协议实现。主要方法由SynAttackProtect保护机制、SYN cookies技术、增加最大半连接和缩短超时时间等。但是不能完全防范Syn攻击。</p><h2 id="四次挥手"><a href="#四次挥手" class="headerlink" title="四次挥手"></a>四次挥手</h2><p><img src="https://img.51santi.uk/file/d6d1e37adf1f4b9482b21.jpg" alt="d6d1e37adf1f4b9482b21.jpg"></p><ul><li>第一次挥手：client发送一个FIN， seq&#x3D;k，<br>用来关闭client到server的数据传送，client进入FIN_WAIT_1状态；</li><li>第二次挥手：server收到FIN后，发送一个ACK（k+1）给client，确认序列号为收到序号+1（与SYN相同，一个FIN占用一个序号），server进入CLOSE_WAIT状态；</li><li>第三次挥手：server发送一个FIN， seq&#x3D;L，<br>用来关闭server到client的数据传送，server金融LAST_WAIT状态</li><li>第四次挥手：client收到FIN后，client进入TIME_WAIT状态，接着发送一个ACK(L+1)给server，<br>确认序号为收到序号+1，server进入CLOSED状态，完成四次挥手。</li></ul><h3 id="1、为什么建立连接是三次握手，而关闭连接却是四次挥手呢？"><a href="#1、为什么建立连接是三次握手，而关闭连接却是四次挥手呢？" class="headerlink" title="1、为什么建立连接是三次握手，而关闭连接却是四次挥手呢？"></a>1、为什么建立连接是三次握手，而关闭连接却是四次挥手呢？</h3><p>在三次握手是，服务器可以把ACK和SYN（ACK起应答作用，而SYN起同步作用）放在一个报文里来发送，但是四次挥手时，服务端发送的FIN与ACK是分开发送的。</p><p>如果已经建立了连接，但是客户端突然出现故障了怎么办？</p><p>TCP还设有一个保活计时器，显然，客户端如果出现故障，服务器不能一直等下去，白白浪费资源。服务器每收到一次客户端的请求后都会重新复位这个计时器，时间通常是设置为2小时，若两小时还没有收到客户端的任何数据，服务器就会发送一个探测报文段，以后每隔75秒钟发送一次。若一连发送10个探测报文仍然没反应，服务器就认为客户端出了故障，接着就关闭连接。</p><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>搭建hexo博客</title>
      <link href="/2024/07/18/%E6%90%AD%E5%BB%BAhexo%E5%8D%9A%E5%AE%A2/"/>
      <url>/2024/07/18/%E6%90%AD%E5%BB%BAhexo%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<p>本文详细介绍了如何使用Hexo框架搭建一个个人博客，并将其部署到 GitHub Pages和Cloudflare Pages上。主要内容包括：</p><ul><li>环境准备：安装 Node.js和 Git</li><li>配置Git和GitHub：设置SSH密钥，创建GitHub仓库</li><li>初始化Hexo项目：安装Hexo，创建新博客</li><li>部署到 GitHub Pages：配置部署设置，推送静态文件</li><li>部署到Cloudflare Pages：连接GitHub仓库，自动部署</li><li>基本使用方法：创建新文章，本地预览，发布更新</li></ul><p>这个教程适合那些想要快速搭建个人博客，但又不想花费太多成本的人。通过使用Hexo、 GitHub和Cloudflare的免费服务，您可以轻松创建一个高效、简洁的博客网站。</p><h2 id="1-事前准备"><a href="#1-事前准备" class="headerlink" title="1.事前准备"></a>1.事前准备</h2><ul><li>域名（非必须，你也可以使用免费域名，或者GitHub.io或Pages.dev分配的域名也可以）</li><li>GitHub（必须，你需要注册一个GitHub帐号）</li><li>Cloudflare（非必须，你需要注册一个Cloudflare帐号，这样你就可以将博客部署在CF的CDN里加速，但是你也可以直接使用GitHub.io分配的域名）</li></ul><h2 id="2-软件支持"><a href="#2-软件支持" class="headerlink" title="2.软件支持"></a>2.软件支持</h2><ul><li>Node（必须）</li><li>Git（必须）</li><li>VSCode（非必须，款轻量型的IDE）</li></ul><h3 id="2-1安装node"><a href="#2-1安装node" class="headerlink" title="2.1安装node"></a>2.1安装node</h3><ul><li>打开Node官网，下载和自己系统相配的Node的安装程序，否则会出现安装问题。下载地址：<a href="https://nodejs.org/en">https://nodejs.org/en</a></li><li>下载后安装，安装的目录可以使用默认目录C:&#x2F;Program Files&#x2F;nodejs&#x2F;</li><li>安装完成后，检查是否安装成功。在键盘按下win + R键，输入CMD，然后回车，打开CMD窗口，执行node -v命令，看到版本信息，则说明安装成功。</li><li>修改npm源。npm下载各种模块，默认是从国处服务器下载，速度较慢，建议配置成华为云镜像源。打开CMD窗口，运行如下命令:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry https://mirrors.huaweicloud.com/repository/npm/</span><br></pre></td></tr></table></figure></li></ul><h3 id="2-2安装GIT"><a href="#2-2安装GIT" class="headerlink" title="2.2安装GIT"></a>2.2安装GIT</h3><ul><li>进入官网下载适合你当前系统的 Git：<a href="https://git-scm.com/downloads">https://git-scm.com/downloads</a></li><li>下载后傻瓜式安装Git即可，安装的目录最好使用默认目录C:&#x2F;Program Files&#x2F;Git</li><li>点击电脑左下角开始即可看见Git Bash（建议使用。</li></ul><h2 id="3-配置-Git-密钥并连接至-Github"><a href="#3-配置-Git-密钥并连接至-Github" class="headerlink" title="3.配置 Git 密钥并连接至 Github"></a>3.配置 Git 密钥并连接至 Github</h2><p>常用 Git 命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config -l  //查看所有配置</span><br><span class="line">git config --system --list //查看系统配置</span><br><span class="line">git config --global --list //查看用户（全局）配置</span><br></pre></td></tr></table></figure><h3 id="3-1-配置用户名和邮箱"><a href="#3-1-配置用户名和邮箱" class="headerlink" title="3.1. 配置用户名和邮箱"></a>3.1. 配置用户名和邮箱</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;你的用户名&quot;</span><br><span class="line">git config --global user.email &quot;你的邮箱&quot;</span><br></pre></td></tr></table></figure><p>通过git config -l 检查是否配置成功。<br><img src="https://img.51santi.uk/file/be7347836e9e2e2f8271c.jpg" alt="be7347836e9e2e2f8271c.jpg"></p><h3 id="3-2-配置公钥连接Github"><a href="#3-2-配置公钥连接Github" class="headerlink" title="3.2. 配置公钥连接Github"></a>3.2. 配置公钥连接Github</h3><ol><li>执行以下命令生成ssh公钥，此公钥用于你的计算机连接Github<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;你的邮箱&quot;</span></span><br></pre></td></tr></table></figure>提示Enter file in which to save the key直接一路回车即可，新手小白不推荐设置密钥<br><img src="https://img.51santi.uk/file/d9481254265c914c89649.jpg" alt="d9481254265c914c89649.jpg"></li></ol><p>之后打开C盘下用户文件夹下的.ssh的文件夹，会看到以下文件</p><ul><li>id_rsa私钥</li><li>id_rsa.pub公钥</li></ul><p><img src="https://img.51santi.uk/file/20b5d0171147ad6d5bc78.jpg" alt="20b5d0171147ad6d5bc78.jpg"><br>用记事本打开上述图片中的公钥id_rsa.pub，复制里面的内容，然后开始在github中配置ssh密钥。<br><img src="https://img.51santi.uk/file/4eedc9e221a44aa536731.jpg" alt="4eedc9e221a44aa536731.jpg"></p><ol start="2"><li>将 SSH KEY 配置到 GitHub<br>进入github，点击右上角头像 选择settings，进入设置页后选择 SSH and GPG keys，名字随便起，公钥填到Key那一栏。<br><img src="https://img.51santi.uk/file/59e52fba976bf1331b7ba.jpg" alt="59e52fba976bf1331b7ba.jpg"><br><img src="https://img.51santi.uk/file/b85b1a94530631ae2a9fb.jpg" alt="b85b1a94530631ae2a9fb.jpg"><br><img src="https://img.51santi.uk/file/7d317076eb02afa508f33.jpg" alt="7d317076eb02afa508f33.jpg"></li><li>测试连接，输入以下命令<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure>第一次连接会提示Are you sure you want to continue connecting (yes&#x2F;no&#x2F;[fingerprint])?，输入yes即可<br><img src="https://img.51santi.uk/file/7ebb59811f7c3e92dedf4.jpg" alt="7ebb59811f7c3e92dedf4.jpg"><br>出现连接到账户的信息，说明已经大功告成，至此完成了环境准备工作。<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hi jhonsnow123! You&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure></li></ol><h3 id="3-3-配置公钥连接Github"><a href="#3-3-配置公钥连接Github" class="headerlink" title="3.3. 配置公钥连接Github"></a>3.3. 配置公钥连接Github</h3><ol><li>点击右上角的+按钮，选择New repository，创建一个&lt;用户名&gt;.github.io的仓库。</li><li>仓库名字的格式必须为：&lt;用户名&gt;.github.io (注意：前缀必须为用户名，此为预览博客需要，后期可修改仓库名)</li><li>可见性必须选择 Public 方便第一次部署检查问题，点击 Creat repository 进行创建即可<br>  <img src="https://img.51santi.uk/file/109388de5059022cfd5a5.jpg" alt="109388de5059022cfd5a5.jpg"></li></ol><h2 id="4-初始化-Hexo-博客"><a href="#4-初始化-Hexo-博客" class="headerlink" title="4.初始化 Hexo 博客"></a>4.初始化 Hexo 博客</h2><ol><li>创建一个文件夹来保存博客源码（我这里选的路径为D:&#x2F;Hexo-Blog），在文件夹内右键鼠标，选择Open Git Bash here<br>  <img src="https://img.51santi.uk/file/e273c710e4b9a7849da67.jpg" alt="e273c710e4b9a7849da67.jpg"></li><li>在Git BASH输入如下命令安装 Hexo  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli &amp;&amp; hexo -v</span><br></pre></td></tr></table></figure>  <img src="https://img.51santi.uk/file/6c2c6db7615e5a8ac9fcc.jpg" alt="6c2c6db7615e5a8ac9fcc.jpg"></li><li>安装完后输入hexo -v验证是否安装成功。<br><img src="https://img.51santi.uk/file/2e0d3a0f71726e651209c.jpg" alt="2e0d3a0f71726e651209c.jpg"></li></ol><p>  4.初始化 Hexo 项目安装相关依赖。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init blog-demo</span><br><span class="line">cd blog-demo</span><br><span class="line">npm i</span><br></pre></td></tr></table></figure><p><img src="https://img.51santi.uk/file/fe4a3d5f5c65d5ed466b9.jpg" alt="fe4a3d5f5c65d5ed466b9.jpg"><br> 5. 初始化项目后，blog-demo有如下结构：<br> <img src="https://img.51santi.uk/file/69eccf0a00005d2bacaff.png" alt="69eccf0a00005d2bacaff.png"></p><ul><li>node_modules：依赖包</li><li>scaffolds：生成文章的一些模板</li><li>source：用来存放你的文章</li><li>themes：主题</li><li>.npmignore：发布时忽略的文件（可忽略）</li><li>_config.landscape.yml：主题的配置文件</li><li>config.yml：博客的配置文件</li><li>package.json：项目名称、描述、版本、运行和开发等信</li></ul><ol start="6"><li><p>输入hexo cl &amp;&amp; hexo s启动项目<br> <img src="https://img.51santi.uk/file/360189db8aa027efce4ad.png" alt="360189db8aa027efce4ad.png"></p></li><li><p>打开浏览器，输入地址：<a href="http://localhost:4000/">http://localhost:4000/</a> ，看到下面的效果，说明你的博客已经构建成功了。<br>  <img src="https://img.51santi.uk/file/dbee2ccb55ce155b988d4.png" alt="dbee2ccb55ce155b988d4.png"></p></li></ol><h2 id="5-将静态博客挂载到-GitHub-Pages"><a href="#5-将静态博客挂载到-GitHub-Pages" class="headerlink" title="5.将静态博客挂载到 GitHub Pages"></a>5.将静态博客挂载到 GitHub Pages</h2><ol><li>安装 hexo-deployer-git   <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></li><li>修改 _config.yml 文件<br>在blog-demo目录下的_config.yml，就是整个Hexo框架的配置文件了。可以在里面修改大部分的配置。详细可参考官方的配置描述。<br>修改最后一行的配置，将repository修改为你自己的github项目地址即可，还有分支要改为main代表主分支（注意缩进）。 <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">git</span></span><br><span class="line"><span class="attr">repository:</span> <span class="string">git@github.com:jhonsnow123/jhonsnow123.github.io.git</span></span><br><span class="line"><span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure></li><li>修改好配置后，运行如下命令，将代码部署到 GitHub（Hexo三连）。 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// Git BASH终端</span><br><span class="line">hexo clean &amp;&amp; hexo generate &amp;&amp; hexo deploy  </span><br><span class="line"></span><br><span class="line">// 或者</span><br><span class="line"></span><br><span class="line">// VSCODE终端</span><br><span class="line">hexo cl; hexo g; hexo d</span><br></pre></td></tr></table></figure></li></ol><ul><li>hexo clean：删除之前生成的文件，可以用hexo cl缩写。</li><li>hexo generate：生成静态文章，可以用hexo g缩写</li><li>hexo deploy：部署文章，可以用hexo d缩写<br><img src="https://img.51santi.uk/file/da69c2d2fafa56b39eeeb.png" alt="da69c2d2fafa56b39eeeb.png"><br>注意：deploy时可能要你输入 username 和 password。<br>如果出现Deploy done，则说明部署成功了。<br><img src="https://img.51santi.uk/file/f419ab7e0cdbf6b32ab8a.png" alt="f419ab7e0cdbf6b32ab8a.png"><br>等两分钟，打开浏览器访问：<a href="https://jhonsnow123.github.io/">https://jhonsnow123.github.io</a> ，这时候我们就可以看到博客内容了。</li></ul><h2 id="6-将静态博客挂载到-Cloudflare-Pages"><a href="#6-将静态博客挂载到-Cloudflare-Pages" class="headerlink" title="6.将静态博客挂载到 Cloudflare Pages"></a>6.将静态博客挂载到 Cloudflare Pages</h2><ol><li><p>在 Workers 和 Pages 中选择 Pages 的 连接到 Git<br><img src="https://img.51santi.uk/file/3d24654e2243d1cc773bf.png" alt="3d24654e2243d1cc773bf.png"><br><img src="https://img.51santi.uk/file/ca8e35be8f87cf1863395.png" alt="ca8e35be8f87cf1863395.png"></p></li><li><p>然后登录你Blog仓库对应的GitHub帐号<br><img src="https://img.51santi.uk/file/0ab0525b0c3e0d298533d.png" alt="0ab0525b0c3e0d298533d.png"><br><img src="https://img.51santi.uk/file/d295b4b025a9ad1259a0c.png" alt="d295b4b025a9ad1259a0c.png"></p></li><li><p>点击保存并部署后等待部署完成即可。<br><img src="https://img.51santi.uk/file/68f8d149df486882735d8.png" alt="68f8d149df486882735d8.png"></p></li><li><p>提示成功！您的项目已部署到以下区域：全球后，浏览器访问：<a href="https://jhonsnow123-github-io.pages.dev/">https://jhonsnow123-github-io.pages.dev</a> ，这时候我们就可以看到博客内容了。<br><img src="https://img.51santi.uk/file/f999ae4939ad77dcc39a7.png" alt="f999ae4939ad77dcc39a7.png"><br>这时你也就可以将你的&lt;用户名&gt;.github.io的仓库设置为Private私库了</p></li><li><p>如果你有自己的域名，你可以在这里绑定你自己的自定义域，即可<br><img src="https://img.51santi.uk/file/75e79412cf72404a90f58.png" alt="75e79412cf72404a90f58.png"><br><img src="https://img.51santi.uk/file/3f28706ab930b9d2dc6c7.png" alt="3f28706ab930b9d2dc6c7.png"></p></li></ol><h1 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h1><h2 id="1-新建一篇博文"><a href="#1-新建一篇博文" class="headerlink" title="1.新建一篇博文"></a>1.新建一篇博文</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new &quot;新博文&quot;</span><br></pre></td></tr></table></figure><p>然后用文本编辑器去编辑_posts&#x2F;新博文文.md里的内容即可，注意要使用Markdown格式书写。<br>详细使用方法可以查阅 <a href="https://hexo.io/zh-cn/docs/writing">https://hexo.io/zh-cn/docs/writing</a></p><h2 id="2-编辑完文章保存后可以使用如下命令，生成本地页面-http-localhost-4000-，进行预览"><a href="#2-编辑完文章保存后可以使用如下命令，生成本地页面-http-localhost-4000-，进行预览" class="headerlink" title="2.编辑完文章保存后可以使用如下命令，生成本地页面 http://localhost:4000/ ，进行预览"></a>2.编辑完文章保存后可以使用如下命令，生成本地页面 <a href="http://localhost:4000/">http://localhost:4000/</a> ，进行预览</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// Git BASH终端</span><br><span class="line">hexo cl &amp;&amp; hexo s</span><br><span class="line"></span><br><span class="line">// 或者</span><br><span class="line"></span><br><span class="line">// VSCODE终端</span><br><span class="line">hexo cl; hexo s</span><br></pre></td></tr></table></figure><h2 id="3-确认无误后使用以下命令，将本地文章推送至GitHub仓库即可"><a href="#3-确认无误后使用以下命令，将本地文章推送至GitHub仓库即可" class="headerlink" title="3.确认无误后使用以下命令，将本地文章推送至GitHub仓库即可"></a>3.确认无误后使用以下命令，将本地文章推送至GitHub仓库即可</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// Git BASH终端</span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo d</span><br><span class="line"></span><br><span class="line">// 或者</span><br><span class="line"></span><br><span class="line">// VSCODE终端</span><br><span class="line">hexo cl; hexo g; hexo d</span><br></pre></td></tr></table></figure><h2 id="4-常见问题"><a href="#4-常见问题" class="headerlink" title="4.常见问题"></a>4.常见问题</h2><p> github访问超时问题。如图<br> <img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAMsZ4tcE7zkY9GPqLKKIcqGht7n3LUAAgzCMRuMhVlUmdmgbxwDpRcBAAMCAAN5AAM2BA" alt="giterror_2025-01-18_15-44-19.png"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">FATAL Something&#x27;s wrong. Maybe you can find the solution here: https://hexo.io/docs/troubleshooting.html</span><br><span class="line">Error: Spawn failed</span><br><span class="line">    at ChildProcess.&lt;anonymous&gt; (C:\software\jhonsnowBlog\jhonsnow123.github.io\node_modules\hexo-deployer-git\node_modules\hexo-util\lib\spawn.js:51:21)</span><br><span class="line">    at ChildProcess.emit (node:events:519:28)</span><br><span class="line">    at cp.emit (C:\software\jhonsnowBlog\jhonsnow123.github.io\node_modules\cross-spawn\lib\enoent.js:34:29)</span><br><span class="line">    at ChildProcess._handle.onexit (node:internal/child_process:294:12)</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br><span class="line">ssh: connect to host github.com port 22: Connection timed out</span><br></pre></td></tr></table></figure><p>这个错误，这通常意味着有些东西阻止了你的连接。下面是一些建议的解决步骤：<br>端口阻塞：某些网络或ISP可能会阻塞SSH的默认端口（22）。尝试使用443端口连接到GitHub：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T -p 443 git@ssh.github.com</span><br></pre></td></tr></table></figure><p>如果这成功了，你可以考虑永久地更改你的SSH配置以使用443端口。打开或创建文件 ~&#x2F;.ssh&#x2F;config<br><img src="https://pic.51santi.uk/api/cfile/AgACAgUAAyEGAASQGKXDAAMtZ4uUehxd0V-iKwaWAhtyjCQKJ2wAAm3CMRuMhVlUko1-oFLMXn8BAAMCAAN4AAM2BA" alt="image.png"></p><p> 文件中添加以下内容<br> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Add section below to it</span></span><br><span class="line">Host github.com</span><br><span class="line">  Hostname ssh.github.com</span><br><span class="line">  Port 443</span><br></pre></td></tr></table></figure><br>再次测试连接</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C:\software\jhonsnowBlog\jhonsnow123.github.io&gt; ssh -T git@github.com</span><br><span class="line">Hi jhonsnow123! You&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure><div class="video-container">[up主专用，视频内嵌代码贴在这]</div><style>.video-container {    position: relative;    width: 100%;    padding-top: 56.25%; /* 16:9 aspect ratio (height/width = 9/16 * 100%) */}.video-container iframe {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;}</style>]]></content>
      
      
      <categories>
          
          <category> 技术分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 经验分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo doc</title>
      <link href="/2024/07/18/Hexo-doc/"/>
      <url>/2024/07/18/Hexo-doc/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>基本资源分享</title>
      <link href="/2024/07/06/%E5%9F%BA%E6%9C%AC%E8%B5%84%E6%BA%90%E5%88%86%E4%BA%AB/"/>
      <url>/2024/07/06/%E5%9F%BA%E6%9C%AC%E8%B5%84%E6%BA%90%E5%88%86%E4%BA%AB/</url>
      
        <content type="html"><![CDATA[<h1 id="记录生活的点点滴滴"><a href="#记录生活的点点滴滴" class="headerlink" title="记录生活的点点滴滴"></a>记录生活的点点滴滴</h1><h3 id="用大自然的语言书写人生信条"><a href="#用大自然的语言书写人生信条" class="headerlink" title="用大自然的语言书写人生信条"></a>用大自然的语言书写人生信条</h3><p>More info: <a href="https://blog.090227.xyz/p/HexoBlogNo1/">Writing</a></p><p><img src="https://img1.131213.xyz/file/c81ff84e86e7deda73c89.jpg" alt="c81ff84e86e7deda73c89.jpg"></p><h1 id="推荐素材网址"><a href="#推荐素材网址" class="headerlink" title="推荐素材网址"></a>推荐素材网址</h1><ul><li><p>无版权可商用的图片网站1：<a href="https://pixabay.com/">https://pixabay.com/</a></p></li><li><p>无版权可商用的图片网站2：<a href="https://www.pexels.com/">https://www.pexels.com/</a></p></li><li><p>无版权可商用的图片网站3：<a href="https://unsplash.com/">https://unsplash.com/</a></p></li><li><p>阿里图标库：<a href="https://www.iconfont.cn/">https://www.iconfont.cn/</a></p></li><li><p>fontawesome图标库：<a href="https://fontawesome.com/">https://fontawesome.com/</a></p></li><li><p>水印去除：<a href="https://huggingface.co/spaces/Sanster/Lama-Cleaner-lama">https://huggingface.co/spaces/Sanster/Lama-Cleaner-lama</a></p></li></ul><h1 id="文档地址"><a href="#文档地址" class="headerlink" title="文档地址"></a>文档地址</h1><ul><li>安知鱼文档：<a href="https://docs.anheyu.com/">https://docs.anheyu.com/</a></li></ul><h1 id="技术工具地址"><a href="#技术工具地址" class="headerlink" title="技术工具地址"></a>技术工具地址</h1><ul><li>IDEA&#x2F;常用工具网站：<a href="https://33tool.com/idea/">https://33tool.com/idea/</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 经验分享 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
